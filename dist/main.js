(()=>{var Ou=Object.create;var La=Object.defineProperty;var Du=Object.getOwnPropertyDescriptor;var Pu=Object.getOwnPropertyNames;var Nu=Object.getPrototypeOf,Fu=Object.prototype.hasOwnProperty;var vn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),zu=(e,t)=>{for(var d in t)La(e,d,{get:t[d],enumerable:!0})},Bu=(e,t,d,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let m of Pu(t))!Fu.call(e,m)&&m!==d&&La(e,m,{get:()=>t[m],enumerable:!(p=Du(t,m))||p.enumerable});return e};var yn=(e,t,d)=>(d=e!=null?Ou(Nu(e)):{},Bu(t||!e||!e.__esModule?La(d,"default",{value:e,enumerable:!0}):d,e));var mc=vn((bs,Yn)=>{(function(e){"use strict";var t=e.setTimeout,d=e.clearTimeout,p=e.XMLHttpRequest,m=e.XDomainRequest,h=e.ActiveXObject,s=e.EventSource,c=e.document,o=e.Promise,i=e.fetch,r=e.Response,a=e.TextDecoder,n=e.TextEncoder,l=e.AbortController;if(typeof window<"u"&&typeof c<"u"&&!("readyState"in c)&&c.body==null&&(c.readyState="loading",window.addEventListener("load",function(H){c.readyState="complete"},!1)),p==null&&h!=null&&(p=function(){return new h("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(H){function J(){}return J.prototype=H,new J}),Date.now||(Date.now=function(){return new Date().getTime()}),l==null){var u=i;i=function(H,J){var at=J.signal;return u(H,{headers:J.headers,credentials:J.credentials,cache:J.cache}).then(function(tt){var ct=tt.body.getReader();return at._reader=ct,at._aborted&&at._reader.cancel(),{status:tt.status,statusText:tt.statusText,headers:tt.headers,body:{getReader:function(){return ct}}}})},l=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(H){function J(ht,j,K){if(K===1)return ht>=128>>j&&ht<<j<=2047;if(K===2)return ht>=2048>>j&&ht<<j<=55295||ht>=57344>>j&&ht<<j<=65535;if(K===3)return ht>=65536>>j&&ht<<j<=1114111;throw new Error}function at(ht,j){if(ht===6*1)return j>>6>15?3:j>31?2:1;if(ht===6*2)return j>15?3:2;if(ht===6*3)return 3;throw new Error}for(var tt=65533,ct="",Y=this.bitsNeeded,G=this.codePoint,st=0;st<H.length;st+=1){var it=H[st];Y!==0&&(it<128||it>191||!J(G<<6|it&63,Y-6,at(Y,G)))&&(Y=0,G=tt,ct+=String.fromCharCode(G)),Y===0?(it>=0&&it<=127?(Y=0,G=it):it>=192&&it<=223?(Y=6*1,G=it&31):it>=224&&it<=239?(Y=6*2,G=it&15):it>=240&&it<=247?(Y=6*3,G=it&7):(Y=0,G=tt),Y!==0&&!J(G,Y,at(Y,G))&&(Y=0,G=tt)):(Y-=6,G=G<<6|it&63),Y===0&&(G<=65535?ct+=String.fromCharCode(G):(ct+=String.fromCharCode(55296+(G-65535-1>>10)),ct+=String.fromCharCode(56320+(G-65535-1&1023))))}return this.bitsNeeded=Y,this.codePoint=G,ct};var v=function(){try{return new a().decode(new n().encode("test"),{stream:!0})==="test"}catch(H){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+H)}return!1};(a==null||n==null||!v())&&(a=g);var E=function(){};function x(H){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=E,this.onload=E,this.onerror=E,this.onreadystatechange=E,this._contentType="",this._xhr=H,this._sendTimeout=0,this._abort=E}x.prototype.open=function(H,J){this._abort(!0);var at=this,tt=this._xhr,ct=1,Y=0;this._abort=function(K){at._sendTimeout!==0&&(d(at._sendTimeout),at._sendTimeout=0),(ct===1||ct===2||ct===3)&&(ct=4,tt.onload=E,tt.onerror=E,tt.onabort=E,tt.onprogress=E,tt.onreadystatechange=E,tt.abort(),Y!==0&&(d(Y),Y=0),K||(at.readyState=4,at.onabort(null),at.onreadystatechange())),ct=0};var G=function(){if(ct===1){var K=0,rt="",ft=void 0;if("contentType"in tt)K=200,rt="OK",ft=tt.contentType;else try{K=tt.status,rt=tt.statusText,ft=tt.getResponseHeader("Content-Type")}catch{K=0,rt="",ft=void 0}K!==0&&(ct=2,at.readyState=2,at.status=K,at.statusText=rt,at._contentType=ft,at.onreadystatechange())}},st=function(){if(G(),ct===2||ct===3){ct=3;var K="";try{K=tt.responseText}catch{}at.readyState=3,at.responseText=K,at.onprogress()}},it=function(K,rt){if((rt==null||rt.preventDefault==null)&&(rt={preventDefault:E}),st(),ct===1||ct===2||ct===3){if(ct=4,Y!==0&&(d(Y),Y=0),at.readyState=4,K==="load")at.onload(rt);else if(K==="error")at.onerror(rt);else if(K==="abort")at.onabort(rt);else throw new TypeError;at.onreadystatechange()}},ht=function(K){tt!=null&&(tt.readyState===4?(!("onload"in tt)||!("onerror"in tt)||!("onabort"in tt))&&it(tt.responseText===""?"error":"load",K):tt.readyState===3?"onprogress"in tt||st():tt.readyState===2&&G())},j=function(){Y=t(function(){j()},500),tt.readyState===3&&st()};"onload"in tt&&(tt.onload=function(K){it("load",K)}),"onerror"in tt&&(tt.onerror=function(K){it("error",K)}),"onabort"in tt&&(tt.onabort=function(K){it("abort",K)}),"onprogress"in tt&&(tt.onprogress=st),"onreadystatechange"in tt&&(tt.onreadystatechange=function(K){ht(K)}),("contentType"in tt||!("ontimeout"in p.prototype))&&(J+=(J.indexOf("?")===-1?"?":"&")+"padding=true"),tt.open(H,J,!0),"readyState"in tt&&(Y=t(function(){j()},0))},x.prototype.abort=function(){this._abort(!1)},x.prototype.getResponseHeader=function(H){return this._contentType},x.prototype.setRequestHeader=function(H,J){var at=this._xhr;"setRequestHeader"in at&&at.setRequestHeader(H,J)},x.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},x.prototype.send=function(){if((!("ontimeout"in p.prototype)||!("sendAsBinary"in p.prototype)&&!("mozAnon"in p.prototype))&&c!=null&&c.readyState!=null&&c.readyState!=="complete"){var H=this;H._sendTimeout=t(function(){H._sendTimeout=0,H.send()},4);return}var J=this._xhr;"withCredentials"in J&&(J.withCredentials=this.withCredentials);try{J.send(void 0)}catch(at){throw at}};function A(H){return H.replace(/[A-Z]/g,function(J){return String.fromCharCode(J.charCodeAt(0)+32)})}function S(H){for(var J=Object.create(null),at=H.split(`\r
`),tt=0;tt<at.length;tt+=1){var ct=at[tt],Y=ct.split(": "),G=Y.shift(),st=Y.join(": ");J[A(G)]=st}this._map=J}S.prototype.get=function(H){return this._map[A(H)]},p!=null&&p.HEADERS_RECEIVED==null&&(p.HEADERS_RECEIVED=2);function f(){}f.prototype.open=function(H,J,at,tt,ct,Y,G){H.open("GET",ct);var st=0;H.onprogress=function(){var ht=H.responseText,j=ht.slice(st);st+=j.length,at(j)},H.onerror=function(ht){ht.preventDefault(),tt(new Error("NetworkError"))},H.onload=function(){tt(null)},H.onabort=function(){tt(null)},H.onreadystatechange=function(){if(H.readyState===p.HEADERS_RECEIVED){var ht=H.status,j=H.statusText,K=H.getResponseHeader("Content-Type"),rt=H.getAllResponseHeaders();J(ht,j,K,new S(rt))}},H.withCredentials=Y;for(var it in G)Object.prototype.hasOwnProperty.call(G,it)&&H.setRequestHeader(it,G[it]);return H.send(),H};function L(H){this._headers=H}L.prototype.get=function(H){return this._headers.get(H)};function $(){}$.prototype.open=function(H,J,at,tt,ct,Y,G){var st=null,it=new l,ht=it.signal,j=new a;return i(ct,{headers:G,credentials:Y?"include":"same-origin",signal:ht,cache:"no-store"}).then(function(K){return st=K.body.getReader(),J(K.status,K.statusText,K.headers.get("Content-Type"),new L(K.headers)),new o(function(rt,ft){var xt=function(){st.read().then(function($t){if($t.done)rt(void 0);else{var Mt=j.decode($t.value,{stream:!0});at(Mt),xt()}}).catch(function($t){ft($t)})};xt()})}).catch(function(K){if(K.name!=="AbortError")return K}).then(function(K){tt(K)}),{abort:function(){st?.cancel(),it.abort()}}};function C(){this._listeners=Object.create(null)}function _(H){t(function(){throw H},0)}C.prototype.dispatchEvent=function(H){H.target=this;var J=this._listeners[H.type];if(J!=null)for(var at=J.length,tt=0;tt<at;tt+=1){var ct=J[tt];try{typeof ct.handleEvent=="function"?ct.handleEvent(H):ct.call(this,H)}catch(Y){_(Y)}}},C.prototype.addEventListener=function(H,J){H=String(H);var at=this._listeners,tt=at[H];tt==null&&(tt=[],at[H]=tt);for(var ct=!1,Y=0;Y<tt.length;Y+=1)tt[Y]===J&&(ct=!0);ct||tt.push(J)},C.prototype.removeEventListener=function(H,J){H=String(H);var at=this._listeners,tt=at[H];if(tt!=null){for(var ct=[],Y=0;Y<tt.length;Y+=1)tt[Y]!==J&&ct.push(tt[Y]);ct.length===0?delete at[H]:at[H]=ct}};function y(H){this.type=H,this.target=void 0}function w(H,J){y.call(this,H),this.data=J.data,this.lastEventId=J.lastEventId}w.prototype=Object.create(y.prototype);function b(H,J){y.call(this,H),this.status=J.status,this.statusText=J.statusText,this.headers=J.headers}b.prototype=Object.create(y.prototype);function k(H,J){y.call(this,H),this.error=J.error}k.prototype=Object.create(y.prototype);var T=-1,M=0,R=1,I=2,D=-1,O=0,N=1,P=2,F=3,z=/^text\/event\-stream(;.*)?$/i,U=1e3,W=18e6,q=function(H,J){var at=H==null?J:parseInt(H,10);return at!==at&&(at=J),X(at)},X=function(H){return Math.min(Math.max(H,U),W)},Z=function(H,J,at){try{typeof J=="function"&&J.call(H,at)}catch(tt){_(tt)}};function nt(H,J){C.call(this),J=J||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Et(this,H,J)}function ot(){return p!=null&&"withCredentials"in p.prototype||m==null?new p:new m}var yt=i!=null&&r!=null&&"body"in r.prototype;function Et(H,J,at){J=String(J);var tt=!!at.withCredentials,ct=at.lastEventIdQueryParameterName||"lastEventId",Y=X(1e3),G=q(at.heartbeatTimeout,45e3),st="",it=Y,ht=!1,j=0,K=at.headers||{},rt=at.Transport,ft=yt&&rt==null?void 0:new x(rt!=null?new rt:ot()),xt=rt!=null&&typeof rt!="string"?new rt:ft==null?new $:new f,$t=void 0,Mt=0,It=T,Ot="",At="",Gt="",Ze="",pe=O,Ti=0,qe=0,Se=function(ue,oe,Qt,_e){if(It===M)if(ue===200&&Qt!=null&&z.test(Qt)){It=R,ht=Date.now(),it=Y,H.readyState=R;var he=new b("open",{status:ue,statusText:oe,headers:_e});H.dispatchEvent(he),Z(H,H.onopen,he)}else{var ie="";ue!==200?(oe&&(oe=oe.replace(/\s+/g," ")),ie="EventSource's response has a status "+ue+" "+oe+" that is not 200. Aborting the connection."):ie="EventSource's response has a Content-Type specifying an unsupported type: "+(Qt==null?"-":Qt.replace(/\s+/g," "))+". Aborting the connection.",Ci();var he=new b("error",{status:ue,statusText:oe,headers:_e});H.dispatchEvent(he),Z(H,H.onerror,he),console.error(ie)}},go=function(ue){if(It===R){for(var oe=-1,Qt=0;Qt<ue.length;Qt+=1){var _e=ue.charCodeAt(Qt);(_e===10||_e===13)&&(oe=Qt)}var he=(oe!==-1?Ze:"")+ue.slice(0,oe+1);Ze=(oe===-1?Ze:"")+ue.slice(oe+1),ue!==""&&(ht=Date.now(),j+=ue.length);for(var ie=0;ie<he.length;ie+=1){var _e=he.charCodeAt(ie);if(pe===D&&_e===10)pe=O;else if(pe===D&&(pe=O),_e===13||_e===10){if(pe!==O){pe===N&&(qe=ie+1);var pr=he.slice(Ti,qe-1),ur=he.slice(qe+(qe<ie&&he.charCodeAt(qe)===32?1:0),ie);pr==="data"?(Ot+=`
`,Ot+=ur):pr==="id"?At=ur:pr==="event"?Gt=ur:pr==="retry"?(Y=q(ur,Y),it=Y):pr==="heartbeatTimeout"&&(G=q(ur,G),Mt!==0&&(d(Mt),Mt=t(function(){bo()},G)))}if(pe===O){if(Ot!==""){st=At,Gt===""&&(Gt="message");var Zr=new w(Gt,{data:Ot.slice(1),lastEventId:At});if(H.dispatchEvent(Zr),Gt==="open"?Z(H,H.onopen,Zr):Gt==="message"?Z(H,H.onmessage,Zr):Gt==="error"&&Z(H,H.onerror,Zr),It===I)return}Ot="",Gt=""}pe=_e===13?D:O}else pe===O&&(Ti=ie,pe=N),pe===N?_e===58&&(qe=ie+1,pe=P):pe===P&&(pe=F)}}},Wo=function(ue){if(It===R||It===M){It=T,Mt!==0&&(d(Mt),Mt=0),Mt=t(function(){bo()},it),it=X(Math.min(Y*16,it*2)),H.readyState=M;var oe=new k("error",{error:ue});H.dispatchEvent(oe),Z(H,H.onerror,oe),ue!=null&&console.error(ue)}},Ci=function(){It=I,$t!=null&&($t.abort(),$t=void 0),Mt!==0&&(d(Mt),Mt=0),H.readyState=I},bo=function(){if(Mt=0,It!==T){if(!ht&&$t!=null)Wo(new Error("No activity within "+G+" milliseconds. "+(It===M?"No response received.":j+" chars received.")+" Reconnecting.")),$t!=null&&($t.abort(),$t=void 0);else{var ue=Math.max((ht||Date.now())+G-Date.now(),1);ht=!1,Mt=t(function(){bo()},ue)}return}ht=!1,j=0,Mt=t(function(){bo()},G),It=M,Ot="",Gt="",At=st,Ze="",Ti=0,qe=0,pe=O;var oe=J;if(J.slice(0,5)!=="data:"&&J.slice(0,5)!=="blob:"&&st!==""){var Qt=J.indexOf("?");oe=Qt===-1?J:J.slice(0,Qt+1)+J.slice(Qt+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(ur,Zr){return Zr===ct?"":ur}),oe+=(J.indexOf("?")===-1?"?":"&")+ct+"="+encodeURIComponent(st)}var _e=H.withCredentials,he={};he.Accept="text/event-stream";var ie=H.headers;if(ie!=null)for(var pr in ie)Object.prototype.hasOwnProperty.call(ie,pr)&&(he[pr]=ie[pr]);try{$t=xt.open(ft,Se,go,Wo,oe,_e,he)}catch(ur){throw Ci(),ur}};H.url=J,H.readyState=M,H.withCredentials=tt,H.headers=K,H._close=Ci,bo()}nt.prototype=Object.create(C.prototype),nt.prototype.CONNECTING=M,nt.prototype.OPEN=R,nt.prototype.CLOSED=I,nt.prototype.close=function(){this._close()},nt.CONNECTING=M,nt.OPEN=R,nt.CLOSED=I,nt.prototype.withCredentials=void 0;var vt=s;p!=null&&(s==null||!("withCredentials"in s.prototype))&&(vt=nt),function(H){if(typeof Yn=="object"&&typeof Yn.exports=="object"){var J=H(bs);J!==void 0&&(Yn.exports=J)}else typeof define=="function"&&define.amd?define(["exports"],H):H(e)}(function(H){H.EventSourcePolyfill=nt,H.NativeEventSource=s,H.EventSource=vt})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:bs:globalThis)});var gc=vn((fs,vs)=>{var hs,Xn;hs=fs,Xn=function(){"use strict";function e(T,M){var R=Object.keys(T);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(T);M&&(I=I.filter(function(D){return Object.getOwnPropertyDescriptor(T,D).enumerable})),R.push.apply(R,I)}return R}function t(T){for(var M=1;M<arguments.length;M++){var R=arguments[M]!=null?arguments[M]:{};M%2?e(Object(R),!0).forEach(function(I){p(T,I,R[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(R)):e(Object(R)).forEach(function(I){Object.defineProperty(T,I,Object.getOwnPropertyDescriptor(R,I))})}return T}function d(T){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},d(T)}function p(T,M,R){return M in T?Object.defineProperty(T,M,{value:R,enumerable:!0,configurable:!0,writable:!0}):T[M]=R,T}function m(T){return function(M){if(Array.isArray(M))return s(M)}(T)||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(T)||h(T)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(T,M){if(T){if(typeof T=="string")return s(T,M);var R=Object.prototype.toString.call(T).slice(8,-1);return R==="Object"&&T.constructor&&(R=T.constructor.name),R==="Map"||R==="Set"?Array.from(T):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?s(T,M):void 0}}function s(T,M){(M==null||M>T.length)&&(M=T.length);for(var R=0,I=new Array(M);R<M;R++)I[R]=T[R];return I}var c=function(T){return typeof T=="string"?document.querySelector(T):T()},o=function(T,M){var R=typeof T=="string"?document.createElement(T):T;for(var I in M){var D=M[I];if(I==="inside")D.append(R);else if(I==="dest")c(D[0]).insertAdjacentElement(D[1],R);else if(I==="around"){var O=D;O.parentNode.insertBefore(R,O),R.append(O),O.getAttribute("autofocus")!=null&&O.focus()}else I in R?R[I]=D:R.setAttribute(I,D)}return R},i=function(T,M){return T=String(T).toLowerCase(),M?T.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):T},r=function(T,M){return o("mark",t({innerHTML:T},typeof M=="string"&&{class:M})).outerHTML},a=function(T,M){M.input.dispatchEvent(new CustomEvent(T,{bubbles:!0,detail:M.feedback,cancelable:!0}))},n=function(T,M,R){var I=R||{},D=I.mode,O=I.diacritics,N=I.highlight,P=i(M,O);if(M=String(M),T=i(T,O),D==="loose"){var F=(T=T.replace(/ /g,"")).length,z=0,U=Array.from(M).map(function(q,X){return z<F&&P[X]===T[z]&&(q=N?r(q,N):q,z++),q}).join("");if(z===F)return U}else{var W=P.indexOf(T);if(~W)return T=M.substring(W,W+T.length),W=N?M.replace(T,r(T,N)):M}},l=function(T,M){return new Promise(function(R,I){var D;return(D=T.data).cache&&D.store?R():new Promise(function(O,N){return typeof D.src=="function"?D.src(M).then(O,N):O(D.src)}).then(function(O){try{return T.feedback=D.store=O,a("response",T),R()}catch(N){return I(N)}},I)})},u=function(T,M){var R=M.data,I=M.searchEngine,D=[];R.store.forEach(function(N,P){var F=function(W){var q=W?N[W]:N,X=typeof I=="function"?I(T,q):n(T,q,{mode:I,diacritics:M.diacritics,highlight:M.resultItem.highlight});if(X){var Z={match:X,value:N};W&&(Z.key=W),D.push(Z)}};if(R.keys){var z,U=function(W,q){var X=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!X){if(Array.isArray(W)||(X=h(W))||q&&W&&typeof W.length=="number"){X&&(W=X);var Z=0,nt=function(){};return{s:nt,n:function(){return Z>=W.length?{done:!0}:{done:!1,value:W[Z++]}},e:function(vt){throw vt},f:nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ot,yt=!0,Et=!1;return{s:function(){X=X.call(W)},n:function(){var vt=X.next();return yt=vt.done,vt},e:function(vt){Et=!0,ot=vt},f:function(){try{yt||X.return==null||X.return()}finally{if(Et)throw ot}}}}(R.keys);try{for(U.s();!(z=U.n()).done;)F(z.value)}catch(W){U.e(W)}finally{U.f()}}else F()}),R.filter&&(D=R.filter(D));var O=D.slice(0,M.resultsList.maxResults);M.feedback={query:T,matches:D,results:O},a("results",M)},g="aria-expanded",v="aria-activedescendant",E="aria-selected",x=function(T,M){T.feedback.selection=t({index:M},T.feedback.results[M])},A=function(T){T.isOpen||((T.wrapper||T.input).setAttribute(g,!0),T.list.removeAttribute("hidden"),T.isOpen=!0,a("open",T))},S=function(T){T.isOpen&&((T.wrapper||T.input).setAttribute(g,!1),T.input.setAttribute(v,""),T.list.setAttribute("hidden",""),T.isOpen=!1,a("close",T))},f=function(T,M){var R=M.resultItem,I=M.list.getElementsByTagName(R.tag),D=!!R.selected&&R.selected.split(" ");if(M.isOpen&&I.length){var O,N,P=M.cursor;T>=I.length&&(T=0),T<0&&(T=I.length-1),M.cursor=T,P>-1&&(I[P].removeAttribute(E),D&&(N=I[P].classList).remove.apply(N,m(D))),I[T].setAttribute(E,!0),D&&(O=I[T].classList).add.apply(O,m(D)),M.input.setAttribute(v,I[M.cursor].id),M.list.scrollTop=I[T].offsetTop-M.list.clientHeight+I[T].clientHeight+5,M.feedback.cursor=M.cursor,x(M,T),a("navigate",M)}},L=function(T){f(T.cursor+1,T)},$=function(T){f(T.cursor-1,T)},C=function(T,M,R){(R=R>=0?R:T.cursor)<0||(T.feedback.event=M,x(T,R),a("selection",T),S(T))};function _(T,M){var R=this;return new Promise(function(I,D){var O,N;return O=M||((N=T.input)instanceof HTMLInputElement||N instanceof HTMLTextAreaElement?N.value:N.innerHTML),function(F,z,U){return z?z(F):F.length>=U}(O=T.query?T.query(O):O,T.trigger,T.threshold)?l(T,O).then(function(F){try{return T.feedback instanceof Error?I():(u(O,T),T.resultsList&&function(z){var U=z.resultsList,W=z.list,q=z.resultItem,X=z.feedback,Z=X.matches,nt=X.results;if(z.cursor=-1,W.innerHTML="",Z.length||U.noResults){var ot=new DocumentFragment;nt.forEach(function(yt,Et){var vt=o(q.tag,t({id:"".concat(q.id,"_").concat(Et),role:"option",innerHTML:yt.match,inside:ot},q.class&&{class:q.class}));q.element&&q.element(vt,yt)}),W.append(ot),U.element&&U.element(W,X),A(z)}else S(z)}(T),P.call(R))}catch(z){return D(z)}},D):(S(T),P.call(R));function P(){return I()}})}var y=function(T,M){for(var R in T)for(var I in T[R])M(R,I)},w=function(T){var M,R,I,D=T.events,O=(M=function(){return _(T)},R=T.debounce,function(){clearTimeout(I),I=setTimeout(function(){return M()},R)}),N=T.events=t({input:t({},D&&D.input)},T.resultsList&&{list:D?t({},D.list):{}}),P={input:{input:function(){O()},keydown:function(F){(function(z,U){switch(z.keyCode){case 40:case 38:z.preventDefault(),z.keyCode===40?L(U):$(U);break;case 13:U.submit||z.preventDefault(),U.cursor>=0&&C(U,z);break;case 9:U.resultsList.tabSelect&&U.cursor>=0&&C(U,z);break;case 27:U.input.value="",S(U)}})(F,T)},blur:function(){S(T)}},list:{mousedown:function(F){F.preventDefault()},click:function(F){(function(z,U){var W=U.resultItem.tag.toUpperCase(),q=Array.from(U.list.querySelectorAll(W)),X=z.target.closest(W);X&&X.nodeName===W&&C(U,z,q.indexOf(X))})(F,T)}}};y(P,function(F,z){(T.resultsList||z==="input")&&(N[F][z]||(N[F][z]=P[F][z]))}),y(N,function(F,z){T[F].addEventListener(z,N[F][z])})};function b(T){var M=this;return new Promise(function(R,I){var D,O,N;if(D=T.placeHolder,N={role:"combobox","aria-owns":(O=T.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},o(T.input,t(t({"aria-controls":O.id,"aria-autocomplete":"both"},D&&{placeholder:D}),!T.wrapper&&t({},N))),T.wrapper&&(T.wrapper=o("div",t({around:T.input,class:T.name+"_wrapper"},N))),O&&(T.list=o(O.tag,t({dest:[O.destination,O.position],id:O.id,role:"listbox",hidden:"hidden"},O.class&&{class:O.class}))),w(T),T.data.cache)return l(T).then(function(F){try{return P.call(M)}catch(z){return I(z)}},I);function P(){return a("init",T),R()}return P.call(M)})}function k(T){var M=T.prototype;M.init=function(){b(this)},M.start=function(R){_(this,R)},M.unInit=function(){if(this.wrapper){var R=this.wrapper.parentNode;R.insertBefore(this.input,this.wrapper),R.removeChild(this.wrapper)}var I;y((I=this).events,function(D,O){I[D].removeEventListener(O,I.events[D][O])})},M.open=function(){A(this)},M.close=function(){S(this)},M.goTo=function(R){f(R,this)},M.next=function(){L(this)},M.previous=function(){$(this)},M.select=function(R){C(this,null,R)},M.search=function(R,I,D){return n(R,I,D)}}return function T(M){this.options=M,this.id=T.instances=(T.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"},function(R){var I=R.name,D=R.options,O=R.resultsList,N=R.resultItem;for(var P in D)if(d(D[P])==="object")for(var F in R[P]||(R[P]={}),D[P])R[P][F]=D[P][F];else R[P]=D[P];R.selector=R.selector||"#"+I,O.destination=O.destination||R.selector,O.id=O.id||I+"_list_"+R.id,N.id=N.id||I+"_result",R.input=c(R.selector)}(this),k.call(this,T),b(this)}},typeof fs=="object"&&typeof vs<"u"?vs.exports=Xn():typeof define=="function"&&define.amd?define(Xn):(hs=typeof globalThis<"u"?globalThis:hs||self).autoComplete=Xn()});var hc=vn((bc,Jn)=>{(function(){var e="ace",t=function(){return this}();if(!t&&typeof window<"u"&&(t=window),!e&&typeof requirejs<"u")return;var d=function(o,i,r){if(typeof o!="string"){d.original?d.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=i),d.modules[o]||(d.payloads[o]=r,d.modules[o]=null)};d.modules={},d.payloads={};var p=function(o,i,r){if(typeof i=="string"){var a=s(o,i);if(a!=null)return r&&r(),a}else if(Object.prototype.toString.call(i)==="[object Array]"){for(var n=[],l=0,u=i.length;l<u;++l){var g=s(o,i[l]);if(g==null&&m.original)return;n.push(g)}return r&&r.apply(null,n)||!0}},m=function(o,i){var r=p("",o,i);return r==null&&m.original?m.original.apply(this,arguments):r},h=function(o,i){if(i.indexOf("!")!==-1){var r=i.split("!");return h(o,r[0])+"!"+h(o,r[1])}if(i.charAt(0)=="."){var a=o.split("/").slice(0,-1).join("/");for(i=a+"/"+i;i.indexOf(".")!==-1&&n!=i;){var n=i;i=i.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return i},s=function(o,i){i=h(o,i);var r=d.modules[i];if(!r){if(r=d.payloads[i],typeof r=="function"){var a={},n={id:i,uri:"",exports:a,packaged:!0},l=function(g,v){return p(i,g,v)},u=r(l,a,n);a=u||n.exports,d.modules[i]=a,delete d.payloads[i]}r=d.modules[i]=a||r}return r};function c(o){var i=t;o&&(t[o]||(t[o]={}),i=t[o]),(!i.define||!i.define.packaged)&&(d.original=i.define,i.define=d,i.define.packaged=!0),(!i.require||!i.require.packaged)&&(m.original=i.require,i.require=m,i.require.packaged=!0)}c(e)})();ace.define("ace/lib/es6-shim",["require","exports","module"],function(e,t,d){function p(m,h,s){Object.defineProperty(m,h,{value:s,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||p(String.prototype,"startsWith",function(m,h){return h=h||0,this.lastIndexOf(m,h)===h}),String.prototype.endsWith||p(String.prototype,"endsWith",function(m,h){var s=this;(h===void 0||h>s.length)&&(h=s.length),h-=m.length;var c=s.indexOf(m,h);return c!==-1&&c===h}),String.prototype.repeat||p(String.prototype,"repeat",function(m){for(var h="",s=this;m>0;)m&1&&(h+=s),(m>>=1)&&(s+=s);return h}),String.prototype.includes||p(String.prototype,"includes",function(m,h){return this.indexOf(m,h)!=-1}),Object.assign||(Object.assign=function(m){if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(m),s=1;s<arguments.length;s++){var c=arguments[s];c!=null&&Object.keys(c).forEach(function(o){h[o]=c[o]})}return h}),Object.values||(Object.values=function(m){return Object.keys(m).map(function(h){return m[h]})}),Array.prototype.find||p(Array.prototype,"find",function(m){for(var h=this.length,s=arguments[1],c=0;c<h;c++){var o=this[c];if(m.call(s,o,c,this))return o}}),Array.prototype.findIndex||p(Array.prototype,"findIndex",function(m){for(var h=this.length,s=arguments[1],c=0;c<h;c++){var o=this[c];if(m.call(s,o,c,this))return c}}),Array.prototype.includes||p(Array.prototype,"includes",function(m,h){return this.indexOf(m,h)!=-1}),Array.prototype.fill||p(Array.prototype,"fill",function(m){for(var h=this,s=h.length>>>0,c=arguments[1],o=c>>0,i=o<0?Math.max(s+o,0):Math.min(o,s),r=arguments[2],a=r===void 0?s:r>>0,n=a<0?Math.max(s+a,0):Math.min(a,s);i<n;)h[i]=m,i++;return h}),Array.of||p(Array,"of",function(){return Array.prototype.slice.call(arguments)})});ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(e,t,d){"use strict";e("./es6-shim")});ace.define("ace/lib/deep_copy",["require","exports","module"],function(e,t,d){t.deepCopy=function p(m){if(typeof m!="object"||!m)return m;var h;if(Array.isArray(m)){h=[];for(var s=0;s<m.length;s++)h[s]=p(m[s]);return h}if(Object.prototype.toString.call(m)!=="[object Object]")return m;h={};for(var s in m)h[s]=p(m[s]);return h}});ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(e,t,d){"use strict";t.last=function(h){return h[h.length-1]},t.stringReverse=function(h){return h.split("").reverse().join("")},t.stringRepeat=function(h,s){for(var c="";s>0;)s&1&&(c+=h),(s>>=1)&&(h+=h);return c};var p=/^\s\s*/,m=/\s\s*$/;t.stringTrimLeft=function(h){return h.replace(p,"")},t.stringTrimRight=function(h){return h.replace(m,"")},t.copyObject=function(h){var s={};for(var c in h)s[c]=h[c];return s},t.copyArray=function(h){for(var s=[],c=0,o=h.length;c<o;c++)h[c]&&typeof h[c]=="object"?s[c]=this.copyObject(h[c]):s[c]=h[c];return s},t.deepCopy=e("./deep_copy").deepCopy,t.arrayToMap=function(h){for(var s={},c=0;c<h.length;c++)s[h[c]]=1;return s},t.createMap=function(h){var s=Object.create(null);for(var c in h)s[c]=h[c];return s},t.arrayRemove=function(h,s){for(var c=0;c<=h.length;c++)s===h[c]&&h.splice(c,1)},t.escapeRegExp=function(h){return h.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(h){return(""+h).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(h,s){var c=[];return h.replace(s,function(o){c.push({offset:arguments[arguments.length-2],length:o.length})}),c},t.deferredCall=function(h){var s=null,c=function(){s=null,h()},o=function(i){return o.cancel(),s=setTimeout(c,i||0),o};return o.schedule=o,o.call=function(){return this.cancel(),h(),o},o.cancel=function(){return clearTimeout(s),s=null,o},o.isPending=function(){return s},o},t.delayedCall=function(h,s){var c=null,o=function(){c=null,h()},i=function(r){c==null&&(c=setTimeout(o,r||s))};return i.delay=function(r){c&&clearTimeout(c),c=setTimeout(o,r||s)},i.schedule=i,i.call=function(){this.cancel(),h()},i.cancel=function(){c&&clearTimeout(c),c=null},i.isPending=function(){return c},i},t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},t.skipEmptyMatch=function(h,s,c){return c&&h.codePointAt(s)>65535?2:1}});ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,d){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var p=typeof navigator=="object"?navigator:{},m=(/mac|win|linux/i.exec(p.platform)||["other"])[0].toLowerCase(),h=p.userAgent||"",s=p.appName||"";t.isWin=m=="win",t.isMac=m=="mac",t.isLinux=m=="linux",t.isIE=s=="Microsoft Internet Explorer"||s.indexOf("MSAppHost")>=0?parseFloat((h.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((h.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=h.match(/ Gecko\/\d+/),t.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",t.isWebKit=parseFloat(h.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(h.split(" Chrome/")[1])||void 0,t.isSafari=parseFloat(h.split(" Safari/")[1])&&!t.isChrome||void 0,t.isEdge=parseFloat(h.split(" Edge/")[1])||void 0,t.isAIR=h.indexOf("AdobeAIR")>=0,t.isAndroid=h.indexOf("Android")>=0,t.isChromeOS=h.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(h)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid});ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(e,t,d){"use strict";var p=e("./useragent"),m="http://www.w3.org/1999/xhtml";t.buildDom=function r(a,n,l){if(typeof a=="string"&&a){var u=document.createTextNode(a);return n&&n.appendChild(u),u}if(!Array.isArray(a))return a&&a.appendChild&&n&&n.appendChild(a),a;if(typeof a[0]!="string"||!a[0]){for(var g=[],v=0;v<a.length;v++){var E=r(a[v],n,l);E&&g.push(E)}return g}var x=document.createElement(a[0]),A=a[1],S=1;A&&typeof A=="object"&&!Array.isArray(A)&&(S=2);for(var v=S;v<a.length;v++)r(a[v],x,l);return S==2&&Object.keys(A).forEach(function(f){var L=A[f];f==="class"?x.className=Array.isArray(L)?L.join(" "):L:typeof L=="function"||f=="value"||f[0]=="$"?x[f]=L:f==="ref"?l&&(l[L]=x):f==="style"?typeof L=="string"&&(x.style.cssText=L):L!=null&&x.setAttribute(f,L)}),n&&n.appendChild(x),x},t.getDocumentHead=function(r){return r||(r=document),r.head||r.getElementsByTagName("head")[0]||r.documentElement},t.createElement=function(r,a){return document.createElementNS?document.createElementNS(a||m,r):document.createElement(r)},t.removeChildren=function(r){r.innerHTML=""},t.createTextNode=function(r,a){var n=a?a.ownerDocument:document;return n.createTextNode(r)},t.createFragment=function(r){var a=r?r.ownerDocument:document;return a.createDocumentFragment()},t.hasCssClass=function(r,a){var n=(r.className+"").split(/\s+/g);return n.indexOf(a)!==-1},t.addCssClass=function(r,a){t.hasCssClass(r,a)||(r.className+=" "+a)},t.removeCssClass=function(r,a){for(var n=r.className.split(/\s+/g);;){var l=n.indexOf(a);if(l==-1)break;n.splice(l,1)}r.className=n.join(" ")},t.toggleCssClass=function(r,a){for(var n=r.className.split(/\s+/g),l=!0;;){var u=n.indexOf(a);if(u==-1)break;l=!1,n.splice(u,1)}return l&&n.push(a),r.className=n.join(" "),l},t.setCssClass=function(r,a,n){n?t.addCssClass(r,a):t.removeCssClass(r,a)},t.hasCssString=function(r,a){var n=0,l;if(a=a||document,l=a.querySelectorAll("style")){for(;n<l.length;)if(l[n++].id===r)return!0}},t.removeElementById=function(r,a){a=a||document,a.getElementById(r)&&a.getElementById(r).remove()};var h,s=[];t.useStrictCSP=function(r){h=r,r==!1?c():s||(s=[])};function c(){var r=s;s=null,r&&r.forEach(function(a){o(a[0],a[1])})}function o(r,a,n){if(!(typeof document>"u")){if(s){if(n)c();else if(n===!1)return s.push([r,a])}if(!h){var l=n;!n||!n.getRootNode?l=document:(l=n.getRootNode(),(!l||l==n)&&(l=document));var u=l.ownerDocument||l;if(a&&t.hasCssString(a,l))return null;a&&(r+=`
/*# sourceURL=ace/css/`+a+" */");var g=t.createElement("style");g.appendChild(u.createTextNode(r)),a&&(g.id=a),l==u&&(l=t.getDocumentHead(u)),l.insertBefore(g,l.firstChild)}}}if(t.importCssString=o,t.importCssStylsheet=function(r,a){t.buildDom(["link",{rel:"stylesheet",href:r}],t.getDocumentHead(a))},t.scrollbarWidth=function(r){var a=t.createElement("ace_inner");a.style.width="100%",a.style.minWidth="0px",a.style.height="200px",a.style.display="block";var n=t.createElement("ace_outer"),l=n.style;l.position="absolute",l.left="-10000px",l.overflow="hidden",l.width="200px",l.minWidth="0px",l.height="150px",l.display="block",n.appendChild(a);var u=r&&r.documentElement||document&&document.documentElement;if(!u)return 0;u.appendChild(n);var g=a.offsetWidth;l.overflow="scroll";var v=a.offsetWidth;return g===v&&(v=n.clientWidth),u.removeChild(n),g-v},t.computedStyle=function(r,a){return window.getComputedStyle(r,"")||{}},t.setStyle=function(r,a,n){r[a]!==n&&(r[a]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=p.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,p.isChromeOS&&(t.HI_DPI=!1),typeof document<"u"){var i=document.createElement("div");t.HI_DPI&&i.style.transform!==void 0&&(t.HAS_CSS_TRANSFORMS=!0),!p.isEdge&&typeof i.style.animationName<"u"&&(t.HAS_CSS_ANIMATION=!0),i=null}t.HAS_CSS_TRANSFORMS?t.translate=function(r,a,n){r.style.transform="translate("+Math.round(a)+"px, "+Math.round(n)+"px)"}:t.translate=function(r,a,n){r.style.top=Math.round(n)+"px",r.style.left=Math.round(a)+"px"}});ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,d){"use strict";var p=e("./dom");t.get=function(m,h){var s=new XMLHttpRequest;s.open("GET",m,!0),s.onreadystatechange=function(){s.readyState===4&&h(s.responseText)},s.send(null)},t.loadScript=function(m,h){var s=p.getDocumentHead(),c=document.createElement("script");c.src=m,s.appendChild(c),c.onload=c.onreadystatechange=function(o,i){(i||!c.readyState||c.readyState=="loaded"||c.readyState=="complete")&&(c=c.onload=c.onreadystatechange=null,i||h())}},t.qualifyURL=function(m){var h=document.createElement("a");return h.href=m,h.href}});ace.define("ace/lib/oop",["require","exports","module"],function(e,t,d){"use strict";t.inherits=function(p,m){p.super_=m,p.prototype=Object.create(m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(p,m){for(var h in m)p[h]=m[h];return p},t.implement=function(p,m){t.mixin(p,m)}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,d){"use strict";var p={},m=function(){this.propagationStopped=!0},h=function(){this.defaultPrevented=!0};p._emit=p._dispatchEvent=function(s,c){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var o=this._eventRegistry[s]||[],i=this._defaultHandlers[s];if(!(!o.length&&!i)){(typeof c!="object"||!c)&&(c={}),c.type||(c.type=s),c.stopPropagation||(c.stopPropagation=m),c.preventDefault||(c.preventDefault=h),o=o.slice();for(var r=0;r<o.length&&(o[r](c,this),!c.propagationStopped);r++);if(i&&!c.defaultPrevented)return i(c,this)}},p._signal=function(s,c){var o=(this._eventRegistry||{})[s];if(o){o=o.slice();for(var i=0;i<o.length;i++)o[i](c,this)}},p.once=function(s,c){var o=this;if(this.on(s,function i(){o.off(s,i),c.apply(null,arguments)}),!c)return new Promise(function(i){c=i})},p.setDefaultHandler=function(s,c){var o=this._defaultHandlers;if(o||(o=this._defaultHandlers={_disabled_:{}}),o[s]){var i=o[s],r=o._disabled_[s];r||(o._disabled_[s]=r=[]),r.push(i);var a=r.indexOf(c);a!=-1&&r.splice(a,1)}o[s]=c},p.removeDefaultHandler=function(s,c){var o=this._defaultHandlers;if(o){var i=o._disabled_[s];if(o[s]==c)i&&this.setDefaultHandler(s,i.pop());else if(i){var r=i.indexOf(c);r!=-1&&i.splice(r,1)}}},p.on=p.addEventListener=function(s,c,o){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[s];return i||(i=this._eventRegistry[s]=[]),i.indexOf(c)==-1&&i[o?"unshift":"push"](c),c},p.off=p.removeListener=p.removeEventListener=function(s,c){this._eventRegistry=this._eventRegistry||{};var o=this._eventRegistry[s];if(o){var i=o.indexOf(c);i!==-1&&o.splice(i,1)}},p.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)},t.EventEmitter=p});ace.define("ace/lib/report_error",["require","exports","module"],function(e,t,d){t.reportError=function(m,h){var s=new Error(m);s.data=h,typeof console=="object"&&console.error&&console.error(s),setTimeout(function(){throw s})}});ace.define("ace/lib/default_english_messages",["require","exports","module"],function(e,t,d){var p={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages"};t.defaultEnglishMessages=p});ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(e,t,d){"no use strict";var p=e("./oop"),m=e("./event_emitter").EventEmitter,h=e("./report_error").reportError,s=e("./default_english_messages").defaultEnglishMessages,c={setOptions:function(n){Object.keys(n).forEach(function(l){this.setOption(l,n[l])},this)},getOptions:function(n){var l={};if(n)Array.isArray(n)||(l=n,n=Object.keys(l));else{var u=this.$options;n=Object.keys(u).filter(function(g){return!u[g].hidden})}return n.forEach(function(g){l[g]=this.getOption(g)},this),l},setOption:function(n,l){if(this["$"+n]!==l){var u=this.$options[n];if(!u)return o('misspelled option "'+n+'"');if(u.forwardTo)return this[u.forwardTo]&&this[u.forwardTo].setOption(n,l);u.handlesSet||(this["$"+n]=l),u&&u.set&&u.set.call(this,l)}},getOption:function(n){var l=this.$options[n];return l?l.forwardTo?this[l.forwardTo]&&this[l.forwardTo].getOption(n):l&&l.get?l.get.call(this):this["$"+n]:o('misspelled option "'+n+'"')}};function o(n){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var i,r,a=function(){function n(){this.$defaultOptions={},i=s,r="dollarSigns"}return n.prototype.defineOptions=function(l,u,g){return l.$options||(this.$defaultOptions[u]=l.$options={}),Object.keys(g).forEach(function(v){var E=g[v];typeof E=="string"&&(E={forwardTo:E}),E.name||(E.name=v),l.$options[E.name]=E,"initialValue"in E&&(l["$"+E.name]=E.initialValue)}),p.implement(l,c),this},n.prototype.resetOptions=function(l){Object.keys(l.$options).forEach(function(u){var g=l.$options[u];"value"in g&&l.setOption(u,g.value)})},n.prototype.setDefaultValue=function(l,u,g){if(!l){for(l in this.$defaultOptions)if(this.$defaultOptions[l][u])break;if(!this.$defaultOptions[l][u])return!1}var v=this.$defaultOptions[l]||(this.$defaultOptions[l]={});v[u]&&(v.forwardTo?this.setDefaultValue(v.forwardTo,u,g):v[u].value=g)},n.prototype.setDefaultValues=function(l,u){Object.keys(u).forEach(function(g){this.setDefaultValue(l,g,u[g])},this)},n.prototype.setMessages=function(l,u){i=l,u&&u.placeholders&&(r=u.placeholders)},n.prototype.nls=function(l,u,g){i[l]||(o("No message found for the key '"+l+"' in the provided messages, trying to find a translation for the default string '"+u+"'."),i[u]||o("No message found for the default string '"+u+"' in the provided messages. Falling back to the default English message."));var v=i[l]||i[u]||u;return g&&(r==="dollarSigns"&&(v=v.replace(/\$(\$|[\d]+)/g,function(E,x){return x=="$"?"$":g[x]})),r==="curlyBrackets"&&(v=v.replace(/\{([^\}]+)\}/g,function(E,x){return g[x]}))),v},n}();a.prototype.warn=o,a.prototype.reportError=h,p.implement(a.prototype,m),t.AppConfig=a});ace.define("ace/theme/textmate-css",["require","exports","module"],function(e,t,d){d.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`});ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(e,t,d){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate-css"),t.$id="ace/theme/textmate";var p=e("../lib/dom");p.importCssString(t.cssText,t.cssClass,!1)});ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(e,t,d){"no use strict";var p=e("./lib/lang"),m=e("./lib/net"),h=e("./lib/dom"),s=e("./lib/app_config").AppConfig;d.exports=t=new s;var c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(a){if(!c.hasOwnProperty(a))throw new Error("Unknown config key: "+a);return c[a]},t.set=function(a,n){if(c.hasOwnProperty(a))c[a]=n;else if(this.setDefaultValue("",a,n)==!1)throw new Error("Unknown config key: "+a);a=="useStrictCSP"&&h.useStrictCSP(n)},t.all=function(){return p.copyObject(c)},t.$modes={},t.moduleUrl=function(a,n){if(c.$moduleUrls[a])return c.$moduleUrls[a];var l=a.split("/");n=n||l[l.length-2]||"";var u=n=="snippets"?"/":"-",g=l[l.length-1];if(n=="worker"&&u=="-"){var v=new RegExp("^"+n+"[\\-_]|[\\-_]"+n+"$","g");g=g.replace(v,"")}(!g||g==n)&&l.length>1&&(g=l[l.length-2]);var E=c[n+"Path"];return E==null?E=c.basePath:u=="/"&&(n=u=""),E&&E.slice(-1)!="/"&&(E+="/"),E+n+u+g+this.get("suffix")},t.setModuleUrl=function(a,n){return c.$moduleUrls[a]=n};var o=function(a,n){if(a==="ace/theme/textmate"||a==="./theme/textmate")return n(null,e("./theme/textmate"));if(i)return i(a,n);console.error("loader is not configured")},i;t.setLoader=function(a){i=a},t.dynamicModules=Object.create(null),t.$loading={},t.$loaded={},t.loadModule=function(a,n){var l;if(Array.isArray(a))var u=a[0],g=a[1];else if(typeof a=="string")var g=a;var v=function(E){if(E&&!t.$loading[g])return n&&n(E);if(t.$loading[g]||(t.$loading[g]=[]),t.$loading[g].push(n),!(t.$loading[g].length>1)){var x=function(){o(g,function(A,S){S&&(t.$loaded[g]=S),t._emit("load.module",{name:g,module:S});var f=t.$loading[g];t.$loading[g]=null,f.forEach(function(L){L&&L(S)})})};if(!t.get("packaged"))return x();m.loadScript(t.moduleUrl(g,u),x),r()}};if(t.dynamicModules[g])t.dynamicModules[g]().then(function(E){E.default?v(E.default):v(E)});else{try{l=this.$require(g)}catch{}v(l||t.$loaded[g])}},t.$require=function(a){if(typeof d.require=="function"){var n="require";return d[n](a)}},t.setModuleLoader=function(a,n){t.dynamicModules[a]=n};var r=function(){!c.basePath&&!c.workerPath&&!c.modePath&&!c.themePath&&!Object.keys(c.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),r=function(){})};t.version="1.35.4"});ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(e,t,d){"use strict";e("./lib/fixoldbrowsers");var p=e("./config");p.setLoader(function(c,o){e([c],function(i){o(null,i)})});var m=function(){return this||typeof window<"u"&&window}();d.exports=function(c){p.init=h,p.$require=e,c.require=e,typeof define=="function"&&(c.define=define)},h(!0);function h(c){if(!(!m||!m.document)){p.set("packaged",c||e.packaged||d.packaged||m.define&&define.packaged);var o={},i="",r=document.currentScript||document._currentScript,a=r&&r.ownerDocument||document;r&&r.src&&(i=r.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var n=a.getElementsByTagName("script"),l=0;l<n.length;l++){var u=n[l],g=u.src||u.getAttribute("src");if(g){for(var v=u.attributes,E=0,x=v.length;E<x;E++){var A=v[E];A.name.indexOf("data-ace-")===0&&(o[s(A.name.replace(/^data-ace-/,""))]=A.value)}var S=g.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);S&&(i=S[1])}}i&&(o.base=o.base||i,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var f in o)typeof o[f]<"u"&&p.set(f,o[f])}}function s(c){return c.replace(/-(.)/g,function(o,i){return i.toUpperCase()})}});ace.define("ace/range",["require","exports","module"],function(e,t,d){"use strict";var p=function(){function m(h,s,c,o){this.start={row:h,column:s},this.end={row:c,column:o}}return m.prototype.isEqual=function(h){return this.start.row===h.start.row&&this.end.row===h.end.row&&this.start.column===h.start.column&&this.end.column===h.end.column},m.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},m.prototype.contains=function(h,s){return this.compare(h,s)==0},m.prototype.compareRange=function(h){var s,c=h.end,o=h.start;return s=this.compare(c.row,c.column),s==1?(s=this.compare(o.row,o.column),s==1?2:s==0?1:0):s==-1?-2:(s=this.compare(o.row,o.column),s==-1?-1:s==1?42:0)},m.prototype.comparePoint=function(h){return this.compare(h.row,h.column)},m.prototype.containsRange=function(h){return this.comparePoint(h.start)==0&&this.comparePoint(h.end)==0},m.prototype.intersects=function(h){var s=this.compareRange(h);return s==-1||s==0||s==1},m.prototype.isEnd=function(h,s){return this.end.row==h&&this.end.column==s},m.prototype.isStart=function(h,s){return this.start.row==h&&this.start.column==s},m.prototype.setStart=function(h,s){typeof h=="object"?(this.start.column=h.column,this.start.row=h.row):(this.start.row=h,this.start.column=s)},m.prototype.setEnd=function(h,s){typeof h=="object"?(this.end.column=h.column,this.end.row=h.row):(this.end.row=h,this.end.column=s)},m.prototype.inside=function(h,s){return this.compare(h,s)==0?!(this.isEnd(h,s)||this.isStart(h,s)):!1},m.prototype.insideStart=function(h,s){return this.compare(h,s)==0?!this.isEnd(h,s):!1},m.prototype.insideEnd=function(h,s){return this.compare(h,s)==0?!this.isStart(h,s):!1},m.prototype.compare=function(h,s){return!this.isMultiLine()&&h===this.start.row?s<this.start.column?-1:s>this.end.column?1:0:h<this.start.row?-1:h>this.end.row?1:this.start.row===h?s>=this.start.column?0:-1:this.end.row===h?s<=this.end.column?0:1:0},m.prototype.compareStart=function(h,s){return this.start.row==h&&this.start.column==s?-1:this.compare(h,s)},m.prototype.compareEnd=function(h,s){return this.end.row==h&&this.end.column==s?1:this.compare(h,s)},m.prototype.compareInside=function(h,s){return this.end.row==h&&this.end.column==s?1:this.start.row==h&&this.start.column==s?-1:this.compare(h,s)},m.prototype.clipRows=function(h,s){if(this.end.row>s)var c={row:s+1,column:0};else if(this.end.row<h)var c={row:h,column:0};if(this.start.row>s)var o={row:s+1,column:0};else if(this.start.row<h)var o={row:h,column:0};return m.fromPoints(o||this.start,c||this.end)},m.prototype.extend=function(h,s){var c=this.compare(h,s);if(c==0)return this;if(c==-1)var o={row:h,column:s};else var i={row:h,column:s};return m.fromPoints(o||this.start,i||this.end)},m.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},m.prototype.isMultiLine=function(){return this.start.row!==this.end.row},m.prototype.clone=function(){return m.fromPoints(this.start,this.end)},m.prototype.collapseRows=function(){return this.end.column==0?new m(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new m(this.start.row,0,this.end.row,0)},m.prototype.toScreenRange=function(h){var s=h.documentToScreenPosition(this.start),c=h.documentToScreenPosition(this.end);return new m(s.row,s.column,c.row,c.column)},m.prototype.moveBy=function(h,s){this.start.row+=h,this.start.column+=s,this.end.row+=h,this.end.column+=s},m}();p.fromPoints=function(m,h){return new p(m.row,m.column,h.row,h.column)},p.comparePoints=function(m,h){return m.row-h.row||m.column-h.column},t.Range=p});ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t,d){"use strict";for(var p=e("./oop"),m={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},h={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},s=0;s<10;s++)h["Digit"+s]=48+s,h["Numpad"+s]=96+s,m.PRINTABLE_KEYS[48+s]=""+s,m.FUNCTION_KEYS[96+s]="Numpad"+s;for(var s=65;s<91;s++){var c=String.fromCharCode(s+32);h["Key"+c.toUpperCase()]=s,m.PRINTABLE_KEYS[s]=c}for(var s=1;s<13;s++)h["F"+s]=111+s,m.FUNCTION_KEYS[111+s]="F"+s;var o={Shift:16,Control:17,Alt:18,Meta:224};for(var i in o)h[i]=h[i+"Left"]=h[i+"Right"]=o[i];t.$codeToKeyCode=h,m.PRINTABLE_KEYS[173]="-";for(var r in m.FUNCTION_KEYS){var a=m.FUNCTION_KEYS[r].toLowerCase();m[a]=parseInt(r,10)}for(var r in m.PRINTABLE_KEYS){var a=m.PRINTABLE_KEYS[r].toLowerCase();m[a]=parseInt(r,10)}p.mixin(m,m.MODIFIER_KEYS),p.mixin(m,m.PRINTABLE_KEYS),p.mixin(m,m.FUNCTION_KEYS),m.enter=m.return,m.escape=m.esc,m.del=m.delete,function(){for(var n=["cmd","ctrl","alt","shift"],l=Math.pow(2,n.length);l--;)m.KEY_MODS[l]=n.filter(function(u){return l&m.KEY_MODS[u]}).join("-")+"-"}(),m.KEY_MODS[0]="",m.KEY_MODS[-1]="input-",p.mixin(t,m),t.default=t,t.keyCodeToString=function(n){var l=m[n];return typeof l!="string"&&(l=String.fromCharCode(n)),l.toLowerCase()}});ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,d){"use strict";var p=e("./keys"),m=e("./useragent"),h=null,s=0,c;function o(){c=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return c={passive:!1},!0}})}catch{}}function i(){return c==null&&o(),c}function r(E,x,A){this.elem=E,this.type=x,this.callback=A}r.prototype.destroy=function(){n(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var a=t.addListener=function(E,x,A,S){E.addEventListener(x,A,i()),S&&S.$toDestroy.push(new r(E,x,A))},n=t.removeListener=function(E,x,A){E.removeEventListener(x,A,i())};t.stopEvent=function(E){return t.stopPropagation(E),t.preventDefault(E),!1},t.stopPropagation=function(E){E.stopPropagation&&E.stopPropagation()},t.preventDefault=function(E){E.preventDefault&&E.preventDefault()},t.getButton=function(E){return E.type=="dblclick"?0:E.type=="contextmenu"||m.isMac&&E.ctrlKey&&!E.altKey&&!E.shiftKey?2:E.button},t.capture=function(E,x,A){var S=E&&E.ownerDocument||document;function f(L){x&&x(L),A&&A(L),n(S,"mousemove",x),n(S,"mouseup",f),n(S,"dragstart",f)}return a(S,"mousemove",x),a(S,"mouseup",f),a(S,"dragstart",f),f},t.addMouseWheelListener=function(E,x,A){a(E,"wheel",function(S){var f=.15,L=S.deltaX||0,$=S.deltaY||0;switch(S.deltaMode){case S.DOM_DELTA_PIXEL:S.wheelX=L*f,S.wheelY=$*f;break;case S.DOM_DELTA_LINE:var C=15;S.wheelX=L*C,S.wheelY=$*C;break;case S.DOM_DELTA_PAGE:var _=150;S.wheelX=L*_,S.wheelY=$*_;break}x(S)},A)},t.addMultiMouseDownListener=function(E,x,A,S,f){var L=0,$,C,_,y={2:"dblclick",3:"tripleclick",4:"quadclick"};function w(b){if(t.getButton(b)!==0?L=0:b.detail>1?(L++,L>4&&(L=1)):L=1,m.isIE){var k=Math.abs(b.clientX-$)>5||Math.abs(b.clientY-C)>5;(!_||k)&&(L=1),_&&clearTimeout(_),_=setTimeout(function(){_=null},x[L-1]||600),L==1&&($=b.clientX,C=b.clientY)}if(b._clicks=L,A[S]("mousedown",b),L>4)L=0;else if(L>1)return A[S](y[L],b)}Array.isArray(E)||(E=[E]),E.forEach(function(b){a(b,"mousedown",w,f)})};function l(E){return 0|(E.ctrlKey?1:0)|(E.altKey?2:0)|(E.shiftKey?4:0)|(E.metaKey?8:0)}t.getModifierString=function(E){return p.KEY_MODS[l(E)]};function u(E,x,A){var S=l(x);if(!A&&x.code&&(A=p.$codeToKeyCode[x.code]||A),!m.isMac&&h){if(x.getModifierState&&(x.getModifierState("OS")||x.getModifierState("Win"))&&(S|=8),h.altGr)if((3&S)!=3)h.altGr=0;else return;if(A===18||A===17){var f=x.location;if(A===17&&f===1)h[A]==1&&(s=x.timeStamp);else if(A===18&&S===3&&f===2){var L=x.timeStamp-s;L<50&&(h.altGr=!0)}}}if(A in p.MODIFIER_KEYS&&(A=-1),!(!S&&A===13&&x.location===3&&(E(x,S,-A),x.defaultPrevented))){if(m.isChromeOS&&S&8){if(E(x,S,A),x.defaultPrevented)return;S&=-9}return!S&&!(A in p.FUNCTION_KEYS)&&!(A in p.PRINTABLE_KEYS)?!1:E(x,S,A)}}t.addCommandKeyListener=function(E,x,A){var S=null;a(E,"keydown",function(f){h[f.keyCode]=(h[f.keyCode]||0)+1;var L=u(x,f,f.keyCode);return S=f.defaultPrevented,L},A),a(E,"keypress",function(f){S&&(f.ctrlKey||f.altKey||f.shiftKey||f.metaKey)&&(t.stopEvent(f),S=null)},A),a(E,"keyup",function(f){h[f.keyCode]=null},A),h||(g(),a(window,"focus",g))};function g(){h=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!m.isOldIE){var v=1;t.nextTick=function(E,x){x=x||window;var A="zero-timeout-message-"+v++,S=function(f){f.data==A&&(t.stopPropagation(f),n(x,"message",S),E())};a(x,"message",S),x.postMessage(A,"*")}}t.$idleBlocked=!1,t.onIdle=function(E,x){return setTimeout(function A(){t.$idleBlocked?setTimeout(A,100):E()},x)},t.$idleBlockId=null,t.blockIdle=function(E){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},E||100)},t.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(E){setTimeout(E,17)}});ace.define("ace/clipboard",["require","exports","module"],function(e,t,d){"use strict";var p;d.exports={lineMode:!1,pasteCancelled:function(){return p&&p>Date.now()-50?!0:p=!1},cancel:function(){p=Date.now()}}});ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(e,t,d){"use strict";var p=e("../lib/event"),m=e("../config").nls,h=e("../lib/useragent"),s=e("../lib/dom"),c=e("../lib/lang"),o=e("../clipboard"),i=h.isChrome<18,r=h.isIE,a=h.isChrome>63,n=400,l=e("../lib/keys"),u=l.KEY_MODS,g=h.isIOS,v=g?/\s/:/\n/,E=h.isMobile,x;x=function(A,S){var f=s.createElement("textarea");f.className="ace_text-input",f.setAttribute("wrap","off"),f.setAttribute("autocorrect","off"),f.setAttribute("autocapitalize","off"),f.setAttribute("spellcheck","false"),f.style.opacity="0",A.insertBefore(f,A.firstChild);var L=!1,$=!1,C=!1,_=!1,y="";E||(f.style.fontSize="1px");var w=!1,b=!1,k="",T=0,M=0,R=0,I=Number.MAX_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER,O=0;try{var N=document.activeElement===f}catch{}this.setNumberOfExtraLines=function(j){if(I=Number.MAX_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER,j<0){O=0;return}O=j},this.setAriaOptions=function(j){if(j.activeDescendant?(f.setAttribute("aria-haspopup","true"),f.setAttribute("aria-autocomplete",j.inline?"both":"list"),f.setAttribute("aria-activedescendant",j.activeDescendant)):(f.setAttribute("aria-haspopup","false"),f.setAttribute("aria-autocomplete","both"),f.removeAttribute("aria-activedescendant")),j.role&&f.setAttribute("role",j.role),j.setLabel){f.setAttribute("aria-roledescription",m("text-input.aria-roledescription","editor"));var K="";if(S.$textInputAriaLabel&&(K+="".concat(S.$textInputAriaLabel,", ")),S.session){var rt=S.session.selection.cursor.row;K+=m("text-input.aria-label","Cursor at row $0",[rt+1])}f.setAttribute("aria-label",K)}},this.setAriaOptions({role:"textbox"}),p.addListener(f,"blur",function(j){b||(S.onBlur(j),N=!1)},S),p.addListener(f,"focus",function(j){if(!b){if(N=!0,h.isEdge)try{if(!document.hasFocus())return}catch{}S.onFocus(j),h.isEdge?setTimeout(F):F()}},S),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:S.renderer.enableKeyboardAccessibility}),y||a||this.$focusScroll=="browser")return f.focus({preventScroll:!0});var j=f.style.top;f.style.position="fixed",f.style.top="0px";try{var K=f.getBoundingClientRect().top!=0}catch{return}var rt=[];if(K)for(var ft=f.parentElement;ft&&ft.nodeType==1;)rt.push(ft),ft.setAttribute("ace_nocontext","true"),!ft.parentElement&&ft.getRootNode?ft=ft.getRootNode().host:ft=ft.parentElement;f.focus({preventScroll:!0}),K&&rt.forEach(function(xt){xt.removeAttribute("ace_nocontext")}),setTimeout(function(){f.style.position="",f.style.top=="0px"&&(f.style.top=j)},0)},this.blur=function(){f.blur()},this.isFocused=function(){return N},S.on("beforeEndOperation",function(){var j=S.curOp,K=j&&j.command&&j.command.name;if(K!="insertstring"){var rt=K&&(j.docChanged||j.selectionChanged);C&&rt&&(k=f.value="",at()),F()}});var P=function(j,K){for(var rt=K,ft=1;ft<=j-I&&ft<2*O+1;ft++)rt+=S.session.getLine(j-ft).length+1;return rt},F=g?function(j){if(!(!N||L&&!j||_)){j||(j="");var K=`
 ab`+j+`cde fg
`;K!=f.value&&(f.value=k=K);var rt=4,ft=4+(j.length||(S.selection.isEmpty()?0:1));(T!=rt||M!=ft)&&f.setSelectionRange(rt,ft),T=rt,M=ft}}:function(){if(!(C||_)&&!(!N&&!q)){C=!0;var j=0,K=0,rt="";if(S.session){var ft=S.selection,xt=ft.getRange(),$t=ft.cursor.row;$t===D+1?(I=D+1,D=I+2*O):$t===I-1?(D=I-1,I=D-2*O):($t<I-1||$t>D+1)&&(I=$t>O?$t-O:0,D=$t>O?$t+O:2*O);for(var Mt=[],It=I;It<=D;It++)Mt.push(S.session.getLine(It));if(rt=Mt.join(`
`),j=P(xt.start.row,xt.start.column),K=P(xt.end.row,xt.end.column),xt.start.row<I){var Ot=S.session.getLine(I-1);j=xt.start.row<I-1?0:j,K+=Ot.length+1,rt=Ot+`
`+rt}else if(xt.end.row>D){var At=S.session.getLine(D+1);K=xt.end.row>D+1?At.length:xt.end.column,K+=rt.length+1,rt=rt+`
`+At}else E&&$t>0&&(rt=`
`+rt,K+=1,j+=1);rt.length>n&&(j<n&&K<n?rt=rt.slice(0,n):(rt=`
`,j==K?j=K=0:(j=0,K=1)));var Gt=rt+`

`;Gt!=k&&(f.value=k=Gt,T=M=Gt.length)}if(q&&(T=f.selectionStart,M=f.selectionEnd),M!=K||T!=j||f.selectionEnd!=M)try{f.setSelectionRange(j,K),T=j,M=K}catch{}C=!1}};this.resetSelection=F,N&&S.onFocus();var z=function(j){return j.selectionStart===0&&j.selectionEnd>=k.length&&j.value===k&&k&&j.selectionEnd!==M},U=function(j){C||(L?L=!1:z(f)?(S.selectAll(),F()):E&&f.selectionStart!=T&&F())},W=null;this.setInputHandler=function(j){W=j},this.getInputHandler=function(){return W};var q=!1,X=function(j,K){if(q&&(q=!1),$)return F(),j&&S.onPaste(j),$=!1,"";for(var rt=f.selectionStart,ft=f.selectionEnd,xt=T,$t=k.length-M,Mt=j,It=j.length-rt,Ot=j.length-ft,At=0;xt>0&&k[At]==j[At];)At++,xt--;for(Mt=Mt.slice(At),At=1;$t>0&&k.length-At>T-1&&k[k.length-At]==j[j.length-At];)At++,$t--;It-=At-1,Ot-=At-1;var Gt=Mt.length-At+1;if(Gt<0&&(xt=-Gt,Gt=0),Mt=Mt.slice(0,Gt),!K&&!Mt&&!It&&!xt&&!$t&&!Ot)return"";_=!0;var Ze=!1;return h.isAndroid&&Mt==". "&&(Mt="  ",Ze=!0),Mt&&!xt&&!$t&&!It&&!Ot||w?S.onTextInput(Mt):S.onTextInput(Mt,{extendLeft:xt,extendRight:$t,restoreStart:It,restoreEnd:Ot}),_=!1,k=j,T=rt,M=ft,R=Ot,Ze?`
`:Mt},Z=function(j){if(C)return J();if(j&&j.inputType){if(j.inputType=="historyUndo")return S.execCommand("undo");if(j.inputType=="historyRedo")return S.execCommand("redo")}var K=f.value,rt=X(K,!0);(K.length>n+100||v.test(rt)||E&&T<1&&T==M)&&F()},nt=function(j,K,rt){var ft=j.clipboardData||window.clipboardData;if(!(!ft||i)){var xt=r||rt?"Text":"text/plain";try{return K?ft.setData(xt,K)!==!1:ft.getData(xt)}catch($t){if(!rt)return nt($t,K,!0)}}},ot=function(j,K){var rt=S.getCopyText();if(!rt)return p.preventDefault(j);nt(j,rt)?(g&&(F(rt),L=rt,setTimeout(function(){L=!1},10)),K?S.onCut():S.onCopy(),p.preventDefault(j)):(L=!0,f.value=rt,f.select(),setTimeout(function(){L=!1,F(),K?S.onCut():S.onCopy()}))},yt=function(j){ot(j,!0)},Et=function(j){ot(j,!1)},vt=function(j){var K=nt(j);o.pasteCancelled()||(typeof K=="string"?(K&&S.onPaste(K,j),h.isIE&&setTimeout(F),p.preventDefault(j)):(f.value="",$=!0))};p.addCommandKeyListener(f,function(j,K,rt){if(!C)return S.onCommandKey(j,K,rt)},S),p.addListener(f,"select",U,S),p.addListener(f,"input",Z,S),p.addListener(f,"cut",yt,S),p.addListener(f,"copy",Et,S),p.addListener(f,"paste",vt,S),(!("oncut"in f)||!("oncopy"in f)||!("onpaste"in f))&&p.addListener(A,"keydown",function(j){if(!(h.isMac&&!j.metaKey||!j.ctrlKey))switch(j.keyCode){case 67:Et(j);break;case 86:vt(j);break;case 88:yt(j);break}},S);var H=function(j){if(!(C||!S.onCompositionStart||S.$readOnly)&&(C={},!w)){j.data&&(C.useTextareaForIME=!1),setTimeout(J,0),S._signal("compositionStart"),S.on("mousedown",tt);var K=S.getSelectionRange();K.end.row=K.start.row,K.end.column=K.start.column,C.markerRange=K,C.selectionStart=T,S.onCompositionStart(C),C.useTextareaForIME?(k=f.value="",T=0,M=0):(f.msGetInputContext&&(C.context=f.msGetInputContext()),f.getInputContext&&(C.context=f.getInputContext()))}},J=function(){if(!(!C||!S.onCompositionUpdate||S.$readOnly)){if(w)return tt();if(C.useTextareaForIME)S.onCompositionUpdate(f.value);else{var j=f.value;X(j),C.markerRange&&(C.context&&(C.markerRange.start.column=C.selectionStart=C.context.compositionStartOffset),C.markerRange.end.column=C.markerRange.start.column+M-C.selectionStart+R)}}},at=function(j){!S.onCompositionEnd||S.$readOnly||(C=!1,S.onCompositionEnd(),S.off("mousedown",tt),j&&Z())};function tt(){b=!0,f.blur(),f.focus(),b=!1}var ct=c.delayedCall(J,50).schedule.bind(null,null);function Y(j){j.keyCode==27&&f.value.length<f.selectionStart&&(C||(k=f.value),T=M=-1,F()),ct()}p.addListener(f,"compositionstart",H,S),p.addListener(f,"compositionupdate",J,S),p.addListener(f,"keyup",Y,S),p.addListener(f,"keydown",ct,S),p.addListener(f,"compositionend",at,S),this.getElement=function(){return f},this.setCommandMode=function(j){w=j,f.readOnly=!1},this.setReadOnly=function(j){w||(f.readOnly=j)},this.setCopyWithEmptySelection=function(j){},this.onContextMenu=function(j){q=!0,F(),S._emit("nativecontextmenu",{target:S,domEvent:j}),this.moveToMouse(j,!0)},this.moveToMouse=function(j,K){y||(y=f.style.cssText),f.style.cssText=(K?"z-index:100000;":"")+(h.isIE?"opacity:0.1;":"")+"text-indent: -"+(T+M)*S.renderer.characterWidth*.5+"px;";var rt=S.container.getBoundingClientRect(),ft=s.computedStyle(S.container),xt=rt.top+(parseInt(ft.borderTopWidth)||0),$t=rt.left+(parseInt(rt.borderLeftWidth)||0),Mt=rt.bottom-xt-f.clientHeight-2,It=function(Ot){s.translate(f,Ot.clientX-$t-2,Math.min(Ot.clientY-xt-2,Mt))};It(j),j.type=="mousedown"&&(S.renderer.$isMousePressed=!0,clearTimeout(G),h.isWin&&p.capture(S.container,It,st))},this.onContextMenuClose=st;var G;function st(){clearTimeout(G),G=setTimeout(function(){y&&(f.style.cssText=y,y=""),S.renderer.$isMousePressed=!1,S.renderer.$keepTextAreaAtCursor&&S.renderer.$moveTextAreaToCursor()},0)}var it=function(j){S.textInput.onContextMenu(j),st()};p.addListener(f,"mouseup",it,S),p.addListener(f,"mousedown",function(j){j.preventDefault(),st()},S),p.addListener(S.renderer.scroller,"contextmenu",it,S),p.addListener(f,"contextmenu",it,S),g&&ht(A,S,f);function ht(j,K,rt){var ft=null,xt=!1;rt.addEventListener("keydown",function(Mt){ft&&clearTimeout(ft),xt=!0},!0),rt.addEventListener("keyup",function(Mt){ft=setTimeout(function(){xt=!1},100)},!0);var $t=function(Mt){if(document.activeElement===rt&&!(xt||C||K.$mouseHandler.isMousePressed)&&!L){var It=rt.selectionStart,Ot=rt.selectionEnd,At=null,Gt=0;if(It==0?At=l.up:It==1?At=l.home:Ot>M&&k[Ot]==`
`?At=l.end:It<T&&k[It-1]==" "?(At=l.left,Gt=u.option):It<T||It==T&&M!=T&&It==Ot?At=l.left:Ot>M&&k.slice(0,Ot).split(`
`).length>2?At=l.down:Ot>M&&k[Ot-1]==" "?(At=l.right,Gt=u.option):(Ot>M||Ot==M&&M!=T&&It==Ot)&&(At=l.right),It!==Ot&&(Gt|=u.shift),At){var Ze=K.onCommandKey({},Gt,At);if(!Ze&&K.commands){At=l.keyCodeToString(At);var pe=K.commands.findKeyCommand(Gt,At);pe&&K.execCommand(pe)}T=It,M=Ot,F("")}}};document.addEventListener("selectionchange",$t),K.on("destroy",function(){document.removeEventListener("selectionchange",$t)})}this.destroy=function(){f.parentElement&&f.parentElement.removeChild(f)}},t.TextInput=x,t.$setUserAgentForTests=function(A,S){E=A,g=S}});ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(e,t,d){"use strict";var p=e("../lib/useragent"),m=0,h=550,s=function(){function i(r){r.$clickSelection=null;var a=r.editor;a.setDefaultHandler("mousedown",this.onMouseDown.bind(r)),a.setDefaultHandler("dblclick",this.onDoubleClick.bind(r)),a.setDefaultHandler("tripleclick",this.onTripleClick.bind(r)),a.setDefaultHandler("quadclick",this.onQuadClick.bind(r)),a.setDefaultHandler("mousewheel",this.onMouseWheel.bind(r));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(l){r[l]=this[l]},this),r.selectByLines=this.extendSelectionBy.bind(r,"getLineRange"),r.selectByWords=this.extendSelectionBy.bind(r,"getWordRange")}return i.prototype.onMouseDown=function(r){var a=r.inSelection(),n=r.getDocumentPosition();this.mousedownEvent=r;var l=this.editor,u=r.getButton();if(u!==0){var g=l.getSelectionRange(),v=g.isEmpty();(v||u==1)&&l.selection.moveToPosition(n),u==2&&(l.textInput.onContextMenu(r.domEvent),p.isMozilla||r.preventDefault());return}if(this.mousedownEvent.time=Date.now(),a&&!l.isFocused()&&(l.focus(),this.$focusTimeout&&!this.$clickSelection&&!l.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(r);return}return this.captureMouse(r),this.startSelect(n,r.domEvent._clicks>1),r.preventDefault()},i.prototype.startSelect=function(r,a){r=r||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(r):a||n.selection.moveToPosition(r),a||this.select(),n.setStyle("ace_selecting"),this.setState("select"))},i.prototype.select=function(){var r,a=this.editor,n=a.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var l=this.$clickSelection.comparePoint(n);if(l==-1)r=this.$clickSelection.end;else if(l==1)r=this.$clickSelection.start;else{var u=o(this.$clickSelection,n);n=u.cursor,r=u.anchor}a.selection.setSelectionAnchor(r.row,r.column)}a.selection.selectToPosition(n),a.renderer.scrollCursorIntoView()},i.prototype.extendSelectionBy=function(r){var a,n=this.editor,l=n.renderer.screenToTextCoordinates(this.x,this.y),u=n.selection[r](l.row,l.column);if(this.$clickSelection){var g=this.$clickSelection.comparePoint(u.start),v=this.$clickSelection.comparePoint(u.end);if(g==-1&&v<=0)a=this.$clickSelection.end,(u.end.row!=l.row||u.end.column!=l.column)&&(l=u.start);else if(v==1&&g>=0)a=this.$clickSelection.start,(u.start.row!=l.row||u.start.column!=l.column)&&(l=u.end);else if(g==-1&&v==1)l=u.end,a=u.start;else{var E=o(this.$clickSelection,l);l=E.cursor,a=E.anchor}n.selection.setSelectionAnchor(a.row,a.column)}n.selection.selectToPosition(l),n.renderer.scrollCursorIntoView()},i.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},i.prototype.focusWait=function(){var r=c(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),a=Date.now();(r>m||a-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},i.prototype.onDoubleClick=function(r){var a=r.getDocumentPosition(),n=this.editor,l=n.session,u=l.getBracketRange(a);u?(u.isEmpty()&&(u.start.column--,u.end.column++),this.setState("select")):(u=n.selection.getWordRange(a.row,a.column),this.setState("selectByWords")),this.$clickSelection=u,this.select()},i.prototype.onTripleClick=function(r){var a=r.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var l=n.getSelectionRange();l.isMultiLine()&&l.contains(a.row,a.column)?(this.$clickSelection=n.selection.getLineRange(l.start.row),this.$clickSelection.end=n.selection.getLineRange(l.end.row).end):this.$clickSelection=n.selection.getLineRange(a.row),this.select()},i.prototype.onQuadClick=function(r){var a=this.editor;a.selectAll(),this.$clickSelection=a.getSelectionRange(),this.setState("selectAll")},i.prototype.onMouseWheel=function(r){if(!r.getAccelKey()){r.getShiftKey()&&r.wheelY&&!r.wheelX&&(r.wheelX=r.wheelY,r.wheelY=0);var a=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,l=r.domEvent.timeStamp,u=l-n.t,g=u?r.wheelX/u:n.vx,v=u?r.wheelY/u:n.vy;u<h&&(g=(g+n.vx)/2,v=(v+n.vy)/2);var E=Math.abs(g/v),x=!1;if(E>=1&&a.renderer.isScrollableBy(r.wheelX*r.speed,0)&&(x=!0),E<=1&&a.renderer.isScrollableBy(0,r.wheelY*r.speed)&&(x=!0),x)n.allowed=l;else if(l-n.allowed<h){var A=Math.abs(g)<=1.5*Math.abs(n.vx)&&Math.abs(v)<=1.5*Math.abs(n.vy);A?(x=!0,n.allowed=l):n.allowed=0}if(n.t=l,n.vx=g,n.vy=v,x)return a.renderer.scrollBy(r.wheelX*r.speed,r.wheelY*r.speed),r.stop()}},i}();s.prototype.selectEnd=s.prototype.selectByLinesEnd,s.prototype.selectAllEnd=s.prototype.selectByLinesEnd,s.prototype.selectByWordsEnd=s.prototype.selectByLinesEnd,t.DefaultHandlers=s;function c(i,r,a,n){return Math.sqrt(Math.pow(a-i,2)+Math.pow(n-r,2))}function o(i,r){if(i.start.row==i.end.row)var a=2*r.column-i.start.column-i.end.column;else if(i.start.row==i.end.row-1&&!i.start.column&&!i.end.column)var a=r.column-4;else var a=2*r.row-i.start.row-i.end.row;return a<0?{cursor:i.start,anchor:i.end}:{cursor:i.end,anchor:i.start}}});ace.define("ace/lib/scroll",["require","exports","module"],function(e,t,d){t.preventParentScroll=function(m){m.stopPropagation();var h=m.currentTarget,s=h.scrollHeight>h.clientHeight;s||m.preventDefault()}});ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(e,t,d){"use strict";var p=this&&this.__extends||function(){var u=function(g,v){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&(E[A]=x[A])},u(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");u(g,v);function E(){this.constructor=g}g.prototype=v===null?Object.create(v):(E.prototype=v.prototype,new E)}}(),m=this&&this.__values||function(u){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&u[g],E=0;if(v)return v.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&E>=u.length&&(u=void 0),{value:u&&u[E++],done:!u}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},h=e("./lib/dom"),s=e("./lib/event"),c=e("./range").Range,o=e("./lib/scroll").preventParentScroll,i="ace_tooltip",r=function(){function u(g){this.isOpen=!1,this.$element=null,this.$parentNode=g}return u.prototype.$init=function(){return this.$element=h.createElement("div"),this.$element.className=i,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},u.prototype.getElement=function(){return this.$element||this.$init()},u.prototype.setText=function(g){this.getElement().textContent=g},u.prototype.setHtml=function(g){this.getElement().innerHTML=g},u.prototype.setPosition=function(g,v){this.getElement().style.left=g+"px",this.getElement().style.top=v+"px"},u.prototype.setClassName=function(g){h.addCssClass(this.getElement(),g)},u.prototype.setTheme=function(g){this.$element.className=i+" "+(g.isDark?"ace_dark ":"")+(g.cssClass||"")},u.prototype.show=function(g,v,E){g!=null&&this.setText(g),v!=null&&E!=null&&this.setPosition(v,E),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},u.prototype.hide=function(g){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=i,this.isOpen=!1)},u.prototype.getHeight=function(){return this.getElement().offsetHeight},u.prototype.getWidth=function(){return this.getElement().offsetWidth},u.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},u}(),a=function(){function u(){this.popups=[]}return u.prototype.addPopup=function(g){this.popups.push(g),this.updatePopups()},u.prototype.removePopup=function(g){var v=this.popups.indexOf(g);v!==-1&&(this.popups.splice(v,1),this.updatePopups())},u.prototype.updatePopups=function(){var g,v,E,x;this.popups.sort(function(w,b){return b.priority-w.priority});var A=[];try{for(var S=m(this.popups),f=S.next();!f.done;f=S.next()){var L=f.value,$=!0;try{for(var C=(E=void 0,m(A)),_=C.next();!_.done;_=C.next()){var y=_.value;if(this.doPopupsOverlap(y,L)){$=!1;break}}}catch(w){E={error:w}}finally{try{_&&!_.done&&(x=C.return)&&x.call(C)}finally{if(E)throw E.error}}$?A.push(L):L.hide()}}catch(w){g={error:w}}finally{try{f&&!f.done&&(v=S.return)&&v.call(S)}finally{if(g)throw g.error}}},u.prototype.doPopupsOverlap=function(g,v){var E=g.getElement().getBoundingClientRect(),x=v.getElement().getBoundingClientRect();return E.left<x.right&&E.right>x.left&&E.top<x.bottom&&E.bottom>x.top},u}(),n=new a;t.popupManager=n,t.Tooltip=r;var l=function(u){p(g,u);function g(v){v===void 0&&(v=document.body);var E=u.call(this,v)||this;E.timeout=void 0,E.lastT=0,E.idleTime=350,E.lastEvent=void 0,E.onMouseOut=E.onMouseOut.bind(E),E.onMouseMove=E.onMouseMove.bind(E),E.waitForHover=E.waitForHover.bind(E),E.hide=E.hide.bind(E);var x=E.getElement();return x.style.whiteSpace="pre-wrap",x.style.pointerEvents="auto",x.addEventListener("mouseout",E.onMouseOut),x.tabIndex=-1,x.addEventListener("blur",function(){x.contains(document.activeElement)||this.hide()}.bind(E)),x.addEventListener("wheel",o),E}return g.prototype.addToEditor=function(v){v.on("mousemove",this.onMouseMove),v.on("mousedown",this.hide),v.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},g.prototype.removeFromEditor=function(v){v.off("mousemove",this.onMouseMove),v.off("mousedown",this.hide),v.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},g.prototype.onMouseMove=function(v,E){this.lastEvent=v,this.lastT=Date.now();var x=E.$mouseHandler.isMousePressed;if(this.isOpen){var A=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(A.row,A.column)||x||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||x||(this.lastEvent=v,this.timeout=setTimeout(this.waitForHover,this.idleTime))},g.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var v=Date.now()-this.lastT;if(this.idleTime-v>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-v);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},g.prototype.isOutsideOfText=function(v){var E=v.editor,x=v.getDocumentPosition(),A=E.session.getLine(x.row);if(x.column==A.length){var S=E.renderer.pixelToScreenCoordinates(v.clientX,v.clientY),f=E.session.documentToScreenPosition(x.row,x.column);if(f.column!=S.column||f.row!=S.row)return!0}return!1},g.prototype.setDataProvider=function(v){this.$gatherData=v},g.prototype.showForRange=function(v,E,x,A){var S=10;if(!(A&&A!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var f=v.renderer;this.isOpen||(n.addPopup(this),this.$registerCloseEvents(),this.setTheme(f.theme)),this.isOpen=!0,this.addMarker(E,v.session),this.range=c.fromPoints(E.start,E.end);var L=f.textToScreenCoordinates(E.start.row,E.start.column),$=f.scroller.getBoundingClientRect();L.pageX<$.left&&(L.pageX=$.left);var C=this.getElement();C.innerHTML="",C.appendChild(x),C.style.maxHeight="",C.style.display="block";var _=C.clientHeight,y=C.clientWidth,w=window.innerHeight-L.pageY-f.lineHeight,b=!0;L.pageY-_<0&&L.pageY<w&&(b=!1),C.style.maxHeight=(b?L.pageY:w)-S+"px",C.style.top=b?"":L.pageY+f.lineHeight+"px",C.style.bottom=b?window.innerHeight-L.pageY+"px":"",C.style.left=Math.min(L.pageX,window.innerWidth-y-S)+"px"}},g.prototype.addMarker=function(v,E){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=E,this.marker=E&&E.addMarker(v,"ace_highlight-marker","text")},g.prototype.hide=function(v){!v&&document.activeElement==this.getElement()||v&&v.target&&(v.type!="keydown"||v.ctrlKey||v.metaKey)&&this.$element.contains(v.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,n.removePopup(this)))},g.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},g.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},g.prototype.onMouseOut=function(v){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!v.relatedTarget||this.getElement().contains(v.relatedTarget)||v&&v.currentTarget.contains(v.relatedTarget)||v.relatedTarget.classList.contains("ace_content")||this.hide())},g}(r);t.HoverTooltip=l});ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(e,t,d){"use strict";var p=this&&this.__extends||function(){var n=function(l,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(g[E]=v[E])},n(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");n(l,u);function g(){this.constructor=l}l.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),m=this&&this.__values||function(n){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&n[l],g=0;if(u)return u.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&g>=n.length&&(n=void 0),{value:n&&n[g++],done:!n}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},h=e("../lib/dom"),s=e("../lib/event"),c=e("../tooltip").Tooltip,o=e("../config").nls,i=e("../lib/lang");function r(n){var l=n.editor,u=l.renderer.$gutterLayer,g=new a(l);n.editor.setDefaultHandler("guttermousedown",function(f){if(!(!l.isFocused()||f.getButton()!=0)){var L=u.getRegion(f);if(L!="foldWidgets"){var $=f.getDocumentPosition().row,C=l.session.selection;if(f.getShiftKey())C.selectTo($,0);else{if(f.domEvent.detail==2)return l.selectAll(),f.preventDefault();n.$clickSelection=l.selection.getLineRange($)}return n.setState("selectByLines"),n.captureMouse(f),f.preventDefault()}}});var v,E;function x(){var f=E.getDocumentPosition().row,L=l.session.getLength();if(f==L){var $=l.renderer.pixelToScreenCoordinates(0,E.y).row,C=E.$pos;if($>l.session.documentToScreenRow(C.row,C.column))return A()}if(g.showTooltip(f),!!g.isOpen)if(l.on("mousewheel",A),n.$tooltipFollowsMouse)S(E);else{var _=E.getGutterRow(),y=u.$lines.get(_);if(y){var w=y.element.querySelector(".ace_gutter_annotation"),b=w.getBoundingClientRect(),k=g.getElement().style;k.left=b.right+"px",k.top=b.bottom+"px"}else S(E)}}function A(){v&&(v=clearTimeout(v)),g.isOpen&&(g.hideTooltip(),l.off("mousewheel",A))}function S(f){g.setPosition(f.x,f.y)}n.editor.setDefaultHandler("guttermousemove",function(f){var L=f.domEvent.target||f.domEvent.srcElement;if(h.hasCssClass(L,"ace_fold-widget"))return A();g.isOpen&&n.$tooltipFollowsMouse&&S(f),E=f,!v&&(v=setTimeout(function(){v=null,E&&!n.isMousePressed?x():A()},50))}),s.addListener(l.renderer.$gutter,"mouseout",function(f){E=null,!(!g.isOpen||v)&&(v=setTimeout(function(){v=null,A()},50))},l),l.on("changeSession",A),l.on("input",A)}t.GutterHandler=r;var a=function(n){p(l,n);function l(u){var g=n.call(this,u.container)||this;return g.editor=u,g}return l.prototype.setPosition=function(u,g){var v=window.innerWidth||document.documentElement.clientWidth,E=window.innerHeight||document.documentElement.clientHeight,x=this.getWidth(),A=this.getHeight();u+=15,g+=15,u+x>v&&(u-=u+x-v),g+A>E&&(g-=20+A),c.prototype.setPosition.call(this,u,g)},Object.defineProperty(l,"annotationLabels",{get:function(){return{error:{singular:o("gutter-tooltip.aria-label.error.singular","error"),plural:o("gutter-tooltip.aria-label.error.plural","errors")},warning:{singular:o("gutter-tooltip.aria-label.warning.singular","warning"),plural:o("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:o("gutter-tooltip.aria-label.info.singular","information message"),plural:o("gutter-tooltip.aria-label.info.plural","information messages")}}},enumerable:!1,configurable:!0}),l.prototype.showTooltip=function(u){var g,v=this.editor.renderer.$gutterLayer,E=v.$annotations[u],x;E?x={displayText:Array.from(E.displayText),type:Array.from(E.type)}:x={displayText:[],type:[]};var A=v.session.getFoldLine(u);if(A&&v.$showFoldedAnnotations){for(var S={error:[],warning:[],info:[]},f,L=u+1;L<=A.end.row;L++)if(v.$annotations[L])for(var $=0;$<v.$annotations[L].text.length;$++){var C=v.$annotations[L].type[$];if(S[C].push(v.$annotations[L].text[$]),C==="error"){f="error_fold";continue}if(C==="warning"){f="warning_fold";continue}}if(f==="error_fold"||f==="warning_fold"){var _="".concat(l.annotationsToSummaryString(S)," in folded code.");x.displayText.push(_),x.type.push(f)}}if(x.displayText.length===0)return this.hide();for(var y={error:[],warning:[],info:[]},w=v.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",L=0;L<x.displayText.length;L++){var b=h.createElement("span"),k=h.createElement("span");(g=k.classList).add.apply(g,["ace_".concat(x.type[L]),w]),k.setAttribute("aria-label","".concat(l.annotationLabels[x.type[L].replace("_fold","")].singular)),k.setAttribute("role","img"),k.appendChild(h.createTextNode(" ")),b.appendChild(k),b.appendChild(h.createTextNode(x.displayText[L])),b.appendChild(h.createElement("br")),y[x.type[L].replace("_fold","")].push(b)}var T=this.getElement();h.removeChildren(T),y.error.forEach(function(M){return T.appendChild(M)}),y.warning.forEach(function(M){return T.appendChild(M)}),y.info.forEach(function(M){return T.appendChild(M)}),T.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},l.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},l.annotationsToSummaryString=function(u){var g,v,E=[],x=["error","warning","info"];try{for(var A=m(x),S=A.next();!S.done;S=A.next()){var f=S.value;if(u[f].length){var L=u[f].length===1?l.annotationLabels[f].singular:l.annotationLabels[f].plural;E.push("".concat(u[f].length," ").concat(L))}}}catch($){g={error:$}}finally{try{S&&!S.done&&(v=A.return)&&v.call(A)}finally{if(g)throw g.error}}return E.join(", ")},l}(c);t.GutterTooltip=a});ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,d){"use strict";var p=e("../lib/event"),m=e("../lib/useragent"),h=function(){function s(c,o){this.speed,this.wheelX,this.wheelY,this.domEvent=c,this.editor=o,this.x=this.clientX=c.clientX,this.y=this.clientY=c.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return s.prototype.stopPropagation=function(){p.stopPropagation(this.domEvent),this.propagationStopped=!0},s.prototype.preventDefault=function(){p.preventDefault(this.domEvent),this.defaultPrevented=!0},s.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},s.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},s.prototype.getGutterRow=function(){var c=this.getDocumentPosition().row,o=this.editor.session.documentToScreenRow(c,0),i=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return o-i},s.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var c=this.editor,o=c.getSelectionRange();if(o.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=o.contains(i.row,i.column)}return this.$inSelection},s.prototype.getButton=function(){return p.getButton(this.domEvent)},s.prototype.getShiftKey=function(){return this.domEvent.shiftKey},s.prototype.getAccelKey=function(){return m.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},s}();t.MouseEvent=h});ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,d){"use strict";var p=e("../lib/dom"),m=e("../lib/event"),h=e("../lib/useragent"),s=200,c=200,o=5;function i(a){var n=a.editor,l=p.createElement("div");l.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",l.textContent="\xA0";var u=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];u.forEach(function(P){a[P]=this[P]},this),n.on("mousedown",this.onMouseDown.bind(a));var g=n.container,v,E,x,A,S,f,L=0,$,C,_,y,w;this.onDragStart=function(P){if(this.cancelDrag||!g.draggable){var F=this;return setTimeout(function(){F.startSelect(),F.captureMouse(P)},0),P.preventDefault()}S=n.getSelectionRange();var z=P.dataTransfer;z.effectAllowed=n.getReadOnly()?"copy":"copyMove",n.container.appendChild(l),z.setDragImage&&z.setDragImage(l,0,0),setTimeout(function(){n.container.removeChild(l)}),z.clearData(),z.setData("Text",n.session.getTextRange()),C=!0,this.setState("drag")},this.onDragEnd=function(P){if(g.draggable=!1,C=!1,this.setState(null),!n.getReadOnly()){var F=P.dataTransfer.dropEffect;!$&&F=="move"&&n.session.remove(n.getSelectionRange()),n.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(P){if(!(n.getReadOnly()||!O(P.dataTransfer)))return E=P.clientX,x=P.clientY,v||M(),L++,P.dataTransfer.dropEffect=$=N(P),m.preventDefault(P)},this.onDragOver=function(P){if(!(n.getReadOnly()||!O(P.dataTransfer)))return E=P.clientX,x=P.clientY,v||(M(),L++),I!==null&&(I=null),P.dataTransfer.dropEffect=$=N(P),m.preventDefault(P)},this.onDragLeave=function(P){if(L--,L<=0&&v)return R(),$=null,m.preventDefault(P)},this.onDrop=function(P){if(f){var F=P.dataTransfer;if(C)switch($){case"move":S.contains(f.row,f.column)?S={start:f,end:f}:S=n.moveText(S,f);break;case"copy":S=n.moveText(S,f,!0);break}else{var z=F.getData("Text");S={start:f,end:n.session.insert(f,z)},n.focus(),$=null}return R(),m.preventDefault(P)}},m.addListener(g,"dragstart",this.onDragStart.bind(a),n),m.addListener(g,"dragend",this.onDragEnd.bind(a),n),m.addListener(g,"dragenter",this.onDragEnter.bind(a),n),m.addListener(g,"dragover",this.onDragOver.bind(a),n),m.addListener(g,"dragleave",this.onDragLeave.bind(a),n),m.addListener(g,"drop",this.onDrop.bind(a),n);function b(P,F){var z=Date.now(),U=!F||P.row!=F.row,W=!F||P.column!=F.column;if(!y||U||W)n.moveCursorToPosition(P),y=z,w={x:E,y:x};else{var q=r(w.x,w.y,E,x);q>o?y=null:z-y>=c&&(n.renderer.scrollCursorIntoView(),y=null)}}function k(P,F){var z=Date.now(),U=n.renderer.layerConfig.lineHeight,W=n.renderer.layerConfig.characterWidth,q=n.renderer.scroller.getBoundingClientRect(),X={x:{left:E-q.left,right:q.right-E},y:{top:x-q.top,bottom:q.bottom-x}},Z=Math.min(X.x.left,X.x.right),nt=Math.min(X.y.top,X.y.bottom),ot={row:P.row,column:P.column};Z/W<=2&&(ot.column+=X.x.left<X.x.right?-3:2),nt/U<=1&&(ot.row+=X.y.top<X.y.bottom?-1:1);var yt=P.row!=ot.row,Et=P.column!=ot.column,vt=!F||P.row!=F.row;yt||Et&&!vt?_?z-_>=s&&n.renderer.scrollCursorIntoView(ot):_=z:_=null}function T(){var P=f;f=n.renderer.screenToTextCoordinates(E,x),b(f,P),k(f,P)}function M(){S=n.selection.toOrientedRange(),v=n.session.addMarker(S,"ace_selection",n.getSelectionStyle()),n.clearSelection(),n.isFocused()&&n.renderer.$cursorLayer.setBlinking(!1),clearInterval(A),T(),A=setInterval(T,20),L=0,m.addListener(document,"mousemove",D)}function R(){clearInterval(A),n.session.removeMarker(v),v=null,n.selection.fromOrientedRange(S),n.isFocused()&&!C&&n.$resetCursorStyle(),S=null,f=null,L=0,_=null,y=null,m.removeListener(document,"mousemove",D)}var I=null;function D(){I==null&&(I=setTimeout(function(){I!=null&&v&&R()},20))}function O(P){var F=P.types;return!F||Array.prototype.some.call(F,function(z){return z=="text/plain"||z=="Text"})}function N(P){var F=["copy","copymove","all","uninitialized"],z=["move","copymove","linkmove","all","uninitialized"],U=h.isMac?P.altKey:P.ctrlKey,W="uninitialized";try{W=P.dataTransfer.effectAllowed.toLowerCase()}catch{}var q="none";return U&&F.indexOf(W)>=0?q="copy":z.indexOf(W)>=0?q="move":F.indexOf(W)>=0&&(q="copy"),q}}(function(){this.dragWait=function(){var a=Date.now()-this.mousedownEvent.time;a>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var a=this.editor.container;a.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(a){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var a=this.editor,n=a.container;n.draggable=!0,a.renderer.$cursorLayer.setBlinking(!1),a.setStyle("ace_dragging");var l=h.isWin?"default":"move";a.renderer.setCursorStyle(l),this.setState("dragReady")},this.onMouseDrag=function(a){var n=this.editor.container;if(h.isIE&&this.state=="dragReady"){var l=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);l>3&&n.dragDrop()}if(this.state==="dragWait"){var l=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);l>0&&(n.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(a){if(this.$dragEnabled){this.mousedownEvent=a;var n=this.editor,l=a.inSelection(),u=a.getButton(),g=a.domEvent.detail||1;if(g===1&&u===0&&l){if(a.editor.inMultiSelectMode&&(a.getAccelKey()||a.getShiftKey()))return;this.mousedownEvent.time=Date.now();var v=a.domEvent.target||a.domEvent.srcElement;if("unselectable"in v&&(v.unselectable="on"),n.getDragDelay()){if(h.isWebKit){this.cancelDrag=!0;var E=n.container;E.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(a,this.onMouseDrag.bind(this)),a.defaultPrevented=!0}}}}).call(i.prototype);function r(a,n,l,u){return Math.sqrt(Math.pow(l-a,2)+Math.pow(u-n,2))}t.DragdropHandler=i});ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(e,t,d){"use strict";var p=e("./mouse_event").MouseEvent,m=e("../lib/event"),h=e("../lib/dom");t.addTouchListeners=function(s,c){var o="scroll",i,r,a,n,l,u,g=0,v,E=0,x=0,A=0,S,f;function L(){var b=window.navigator&&window.navigator.clipboard,k=!1,T=function(){var I=c.getCopyText(),D=c.session.getUndoManager().hasUndo();f.replaceChild(h.buildDom(k?["span",!I&&M("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],I&&M("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],I&&M("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],b&&M("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],D&&M("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],M("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],M("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),f.firstChild)},M=function(I){return c.commands.canExecute(I,c)},R=function(I){var D=I.target.getAttribute("action");if(D=="more"||!k)return k=!k,T();D=="paste"?b.readText().then(function(O){c.execCommand(D,O)}):D&&((D=="cut"||D=="copy")&&(b?b.writeText(c.getCopyText()):document.execCommand("copy")),c.execCommand(D)),f.firstChild.style.display="none",k=!1,D!="openCommandPalette"&&c.focus()};f=h.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(I){o="menu",I.stopPropagation(),I.preventDefault(),c.textInput.focus()},ontouchend:function(I){I.stopPropagation(),I.preventDefault(),R(I)},onclick:R},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],c.container)}function $(){if(!c.getOption("enableMobileMenu")){f&&C();return}f||L();var b=c.selection.cursor,k=c.renderer.textToScreenCoordinates(b.row,b.column),T=c.renderer.textToScreenCoordinates(0,0).pageX,M=c.renderer.scrollLeft,R=c.container.getBoundingClientRect();f.style.top=k.pageY-R.top-3+"px",k.pageX-R.left<R.width-70?(f.style.left="",f.style.right="10px"):(f.style.right="",f.style.left=T+M-R.left+"px"),f.style.display="",f.firstChild.style.display="none",c.on("input",C)}function C(b){f&&(f.style.display="none"),c.off("input",C)}function _(){l=null,clearTimeout(l);var b=c.selection.getRange(),k=b.contains(v.row,v.column);(b.isEmpty()||!k)&&(c.selection.moveToPosition(v),c.selection.selectWord()),o="wait",$()}function y(){l=null,clearTimeout(l),c.selection.moveToPosition(v);var b=E>=2?c.selection.getLineRange(v.row):c.session.getBracketRange(v);b&&!b.isEmpty()?c.selection.setRange(b):c.selection.selectWord(),o="wait"}m.addListener(s,"contextmenu",function(b){if(S){var k=c.textInput.getElement();k.focus()}},c),m.addListener(s,"touchstart",function(b){var k=b.touches;if(l||k.length>1){clearTimeout(l),l=null,a=-1,o="zoom";return}S=c.$mouseHandler.isMousePressed=!0;var T=c.renderer.layerConfig.lineHeight,M=c.renderer.layerConfig.lineHeight,R=b.timeStamp;n=R;var I=k[0],D=I.clientX,O=I.clientY;Math.abs(i-D)+Math.abs(r-O)>T&&(a=-1),i=b.clientX=D,r=b.clientY=O,x=A=0;var N=new p(b,c);if(v=N.getDocumentPosition(),R-a<500&&k.length==1&&!g)E++,b.preventDefault(),b.button=0,y();else{E=0;var P=c.selection.cursor,F=c.selection.isEmpty()?P:c.selection.anchor,z=c.renderer.$cursorLayer.getPixelPosition(P,!0),U=c.renderer.$cursorLayer.getPixelPosition(F,!0),W=c.renderer.scroller.getBoundingClientRect(),q=c.renderer.layerConfig.offset,X=c.renderer.scrollLeft,Z=function(yt,Et){return yt=yt/M,Et=Et/T-.75,yt*yt+Et*Et};if(b.clientX<W.left){o="zoom";return}var nt=Z(b.clientX-W.left-z.left+X,b.clientY-W.top-z.top+q),ot=Z(b.clientX-W.left-U.left+X,b.clientY-W.top-U.top+q);nt<3.5&&ot<3.5&&(o=nt>ot?"cursor":"anchor"),ot<3.5?o="anchor":nt<3.5?o="cursor":o="scroll",l=setTimeout(_,450)}a=R},c),m.addListener(s,"touchend",function(b){S=c.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),o=="zoom"?(o="",g=0):l?(c.selection.moveToPosition(v),g=0,$()):o=="scroll"?(w(),C()):$(),clearTimeout(l),l=null},c),m.addListener(s,"touchmove",function(b){l&&(clearTimeout(l),l=null);var k=b.touches;if(!(k.length>1||o=="zoom")){var T=k[0],M=i-T.clientX,R=r-T.clientY;if(o=="wait")if(M*M+R*R>4)o="cursor";else return b.preventDefault();i=T.clientX,r=T.clientY,b.clientX=T.clientX,b.clientY=T.clientY;var I=b.timeStamp,D=I-n;if(n=I,o=="scroll"){var O=new p(b,c);O.speed=1,O.wheelX=M,O.wheelY=R,10*Math.abs(M)<Math.abs(R)&&(M=0),10*Math.abs(R)<Math.abs(M)&&(R=0),D!=0&&(x=M/D,A=R/D),c._emit("mousewheel",O),O.propagationStopped||(x=A=0)}else{var N=new p(b,c),P=N.getDocumentPosition();o=="cursor"?c.selection.moveCursorToPosition(P):o=="anchor"&&c.selection.setSelectionAnchor(P.row,P.column),c.renderer.scrollCursorIntoView(P),b.preventDefault()}}},c);function w(){g+=60,u=setInterval(function(){g--<=0&&(clearInterval(u),u=null),Math.abs(x)<.01&&(x=0),Math.abs(A)<.01&&(A=0),g<20&&(x=.9*x),g<20&&(A=.9*A);var b=c.session.getScrollTop();c.renderer.scrollBy(10*x,10*A),b==c.session.getScrollTop()&&(g=0)},10)}}});ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(e,t,d){"use strict";var p=e("../lib/event"),m=e("../lib/useragent"),h=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,c=e("./mouse_event").MouseEvent,o=e("./dragdrop_handler").DragdropHandler,i=e("./touch_handler").addTouchListeners,r=e("../config"),a=function(){function n(l){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var u=this;this.editor=l,new h(this),new s(this),new o(this);var g=function(x){var A=!document.hasFocus||!document.hasFocus()||!l.isFocused()&&document.activeElement==(l.textInput&&l.textInput.getElement());A&&window.focus(),l.focus(),setTimeout(function(){l.isFocused()||l.focus()})},v=l.renderer.getMouseEventTarget();p.addListener(v,"click",this.onMouseEvent.bind(this,"click"),l),p.addListener(v,"mousemove",this.onMouseMove.bind(this,"mousemove"),l),p.addMultiMouseDownListener([v,l.renderer.scrollBarV&&l.renderer.scrollBarV.inner,l.renderer.scrollBarH&&l.renderer.scrollBarH.inner,l.textInput&&l.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",l),p.addMouseWheelListener(l.container,this.onMouseWheel.bind(this,"mousewheel"),l),i(l.container,l);var E=l.renderer.$gutter;p.addListener(E,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),l),p.addListener(E,"click",this.onMouseEvent.bind(this,"gutterclick"),l),p.addListener(E,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),l),p.addListener(E,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),l),p.addListener(v,"mousedown",g,l),p.addListener(E,"mousedown",g,l),m.isIE&&l.renderer.scrollBarV&&(p.addListener(l.renderer.scrollBarV.element,"mousedown",g,l),p.addListener(l.renderer.scrollBarH.element,"mousedown",g,l)),l.on("mousemove",function(x){if(!(u.state||u.$dragDelay||!u.$dragEnabled)){var A=l.renderer.screenToTextCoordinates(x.x,x.y),S=l.session.selection.getRange(),f=l.renderer;!S.isEmpty()&&S.insideStart(A.row,A.column)?f.setCursorStyle("default"):f.setCursorStyle("")}},l)}return n.prototype.onMouseEvent=function(l,u){this.editor.session&&this.editor._emit(l,new c(u,this.editor))},n.prototype.onMouseMove=function(l,u){var g=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!g||!g.length||this.editor._emit(l,new c(u,this.editor))},n.prototype.onMouseWheel=function(l,u){var g=new c(u,this.editor);g.speed=this.$scrollSpeed*2,g.wheelX=u.wheelX,g.wheelY=u.wheelY,this.editor._emit(l,g)},n.prototype.setState=function(l){this.state=l},n.prototype.captureMouse=function(l,u){this.x=l.x,this.y=l.y,this.isMousePressed=!0;var g=this.editor,v=this.editor.renderer;v.$isMousePressed=!0;var E=this,x=function($){if($){if(m.isWebKit&&!$.which&&E.releaseMouse)return E.releaseMouse();E.x=$.clientX,E.y=$.clientY,u&&u($),E.mouseEvent=new c($,E.editor),E.$mouseMoved=!0}},A=function($){g.off("beforeEndOperation",f),clearInterval(L),g.session&&S(),E[E.state+"End"]&&E[E.state+"End"]($),E.state="",E.isMousePressed=v.$isMousePressed=!1,v.$keepTextAreaAtCursor&&v.$moveTextAreaToCursor(),E.$onCaptureMouseMove=E.releaseMouse=null,$&&E.onMouseEvent("mouseup",$),g.endOperation()},S=function(){E[E.state]&&E[E.state](),E.$mouseMoved=!1};if(m.isOldIE&&l.domEvent.type=="dblclick")return setTimeout(function(){A(l)});var f=function($){E.releaseMouse&&g.curOp.command.name&&g.curOp.selectionChanged&&(E[E.state+"End"]&&E[E.state+"End"](),E.state="",E.releaseMouse())};g.on("beforeEndOperation",f),g.startOperation({command:{name:"mouse"}}),E.$onCaptureMouseMove=x,E.releaseMouse=p.capture(this.editor.container,x,A);var L=setInterval(S,20)},n.prototype.cancelContextMenu=function(){var l=function(u){u&&u.domEvent&&u.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",l),u&&u.domEvent&&p.stopEvent(u.domEvent))}.bind(this);setTimeout(l,10),this.editor.on("nativecontextmenu",l)},n.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},n}();a.prototype.releaseMouse=null,r.defineOptions(a.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:m.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=a});ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,t,d){"use strict";var p=e("../lib/dom"),m=function(){function h(s){s.on("click",function(c){var o=c.getDocumentPosition(),i=s.session,r=i.getFoldAt(o.row,o.column,1);r&&(c.getAccelKey()?i.removeFold(r):i.expandFold(r),c.stop());var a=c.domEvent&&c.domEvent.target;a&&p.hasCssClass(a,"ace_inline_button")&&p.hasCssClass(a,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),s.renderer.scrollCursorIntoView())}),s.on("gutterclick",function(c){var o=s.renderer.$gutterLayer.getRegion(c);if(o=="foldWidgets"){var i=c.getDocumentPosition().row,r=s.session;r.foldWidgets&&r.foldWidgets[i]&&s.session.onFoldWidgetClick(i,c),s.isFocused()||s.focus(),c.stop()}}),s.on("gutterdblclick",function(c){var o=s.renderer.$gutterLayer.getRegion(c);if(o=="foldWidgets"){var i=c.getDocumentPosition().row,r=s.session,a=r.getParentFoldRangeData(i,!0),n=a.range||a.firstRange;if(n){i=n.start.row;var l=r.getFoldAt(i,r.getLine(i).length,1);l?r.removeFold(l):(r.addFold("...",n),s.renderer.scrollCursorIntoView({row:n.start.row,column:0}))}c.stop()}})}return h}();t.FoldHandler=m});ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,d){"use strict";var p=e("../lib/keys"),m=e("../lib/event"),h=function(){function s(c){this.$editor=c,this.$data={editor:c},this.$handlers=[],this.setDefaultHandler(c.commands)}return s.prototype.setDefaultHandler=function(c){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=c,this.addKeyboardHandler(c,0)},s.prototype.setKeyboardHandler=function(c){var o=this.$handlers;if(o[o.length-1]!=c){for(;o[o.length-1]&&o[o.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(o[o.length-1]);this.addKeyboardHandler(c,1)}},s.prototype.addKeyboardHandler=function(c,o){if(c){typeof c=="function"&&!c.handleKeyboard&&(c.handleKeyboard=c);var i=this.$handlers.indexOf(c);i!=-1&&this.$handlers.splice(i,1),o==null?this.$handlers.push(c):this.$handlers.splice(o,0,c),i==-1&&c.attach&&c.attach(this.$editor)}},s.prototype.removeKeyboardHandler=function(c){var o=this.$handlers.indexOf(c);return o==-1?!1:(this.$handlers.splice(o,1),c.detach&&c.detach(this.$editor),!0)},s.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},s.prototype.getStatusText=function(){var c=this.$data,o=c.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(o,c)||""}).filter(Boolean).join(" ")},s.prototype.$callKeyboardHandlers=function(c,o,i,r){for(var a,n=!1,l=this.$editor.commands,u=this.$handlers.length;u--&&(a=this.$handlers[u].handleKeyboard(this.$data,c,o,i,r),!(!(!a||!a.command)&&(a.command=="null"?n=!0:n=l.exec(a.command,this.$editor,a.args,r),n&&r&&c!=-1&&a.passEvent!=!0&&a.command.passEvent!=!0&&m.stopEvent(r),n))););return!n&&c==-1&&(a={command:"insertstring"},n=l.exec("insertstring",this.$editor,o)),n&&this.$editor._signal&&this.$editor._signal("keyboardActivity",a),n},s.prototype.onCommandKey=function(c,o,i){var r=p.keyCodeToString(i);return this.$callKeyboardHandlers(o,r,i,c)},s.prototype.onTextInput=function(c){return this.$callKeyboardHandlers(-1,c)},s}();t.KeyBinding=h});ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,t,d){"use strict";var p=["\u0621","\u0641"],m=["\u063A","\u064A"],h=0,s=0,c=!1,o=!1,i=!1,r=!1,a=!1,n=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g=0,v=1,E=0,x=1,A=2,S=3,f=4,L=5,$=6,C=7,_=8,y=9,w=10,b=11,k=12,T=13,M=14,R=15,I=16,D=17,O=18,N=[O,O,O,O,O,O,O,O,O,$,L,$,_,L,O,O,O,O,O,O,O,O,O,O,O,O,O,O,L,L,L,$,_,f,f,b,b,b,f,f,f,f,f,w,y,w,y,y,A,A,A,A,A,A,A,A,A,A,y,f,f,f,f,f,f,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,f,f,f,f,f,f,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,f,f,f,f,O,O,O,O,O,O,L,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,y,f,b,b,b,b,f,f,f,f,E,f,f,O,f,f,b,b,A,A,f,E,f,f,f,A,E,f,f,f,f,f],P=[_,_,_,_,_,_,_,_,_,_,_,O,O,O,E,x,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,_,L,T,M,R,I,D,y,b,b,b,b,b,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,y,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,_];function F(X,Z,nt,ot){var yt=h?u:l,Et=null,vt=null,H=null,J=0,at=null,tt=null,ct=-1,Y=null,G=null,st=[];if(!ot)for(Y=0,ot=[];Y<nt;Y++)ot[Y]=W(X[Y]);for(s=h,c=!1,o=!1,i=!1,r=!1,G=0;G<nt;G++){if(Et=J,st[G]=vt=U(X,ot,st,G),J=yt[Et][vt],at=J&240,J&=15,Z[G]=H=yt[J][5],at>0)if(at==16){for(Y=ct;Y<G;Y++)Z[Y]=1;ct=-1}else ct=-1;if(tt=yt[J][6],tt)ct==-1&&(ct=G);else if(ct>-1){for(Y=ct;Y<G;Y++)Z[Y]=H;ct=-1}ot[G]==L&&(Z[G]=0),s|=H}if(r){for(Y=0;Y<nt;Y++)if(ot[Y]==$){Z[Y]=h;for(var it=Y-1;it>=0&&ot[it]==_;it--)Z[it]=h}}}function z(X,Z,nt){if(!(s<X)){if(X==1&&h==v&&!i){nt.reverse();return}for(var ot=nt.length,yt=0,Et,vt,H,J;yt<ot;){if(Z[yt]>=X){for(Et=yt+1;Et<ot&&Z[Et]>=X;)Et++;for(vt=yt,H=Et-1;vt<H;vt++,H--)J=nt[vt],nt[vt]=nt[H],nt[H]=J;yt=Et}yt++}}}function U(X,Z,nt,ot){var yt=Z[ot],Et,vt,H,J;switch(yt){case E:case x:c=!1;case f:case S:return yt;case A:return c?S:A;case C:return c=!0,o=!0,x;case _:return f;case y:return ot<1||ot+1>=Z.length||(Et=nt[ot-1])!=A&&Et!=S||(vt=Z[ot+1])!=A&&vt!=S?f:(c&&(vt=S),vt==Et?vt:f);case w:return Et=ot>0?nt[ot-1]:L,Et==A&&ot+1<Z.length&&Z[ot+1]==A?A:f;case b:if(ot>0&&nt[ot-1]==A)return A;if(c)return f;for(J=ot+1,H=Z.length;J<H&&Z[J]==b;)J++;return J<H&&Z[J]==A?A:f;case k:for(H=Z.length,J=ot+1;J<H&&Z[J]==k;)J++;if(J<H){var at=X[ot],tt=at>=1425&&at<=2303||at==64286;if(Et=Z[J],tt&&(Et==x||Et==C))return x}return ot<1||(Et=Z[ot-1])==L?f:nt[ot-1];case L:return c=!1,i=!0,h;case $:return r=!0,f;case T:case M:case I:case D:case R:c=!1;case O:return f}}function W(X){var Z=X.charCodeAt(0),nt=Z>>8;return nt==0?Z>191?E:N[Z]:nt==5?/[\u0591-\u05f4]/.test(X)?x:E:nt==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(X)?k:/[\u0660-\u0669\u066b-\u066c]/.test(X)?S:Z==1642?b:/[\u06f0-\u06f9]/.test(X)?A:C:nt==32&&Z<=8287?P[Z&255]:nt==254&&Z>=65136?C:f}function q(X){return X>="\u064B"&&X<="\u0655"}t.L=E,t.R=x,t.EN=A,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xB7",t.doBidiReorder=function(X,Z,nt){if(X.length<2)return{};var ot=X.split(""),yt=new Array(ot.length),Et=new Array(ot.length),vt=[];h=nt?v:g,F(ot,vt,ot.length,Z);for(var H=0;H<yt.length;yt[H]=H,H++);z(2,vt,yt),z(1,vt,yt);for(var H=0;H<yt.length-1;H++)Z[H]===S?vt[H]=t.AN:vt[H]===x&&(Z[H]>C&&Z[H]<T||Z[H]===f||Z[H]===O)?vt[H]=t.ON_R:H>0&&ot[H-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(ot[H])&&(vt[H-1]=vt[H]=t.R_H,H++);ot[ot.length-1]===t.DOT&&(vt[ot.length-1]=t.B),ot[0]==="\u202B"&&(vt[0]=t.RLE);for(var H=0;H<yt.length;H++)Et[H]=vt[yt[H]];return{logicalFromVisual:yt,bidiLevels:Et}},t.hasBidiCharacters=function(X,Z){for(var nt=!1,ot=0;ot<X.length;ot++)Z[ot]=W(X.charAt(ot)),!nt&&(Z[ot]==x||Z[ot]==C||Z[ot]==S)&&(nt=!0);return nt},t.getVisualFromLogicalIdx=function(X,Z){for(var nt=0;nt<Z.logicalFromVisual.length;nt++)if(Z.logicalFromVisual[nt]==X)return nt;return 0}});ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(e,t,d){"use strict";var p=e("./lib/bidiutil"),m=e("./lib/lang"),h=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function c(o){this.session=o,this.bidiMap={},this.currentRow=null,this.bidiUtil=p,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=h.test(o.getValue())}return c.prototype.isBidiRow=function(o,i,r){return this.seenBidi?(o!==this.currentRow&&(this.currentRow=o,this.updateRowLine(i,r),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},c.prototype.onChange=function(o){this.seenBidi?this.currentRow=null:o.action=="insert"&&h.test(o.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},c.prototype.getDocumentRow=function(){var o=0,i=this.session.$screenRowCache;if(i.length){var r=this.session.$getRowCacheIndex(i,this.currentRow);r>=0&&(o=this.session.$docRowCache[r])}return o},c.prototype.getSplitIndex=function(){var o=0,i=this.session.$screenRowCache;if(i.length)for(var r,a=this.session.$getRowCacheIndex(i,this.currentRow);this.currentRow-o>0&&(r=this.session.$getRowCacheIndex(i,this.currentRow-o-1),r===a);)a=r,o++;else o=this.currentRow;return o},c.prototype.updateRowLine=function(o,i){o===void 0&&(o=this.getDocumentRow());var r=o===this.session.getLength()-1,a=r?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(o),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var n=this.session.$wrapData[o];n&&(i===void 0&&(i=this.getSplitIndex()),i>0&&n.length?(this.wrapIndent=n.indent,this.wrapOffset=this.wrapIndent*this.charWidths[p.L],this.line=i<n.length?this.line.substring(n[i-1],n[i]):this.line.substring(n[n.length-1])):this.line=this.line.substring(0,n[i]),i==n.length&&(this.line+=this.showInvisibles?a:p.DOT))}else this.line+=this.showInvisibles?a:p.DOT;var l=this.session,u=0,g;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(v,E){return v==="	"||l.isFullWidth(v.charCodeAt(0))?(g=v==="	"?l.getScreenTabSize(E+u):2,u+=g-1,m.stringRepeat(p.DOT,g)):v}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==p.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},c.prototype.updateBidiMap=function(){var o=[];p.hasBidiCharacters(this.line,o)||this.isRtlDir?this.bidiMap=p.doBidiReorder(this.line,o,this.isRtlDir):this.bidiMap={}},c.prototype.markAsDirty=function(){this.currentRow=null},c.prototype.updateCharacterWidths=function(o){if(this.characterWidth!==o.$characterSize.width){this.fontMetrics=o;var i=this.characterWidth=o.$characterSize.width,r=o.$measureCharWidth("\u05D4");this.charWidths[p.L]=this.charWidths[p.EN]=this.charWidths[p.ON_R]=i,this.charWidths[p.R]=this.charWidths[p.AN]=r,this.charWidths[p.R_H]=r*.45,this.charWidths[p.B]=this.charWidths[p.RLE]=0,this.currentRow=null}},c.prototype.setShowInvisibles=function(o){this.showInvisibles=o,this.currentRow=null},c.prototype.setEolChar=function(o){this.EOL=o},c.prototype.setContentWidth=function(o){this.contentWidth=o},c.prototype.isRtlLine=function(o){return this.$isRtl?!0:o!=null?this.session.getLine(o).charAt(0)==this.RLE:this.isRtlDir},c.prototype.setRtlDirection=function(o,i){for(var r=o.getCursorPosition(),a=o.selection.getSelectionAnchor().row;a<=r.row;a++)!i&&o.session.getLine(a).charAt(0)===o.session.$bidiHandler.RLE?o.session.doc.removeInLine(a,0,1):i&&o.session.getLine(a).charAt(0)!==o.session.$bidiHandler.RLE&&o.session.doc.insert({column:0,row:a},o.session.$bidiHandler.RLE)},c.prototype.getPosLeft=function(o){o-=this.wrapIndent;var i=this.line.charAt(0)===this.RLE?1:0,r=o>i?this.session.getOverwrite()?o:o-1:i,a=p.getVisualFromLogicalIdx(r,this.bidiMap),n=this.bidiMap.bidiLevels,l=0;!this.session.getOverwrite()&&o<=i&&n[a]%2!==0&&a++;for(var u=0;u<a;u++)l+=this.charWidths[n[u]];return!this.session.getOverwrite()&&o>i&&n[a]%2===0&&(l+=this.charWidths[n[a]]),this.wrapIndent&&(l+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(l+=this.rtlLineOffset),l},c.prototype.getSelections=function(o,i){var r=this.bidiMap,a=r.bidiLevels,n,l=[],u=0,g=Math.min(o,i)-this.wrapIndent,v=Math.max(o,i)-this.wrapIndent,E=!1,x=!1,A=0;this.wrapIndent&&(u+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var S,f=0;f<a.length;f++)S=r.logicalFromVisual[f],n=a[f],E=S>=g&&S<v,E&&!x?A=u:!E&&x&&l.push({left:A,width:u-A}),u+=this.charWidths[n],x=E;if(E&&f===a.length&&l.push({left:A,width:u-A}),this.isRtlDir)for(var L=0;L<l.length;L++)l[L].left+=this.rtlLineOffset;return l},c.prototype.offsetToCol=function(r){this.isRtlDir&&(r-=this.rtlLineOffset);var i=0,r=Math.max(r,0),a=0,n=0,l=this.bidiMap.bidiLevels,u=this.charWidths[l[n]];for(this.wrapIndent&&(r-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);r>a+u/2;){if(a+=u,n===l.length-1){u=0;break}u=this.charWidths[l[++n]]}return n>0&&l[n-1]%2!==0&&l[n]%2===0?(r<a&&n--,i=this.bidiMap.logicalFromVisual[n]):n>0&&l[n-1]%2===0&&l[n]%2!==0?i=1+(r>a?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===l.length-1&&u===0&&l[n-1]%2===0||!this.isRtlDir&&n===0&&l[n]%2!==0?i=1+this.bidiMap.logicalFromVisual[n]:(n>0&&l[n-1]%2!==0&&u!==0&&n--,i=this.bidiMap.logicalFromVisual[n]),i===0&&this.isRtlDir&&i++,i+this.wrapIndent},c}();t.BidiHandler=s});ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,d){"use strict";var p=e("./lib/oop"),m=e("./lib/lang"),h=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,c=function(){function o(i){this.session=i,this.doc=i.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var r=this;this.cursor.on("change",function(a){r.$cursorChanged=!0,r.$silent||r._emit("changeCursor"),!r.$isEmpty&&!r.$silent&&r._emit("changeSelection"),!r.$keepDesiredColumnOnChange&&a.old.column!=a.value.column&&(r.$desiredColumn=null)}),this.anchor.on("change",function(){r.$anchorChanged=!0,!r.$isEmpty&&!r.$silent&&r._emit("changeSelection")})}return o.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},o.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},o.prototype.getCursor=function(){return this.lead.getPosition()},o.prototype.setAnchor=function(i,r){this.$isEmpty=!1,this.anchor.setPosition(i,r)},o.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},o.prototype.getSelectionLead=function(){return this.lead.getPosition()},o.prototype.isBackwards=function(){var i=this.anchor,r=this.lead;return i.row>r.row||i.row==r.row&&i.column>r.column},o.prototype.getRange=function(){var i=this.anchor,r=this.lead;return this.$isEmpty?s.fromPoints(r,r):this.isBackwards()?s.fromPoints(r,i):s.fromPoints(i,r)},o.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},o.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},o.prototype.setRange=function(i,r){var a=r?i.end:i.start,n=r?i.start:i.end;this.$setSelection(a.row,a.column,n.row,n.column)},o.prototype.$setSelection=function(i,r,a,n){if(!this.$silent){var l=this.$isEmpty,u=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(i,r),this.cursor.setPosition(a,n),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||l!=this.$isEmpty||u)&&this._emit("changeSelection")}},o.prototype.$moveSelection=function(i){var r=this.lead;this.$isEmpty&&this.setSelectionAnchor(r.row,r.column),i.call(this)},o.prototype.selectTo=function(i,r){this.$moveSelection(function(){this.moveCursorTo(i,r)})},o.prototype.selectToPosition=function(i){this.$moveSelection(function(){this.moveCursorToPosition(i)})},o.prototype.moveTo=function(i,r){this.clearSelection(),this.moveCursorTo(i,r)},o.prototype.moveToPosition=function(i){this.clearSelection(),this.moveCursorToPosition(i)},o.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},o.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},o.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},o.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},o.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},o.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},o.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},o.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},o.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},o.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},o.prototype.getWordRange=function(i,r){if(typeof r>"u"){var a=i||this.lead;i=a.row,r=a.column}return this.session.getWordRange(i,r)},o.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},o.prototype.selectAWord=function(){var i=this.getCursor(),r=this.session.getAWordRange(i.row,i.column);this.setSelectionRange(r)},o.prototype.getLineRange=function(i,r){var a=typeof i=="number"?i:this.lead.row,n,l=this.session.getFoldLine(a);return l?(a=l.start.row,n=l.end.row):n=a,r===!0?new s(a,0,n,this.session.getLine(n).length):new s(a,0,n+1,0)},o.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},o.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},o.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},o.prototype.wouldMoveIntoSoftTab=function(i,r,a){var n=i.column,l=i.column+r;return a<0&&(n=i.column-r,l=i.column),this.session.isTabStop(i)&&this.doc.getLine(i.row).slice(n,l).split(" ").length-1==r},o.prototype.moveCursorLeft=function(){var i=this.lead.getPosition(),r;if(r=this.session.getFoldAt(i.row,i.column,-1))this.moveCursorTo(r.start.row,r.start.column);else if(i.column===0)i.row>0&&this.moveCursorTo(i.row-1,this.doc.getLine(i.row-1).length);else{var a=this.session.getTabSize();this.wouldMoveIntoSoftTab(i,a,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-a):this.moveCursorBy(0,-1)}},o.prototype.moveCursorRight=function(){var i=this.lead.getPosition(),r;if(r=this.session.getFoldAt(i.row,i.column,1))this.moveCursorTo(r.end.row,r.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var a=this.session.getTabSize(),i=this.lead;this.wouldMoveIntoSoftTab(i,a,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,a):this.moveCursorBy(0,1)}},o.prototype.moveCursorLineStart=function(){var i=this.lead.row,r=this.lead.column,a=this.session.documentToScreenRow(i,r),n=this.session.screenToDocumentPosition(a,0),l=this.session.getDisplayLine(i,null,n.row,n.column),u=l.match(/^\s*/);u[0].length!=r&&!this.session.$useEmacsStyleLineStart&&(n.column+=u[0].length),this.moveCursorToPosition(n)},o.prototype.moveCursorLineEnd=function(){var i=this.lead,r=this.session.getDocumentLastRowColumnPosition(i.row,i.column);if(this.lead.column==r.column){var a=this.session.getLine(r.row);if(r.column==a.length){var n=a.search(/\s+$/);n>0&&(r.column=n)}}this.moveCursorTo(r.row,r.column)},o.prototype.moveCursorFileEnd=function(){var i=this.doc.getLength()-1,r=this.doc.getLine(i).length;this.moveCursorTo(i,r)},o.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},o.prototype.moveCursorLongWordRight=function(){var i=this.lead.row,r=this.lead.column,a=this.doc.getLine(i),n=a.substring(r);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var l=this.session.getFoldAt(i,r,1);if(l){this.moveCursorTo(l.end.row,l.end.column);return}if(this.session.nonTokenRe.exec(n)&&(r+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=a.substring(r)),r>=a.length){this.moveCursorTo(i,a.length),this.moveCursorRight(),i<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(n)&&(r+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,r)},o.prototype.moveCursorLongWordLeft=function(){var i=this.lead.row,r=this.lead.column,a;if(a=this.session.getFoldAt(i,r,-1)){this.moveCursorTo(a.start.row,a.start.column);return}var n=this.session.getFoldStringAt(i,r,-1);n==null&&(n=this.doc.getLine(i).substring(0,r));var l=m.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(l)&&(r-=this.session.nonTokenRe.lastIndex,l=l.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),r<=0){this.moveCursorTo(i,0),this.moveCursorLeft(),i>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(l)&&(r-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,r)},o.prototype.$shortWordEndIndex=function(i){var r=0,a,n=/\s/,l=this.session.tokenRe;if(l.lastIndex=0,this.session.tokenRe.exec(i))r=this.session.tokenRe.lastIndex;else{for(;(a=i[r])&&n.test(a);)r++;if(r<1){for(l.lastIndex=0;(a=i[r])&&!l.test(a);)if(l.lastIndex=0,r++,n.test(a))if(r>2){r--;break}else{for(;(a=i[r])&&n.test(a);)r++;if(r>2)break}}}return l.lastIndex=0,r},o.prototype.moveCursorShortWordRight=function(){var i=this.lead.row,r=this.lead.column,a=this.doc.getLine(i),n=a.substring(r),l=this.session.getFoldAt(i,r,1);if(l)return this.moveCursorTo(l.end.row,l.end.column);if(r==a.length){var u=this.doc.getLength();do i++,n=this.doc.getLine(i);while(i<u&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),r=0}var g=this.$shortWordEndIndex(n);this.moveCursorTo(i,r+g)},o.prototype.moveCursorShortWordLeft=function(){var i=this.lead.row,r=this.lead.column,a;if(a=this.session.getFoldAt(i,r,-1))return this.moveCursorTo(a.start.row,a.start.column);var n=this.session.getLine(i).substring(0,r);if(r===0){do i--,n=this.doc.getLine(i);while(i>0&&/^\s*$/.test(n));r=n.length,/\s+$/.test(n)||(n="")}var l=m.stringReverse(n),u=this.$shortWordEndIndex(l);return this.moveCursorTo(i,r-u)},o.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},o.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},o.prototype.moveCursorBy=function(i,r){var a=this.session.documentToScreenPosition(this.lead.row,this.lead.column),n;if(r===0&&(i!==0&&(this.session.$bidiHandler.isBidiRow(a.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(a.column),a.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=a.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?a.column=this.$desiredColumn:this.$desiredColumn=a.column),i!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var l=this.session.lineWidgets[this.lead.row];i<0?i-=l.rowsAbove||0:i>0&&(i+=l.rowCount-(l.rowsAbove||0))}var u=this.session.screenToDocumentPosition(a.row+i,a.column,n);i!==0&&r===0&&u.row===this.lead.row&&(u.column,this.lead.column),this.moveCursorTo(u.row,u.column+r,r===0)},o.prototype.moveCursorToPosition=function(i){this.moveCursorTo(i.row,i.column)},o.prototype.moveCursorTo=function(i,r,a){var n=this.session.getFoldAt(i,r,1);n&&(i=n.start.row,r=n.start.column),this.$keepDesiredColumnOnChange=!0;var l=this.session.getLine(i);/[\uDC00-\uDFFF]/.test(l.charAt(r))&&l.charAt(r-1)&&(this.lead.row==i&&this.lead.column==r+1?r=r-1:r=r+1),this.lead.setPosition(i,r),this.$keepDesiredColumnOnChange=!1,a||(this.$desiredColumn=null)},o.prototype.moveCursorToScreen=function(i,r,a){var n=this.session.screenToDocumentPosition(i,r);this.moveCursorTo(n.row,n.column,a)},o.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},o.prototype.fromOrientedRange=function(i){this.setSelectionRange(i,i.cursor==i.start),this.$desiredColumn=i.desiredColumn||this.$desiredColumn},o.prototype.toOrientedRange=function(i){var r=this.getRange();return i?(i.start.column=r.start.column,i.start.row=r.start.row,i.end.column=r.end.column,i.end.row=r.end.row):i=r,i.cursor=this.isBackwards()?i.start:i.end,i.desiredColumn=this.$desiredColumn,i},o.prototype.getRangeOfMovements=function(i){var r=this.getCursor();try{i(this);var a=this.getCursor();return s.fromPoints(r,a)}catch{return s.fromPoints(r,r)}finally{this.moveCursorToPosition(r)}},o.prototype.toJSON=function(){if(this.rangeCount)var i=this.ranges.map(function(r){var a=r.clone();return a.isBackwards=r.cursor==r.start,a});else{var i=this.getRange();i.isBackwards=this.isBackwards()}return i},o.prototype.fromJSON=function(i){if(i.start==null)if(this.rangeList&&i.length>1){this.toSingleRange(i[0]);for(var r=i.length;r--;){var a=s.fromPoints(i[r].start,i[r].end);i[r].isBackwards&&(a.cursor=a.start),this.addRange(a,!0)}return}else i=i[0];this.rangeList&&this.toSingleRange(i),this.setSelectionRange(i,i.isBackwards)},o.prototype.isEqual=function(i){if((i.length||this.rangeCount)&&i.length!=this.rangeCount)return!1;if(!i.length||!this.ranges)return this.getRange().isEqual(i);for(var r=this.ranges.length;r--;)if(!this.ranges[r].isEqual(i[r]))return!1;return!0},o}();c.prototype.setSelectionAnchor=c.prototype.setAnchor,c.prototype.getSelectionAnchor=c.prototype.getAnchor,c.prototype.setSelectionRange=c.prototype.setRange,p.implement(c.prototype,h),t.Selection=c});ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(e,t,d){"use strict";var p=e("./lib/report_error").reportError,m=2e3,h=function(){function s(c){this.splitRegex,this.states=c,this.regExps={},this.matchMappings={};for(var o in this.states){for(var i=this.states[o],r=[],a=0,n=this.matchMappings[o]={defaultToken:"text"},l="g",u=[],g=0;g<i.length;g++){var v=i[g];if(v.defaultToken&&(n.defaultToken=v.defaultToken),v.caseInsensitive&&l.indexOf("i")===-1&&(l+="i"),v.unicode&&l.indexOf("u")===-1&&(l+="u"),v.regex!=null){v.regex instanceof RegExp&&(v.regex=v.regex.toString().slice(1,-1));var E=v.regex,x=new RegExp("(?:("+E+")|(.))").exec("a").length-2;Array.isArray(v.token)?v.token.length==1||x==1?v.token=v.token[0]:x-1!=v.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:v,groupCount:x-1}),v.token=v.token[0]):(v.tokenArray=v.token,v.token=null,v.onMatch=this.$arrayTokens):typeof v.token=="function"&&!v.onMatch&&(x>1?v.onMatch=this.$applyToken:v.onMatch=v.token),x>1&&(/\\\d/.test(v.regex)?E=v.regex.replace(/\\([0-9]+)/g,function(A,S){return"\\"+(parseInt(S,10)+a+1)}):(x=1,E=this.removeCapturingGroups(v.regex)),!v.splitRegex&&typeof v.token!="string"&&u.push(v)),n[a]=g,a+=x,r.push(E),v.onMatch||(v.onMatch=null)}}r.length||(n[0]=0,r.push("$")),u.forEach(function(A){A.splitRegex=this.createSplitterRegexp(A.regex,l)},this),this.regExps[o]=new RegExp("("+r.join(")|(")+")|($)",l)}}return s.prototype.$setMaxTokenCount=function(c){m=c|0},s.prototype.$applyToken=function(c){var o=this.splitRegex.exec(c).slice(1),i=this.token.apply(this,o);if(typeof i=="string")return[{type:i,value:c}];for(var r=[],a=0,n=i.length;a<n;a++)o[a]&&(r[r.length]={type:i[a],value:o[a]});return r},s.prototype.$arrayTokens=function(c){if(!c)return[];var o=this.splitRegex.exec(c);if(!o)return"text";for(var i=[],r=this.tokenArray,a=0,n=r.length;a<n;a++)o[a+1]&&(i[i.length]={type:r[a],value:o[a+1]});return i},s.prototype.removeCapturingGroups=function(c){var o=c.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(i,r){return r?"(?:":i});return o},s.prototype.createSplitterRegexp=function(c,o){if(c.indexOf("(?=")!=-1){var i=0,r=!1,a={};c.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(n,l,u,g,v,E){return r?r=v!="]":v?r=!0:g?(i==a.stack&&(a.end=E+1,a.stack=-1),i--):u&&(i++,u.length!=1&&(a.stack=i,a.start=E)),n}),a.end!=null&&/^\)*$/.test(c.substr(a.end))&&(c=c.substring(0,a.start)+c.substr(a.end))}return c.charAt(0)!="^"&&(c="^"+c),c.charAt(c.length-1)!="$"&&(c+="$"),new RegExp(c,(o||"").replace("g",""))},s.prototype.getLineTokens=function(c,o){if(o&&typeof o!="string"){var i=o.slice(0);o=i[0],o==="#tmp"&&(i.shift(),o=i.shift())}else var i=[];var r=o||"start",a=this.states[r];a||(r="start",a=this.states[r]);var n=this.matchMappings[r],l=this.regExps[r];l.lastIndex=0;for(var u,g=[],v=0,E=0,x={type:null,value:""};u=l.exec(c);){var A=n.defaultToken,S=null,f=u[0],L=l.lastIndex;if(L-f.length>v){var $=c.substring(v,L-f.length);x.type==A?x.value+=$:(x.type&&g.push(x),x={type:A,value:$})}for(var C=0;C<u.length-2;C++)if(u[C+1]!==void 0){S=a[n[C]],S.onMatch?A=S.onMatch(f,r,i,c):A=S.token,S.next&&(typeof S.next=="string"?r=S.next:r=S.next(r,i),a=this.states[r],a||(this.reportError("state doesn't exist",r),r="start",a=this.states[r]),n=this.matchMappings[r],v=L,l=this.regExps[r],l.lastIndex=L),S.consumeLineEnd&&(v=L);break}if(f){if(typeof A=="string")(!S||S.merge!==!1)&&x.type===A?x.value+=f:(x.type&&g.push(x),x={type:A,value:f});else if(A){x.type&&g.push(x),x={type:null,value:""};for(var C=0;C<A.length;C++)g.push(A[C])}}if(v==c.length)break;if(v=L,E++>m){for(E>2*c.length&&this.reportError("infinite loop with in ace tokenizer",{startState:o,line:c});v<c.length;)x.type&&g.push(x),x={value:c.substring(v,v+=500),type:"overflow"};r="start",i=[];break}}return x.type&&g.push(x),i.length>1&&i[0]!==r&&i.unshift("#tmp",r),{tokens:g,state:i.length?i:r}},s}();h.prototype.reportError=p,t.Tokenizer=h});ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(e,t,d){"use strict";var p=e("../lib/deep_copy").deepCopy,m;m=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},function(){this.addRules=function(c,o){if(!o){for(var i in c)this.$rules[i]=c[i];return}for(var i in c){for(var r=c[i],a=0;a<r.length;a++){var n=r[a];(n.next||n.onMatch)&&(typeof n.next=="string"&&n.next.indexOf(o)!==0&&(n.next=o+n.next),n.nextState&&n.nextState.indexOf(o)!==0&&(n.nextState=o+n.nextState))}this.$rules[o+i]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(c,o,i,r,a){var n=typeof c=="function"?new c().getRules():c;if(r)for(var l=0;l<r.length;l++)r[l]=o+r[l];else{r=[];for(var u in n)r.push(o+u)}if(this.addRules(n,o),i)for(var g=Array.prototype[a?"push":"unshift"],l=0;l<r.length;l++)g.apply(this.$rules[r[l]],p(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(o)},this.getEmbeds=function(){return this.$embeds};var h=function(c,o){return(c!="start"||o.length)&&o.unshift(this.nextState,c),this.nextState},s=function(c,o){return o.shift(),o.shift()||"start"};this.normalizeRules=function(){var c=0,o=this.$rules;function i(r){var a=o[r];a.processed=!0;for(var n=0;n<a.length;n++){var l=a[n],u=null;Array.isArray(l)&&(u=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var g=l.next||l.push;if(g&&Array.isArray(g)){var v=l.stateName;v||(v=l.token,typeof v!="string"&&(v=v[0]||""),o[v]&&(v+=c++)),o[v]=g,l.next=v,i(v)}else g=="pop"&&(l.next=s);if(l.push&&(l.nextState=l.next||l.push,l.next=h,delete l.push),l.rules)for(var E in l.rules)o[E]?o[E].push&&o[E].push.apply(o[E],l.rules[E]):o[E]=l.rules[E];var x=typeof l=="string"?l:l.include;if(x&&(x==="$self"&&(x="start"),Array.isArray(x)?u=x.map(function(S){return o[S]}):u=o[x]),u){var A=[n,1].concat(u);l.noEscape&&(A=A.filter(function(S){return!S.next})),a.splice.apply(a,A),n--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}Object.keys(o).forEach(i,this)},this.createKeywordMapper=function(c,o,i,r){var a=Object.create(null);return this.$keywordList=[],Object.keys(c).forEach(function(n){for(var l=c[n],u=l.split(r||"|"),g=u.length;g--;){var v=u[g];this.$keywordList.push(v),i&&(v=v.toLowerCase()),a[v]=n}},this),c=null,i?function(n){return a[n.toLowerCase()]||o}:function(n){return a[n]||o}},this.getKeywords=function(){return this.$keywords}}.call(m.prototype),t.TextHighlightRules=m});ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,d){"use strict";var p;p=function(){this.$behaviours={}},function(){this.add=function(m,h,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[m]:this.$behaviours[m]={}}this.$behaviours[m][h]=s},this.addBehaviours=function(m){for(var h in m)for(var s in m[h])this.add(h,s,m[h][s])},this.remove=function(m){this.$behaviours&&this.$behaviours[m]&&delete this.$behaviours[m]},this.inherit=function(m,h){if(typeof m=="function")var s=new m().getBehaviours(h);else var s=m.getBehaviours(h);this.addBehaviours(s)},this.getBehaviours=function(m){if(m){for(var h={},s=0;s<m.length;s++)this.$behaviours[m[s]]&&(h[m[s]]=this.$behaviours[m[s]]);return h}else return this.$behaviours}}.call(p.prototype),t.Behaviour=p});ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,t,d){"use strict";var p=e("./range").Range,m=function(){function h(s,c,o){this.$session=s,this.$row=c,this.$rowTokens=s.getTokens(c);var i=s.getTokenAt(c,o);this.$tokenIndex=i?i.index:-1}return h.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},h.prototype.stepForward=function(){this.$tokenIndex+=1;for(var s;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,s||(s=this.$session.getLength()),this.$row>=s)return this.$row=s-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},h.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},h.prototype.getCurrentTokenRow=function(){return this.$row},h.prototype.getCurrentTokenColumn=function(){var s=this.$rowTokens,c=this.$tokenIndex,o=s[c].start;if(o!==void 0)return o;for(o=0;c>0;)c-=1,o+=s[c].value.length;return o},h.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},h.prototype.getCurrentTokenRange=function(){var s=this.$rowTokens[this.$tokenIndex],c=this.getCurrentTokenColumn();return new p(this.$row,c,this.$row,c+s.value.length)},h}();t.TokenIterator=m});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,d){"use strict";var p=e("../../lib/oop"),m=e("../behaviour").Behaviour,h=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),c=["text","paren.rparen","rparen","paren","punctuation.operator"],o=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],i,r={},a={'"':'"',"'":"'"},n=function(g){var v=-1;if(g.multiSelect&&(v=g.selection.index,r.rangeCount!=g.multiSelect.rangeCount&&(r={rangeCount:g.multiSelect.rangeCount})),r[v])return i=r[v];i=r[v]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},l=function(g,v,E,x){var A=g.end.row-g.start.row;return{text:E+v+x,selection:[0,g.start.column+1,A,g.end.column+(A?0:1)]}},u;u=function(g){g=g||{},this.add("braces","insertion",function(v,E,x,A,S){var f=x.getCursorPosition(),L=A.doc.getLine(f.row);if(S=="{"){n(x);var $=x.getSelectionRange(),C=A.doc.getTextRange($),_=A.getTokenAt(f.row,f.column);if(C!==""&&C!=="{"&&x.getWrapBehavioursEnabled())return l($,C,"{","}");if(_&&/(?:string)\.quasi|\.xml/.test(_.type)){var y=[/tag\-(?:open|name)/,/attribute\-name/];return y.some(function(I){return I.test(_.type)})||/(string)\.quasi/.test(_.type)&&_.value[f.column-_.start-1]!=="$"?void 0:(u.recordAutoInsert(x,A,"}"),{text:"{}",selection:[1,1]})}else if(u.isSaneInsertion(x,A))return/[\]\}\)]/.test(L[f.column])||x.inMultiSelectMode||g.braces?(u.recordAutoInsert(x,A,"}"),{text:"{}",selection:[1,1]}):(u.recordMaybeInsert(x,A,"{"),{text:"{",selection:[1,1]})}else if(S=="}"){n(x);var w=L.substring(f.column,f.column+1);if(w=="}"){var b=A.$findOpeningBracket("}",{column:f.column+1,row:f.row});if(b!==null&&u.isAutoInsertedClosing(f,L,S))return u.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(S==`
`||S==`\r
`){n(x);var k="";u.isMaybeInsertedClosing(f,L)&&(k=s.stringRepeat("}",i.maybeInsertedBrackets),u.clearMaybeInsertedClosing());var w=L.substring(f.column,f.column+1);if(w==="}"){var T=A.findMatchingBracket({row:f.row,column:f.column+1},"}");if(!T)return null;var M=this.$getIndent(A.getLine(T.row))}else if(k)var M=this.$getIndent(L);else{u.clearMaybeInsertedClosing();return}var R=M+A.getTabString();return{text:`
`+R+`
`+M+k,selection:[1,R.length,1,R.length]}}else u.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(v,E,x,A,S){var f=A.doc.getTextRange(S);if(!S.isMultiLine()&&f=="{"){n(x);var L=A.doc.getLine(S.start.row),$=L.substring(S.end.column,S.end.column+1);if($=="}")return S.end.column++,S;i.maybeInsertedBrackets--}}),this.add("parens","insertion",function(v,E,x,A,S){if(S=="("){n(x);var f=x.getSelectionRange(),L=A.doc.getTextRange(f);if(L!==""&&x.getWrapBehavioursEnabled())return l(f,L,"(",")");if(u.isSaneInsertion(x,A))return u.recordAutoInsert(x,A,")"),{text:"()",selection:[1,1]}}else if(S==")"){n(x);var $=x.getCursorPosition(),C=A.doc.getLine($.row),_=C.substring($.column,$.column+1);if(_==")"){var y=A.$findOpeningBracket(")",{column:$.column+1,row:$.row});if(y!==null&&u.isAutoInsertedClosing($,C,S))return u.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(v,E,x,A,S){var f=A.doc.getTextRange(S);if(!S.isMultiLine()&&f=="("){n(x);var L=A.doc.getLine(S.start.row),$=L.substring(S.start.column+1,S.start.column+2);if($==")")return S.end.column++,S}}),this.add("brackets","insertion",function(v,E,x,A,S){if(S=="["){n(x);var f=x.getSelectionRange(),L=A.doc.getTextRange(f);if(L!==""&&x.getWrapBehavioursEnabled())return l(f,L,"[","]");if(u.isSaneInsertion(x,A))return u.recordAutoInsert(x,A,"]"),{text:"[]",selection:[1,1]}}else if(S=="]"){n(x);var $=x.getCursorPosition(),C=A.doc.getLine($.row),_=C.substring($.column,$.column+1);if(_=="]"){var y=A.$findOpeningBracket("]",{column:$.column+1,row:$.row});if(y!==null&&u.isAutoInsertedClosing($,C,S))return u.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(v,E,x,A,S){var f=A.doc.getTextRange(S);if(!S.isMultiLine()&&f=="["){n(x);var L=A.doc.getLine(S.start.row),$=L.substring(S.start.column+1,S.start.column+2);if($=="]")return S.end.column++,S}}),this.add("string_dquotes","insertion",function(v,E,x,A,S){var f=A.$mode.$quotes||a;if(S.length==1&&f[S]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(S)!=-1)return;n(x);var L=S,$=x.getSelectionRange(),C=A.doc.getTextRange($);if(C!==""&&(C.length!=1||!f[C])&&x.getWrapBehavioursEnabled())return l($,C,L,L);if(!C){var _=x.getCursorPosition(),y=A.doc.getLine(_.row),w=y.substring(_.column-1,_.column),b=y.substring(_.column,_.column+1),k=A.getTokenAt(_.row,_.column),T=A.getTokenAt(_.row,_.column+1);if(w=="\\"&&k&&/escape/.test(k.type))return null;var M=k&&/string|escape/.test(k.type),R=!T||/string|escape/.test(T.type),I;if(b==L)I=M!==R,I&&/string\.end/.test(T.type)&&(I=!1);else{if(M&&!R||M&&R)return null;var D=A.$mode.tokenRe;D.lastIndex=0;var O=D.test(w);D.lastIndex=0;var N=D.test(b),P=A.$mode.$pairQuotesAfter,F=P&&P[L]&&P[L].test(w);if(!F&&O||N||b&&!/[\s;,.})\]\\]/.test(b))return null;var z=y[_.column-2];if(w==L&&(z==L||D.test(z)))return null;I=!0}return{text:I?L+L:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(v,E,x,A,S){var f=A.$mode.$quotes||a,L=A.doc.getTextRange(S);if(!S.isMultiLine()&&f.hasOwnProperty(L)){n(x);var $=A.doc.getLine(S.start.row),C=$.substring(S.start.column+1,S.start.column+2);if(C==L)return S.end.column++,S}}),g.closeDocComment!==!1&&this.add("doc comment end","insertion",function(v,E,x,A,S){if(v==="doc-start"&&(S===`
`||S===`\r
`)&&x.selection.isEmpty()){var f=x.getCursorPosition();if(f.column===0)return;for(var L=A.doc.getLine(f.row),$=A.doc.getLine(f.row+1),C=A.getTokens(f.row),_=0,y=0;y<C.length;y++){_+=C[y].value.length;var w=C[y];if(_>=f.column){if(_===f.column){if(!/\.doc/.test(w.type))return;if(/\*\//.test(w.value)){var b=C[y+1];if(!b||!/\.doc/.test(b.type))return}}var k=f.column-(_-w.value.length),T=w.value.indexOf("*/"),M=w.value.indexOf("/**",T>-1?T+2:0);if(M!==-1&&k>M&&k<M+3||T!==-1&&M!==-1&&k>=T&&k<=M||!/\.doc/.test(w.type))return;break}}var R=this.$getIndent(L);if(/\s*\*/.test($))return/^\s*\*/.test(L)?{text:S+R+"* ",selection:[1,2+R.length,1,2+R.length]}:{text:S+R+" * ",selection:[1,3+R.length,1,3+R.length]};if(/\/\*\*/.test(L.substring(0,f.column)))return{text:S+R+" * "+S+" "+R+"*/",selection:[1,4+R.length,1,4+R.length]}}})},u.isSaneInsertion=function(g,v){var E=g.getCursorPosition(),x=new h(v,E.row,E.column);if(!this.$matchTokenType(x.getCurrentToken()||"text",c)){if(/[)}\]]/.test(g.session.getLine(E.row)[E.column]))return!0;var A=new h(v,E.row,E.column+1);if(!this.$matchTokenType(A.getCurrentToken()||"text",c))return!1}return x.stepForward(),x.getCurrentTokenRow()!==E.row||this.$matchTokenType(x.getCurrentToken()||"text",o)},u.$matchTokenType=function(g,v){return v.indexOf(g.type||g)>-1},u.recordAutoInsert=function(g,v,E){var x=g.getCursorPosition(),A=v.doc.getLine(x.row);this.isAutoInsertedClosing(x,A,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=x.row,i.autoInsertedLineEnd=E+A.substr(x.column),i.autoInsertedBrackets++},u.recordMaybeInsert=function(g,v,E){var x=g.getCursorPosition(),A=v.doc.getLine(x.row);this.isMaybeInsertedClosing(x,A)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=x.row,i.maybeInsertedLineStart=A.substr(0,x.column)+E,i.maybeInsertedLineEnd=A.substr(x.column),i.maybeInsertedBrackets++},u.isAutoInsertedClosing=function(g,v,E){return i.autoInsertedBrackets>0&&g.row===i.autoInsertedRow&&E===i.autoInsertedLineEnd[0]&&v.substr(g.column)===i.autoInsertedLineEnd},u.isMaybeInsertedClosing=function(g,v){return i.maybeInsertedBrackets>0&&g.row===i.maybeInsertedRow&&v.substr(g.column)===i.maybeInsertedLineEnd&&v.substr(0,g.column)==i.maybeInsertedLineStart},u.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},u.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},p.inherits(u,m),t.CstyleBehaviour=u});ace.define("ace/unicode",["require","exports","module"],function(e,t,d){"use strict";for(var p=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],m=0,h=[],s=0;s<p.length;s+=2)h.push(m+=p[s]),p[s+1]&&h.push(45,m+=p[s+1]);t.wordChars=String.fromCharCode.apply(null,h)});ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,d){"use strict";var p=e("../config"),m=e("../tokenizer").Tokenizer,h=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,c=e("../unicode"),o=e("../lib/lang"),i=e("../token_iterator").TokenIterator,r=e("../range").Range,a;a=function(){this.HighlightRules=h},function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+c.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+c.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new m(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(n,l,u,g){var v=l.doc,E=!0,x=!0,A=1/0,S=l.getTabSize(),f=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var C=this.lineCommentStart.map(o.escapeRegExp).join("|"),L=this.lineCommentStart[0];else var C=o.escapeRegExp(this.lineCommentStart),L=this.lineCommentStart;C=new RegExp("^(\\s*)(?:"+C+") ?"),f=l.getUseSoftTabs();var w=function(N,P){var F=N.match(C);if(F){var z=F[1].length,U=F[0].length;!T(N,z,U)&&F[0][U-1]==" "&&U--,v.removeInLine(P,z,U)}},k=L+" ",y=function(N,P){(!E||/\S/.test(N))&&(T(N,A,A)?v.insertInLine({row:P,column:A},k):v.insertInLine({row:P,column:A},L))},b=function(N,P){return C.test(N)},T=function(N,P,F){for(var z=0;P--&&N.charAt(P)==" ";)z++;if(z%S!=0)return!1;for(var z=0;N.charAt(F++)==" ";)z++;return S>2?z%S!=S-1:z%S==0}}else{if(!this.blockComment)return!1;var L=this.blockComment.start,$=this.blockComment.end,C=new RegExp("^(\\s*)(?:"+o.escapeRegExp(L)+")"),_=new RegExp("(?:"+o.escapeRegExp($)+")\\s*$"),y=function(I,D){b(I,D)||(!E||/\S/.test(I))&&(v.insertInLine({row:D,column:I.length},$),v.insertInLine({row:D,column:A},L))},w=function(I,D){var O;(O=I.match(_))&&v.removeInLine(D,I.length-O[0].length,I.length),(O=I.match(C))&&v.removeInLine(D,O[1].length,O[0].length)},b=function(I,D){if(C.test(I))return!0;for(var O=l.getTokens(D),N=0;N<O.length;N++)if(O[N].type==="comment")return!0}}function M(I){for(var D=u;D<=g;D++)I(v.getLine(D),D)}var R=1/0;M(function(I,D){var O=I.search(/\S/);O!==-1?(O<A&&(A=O),x&&!b(I,D)&&(x=!1)):R>I.length&&(R=I.length)}),A==1/0&&(A=R,E=!1,x=!1),f&&A%S!=0&&(A=Math.floor(A/S)*S),M(x?w:y)},this.toggleBlockComment=function(n,l,u,g){var v=this.blockComment;if(v){!v.start&&v[0]&&(v=v[0]);var E=new i(l,g.row,g.column),x=E.getCurrentToken(),A=l.selection,S=l.selection.toOrientedRange(),f,L;if(x&&/comment/.test(x.type)){for(var $,C;x&&/comment/.test(x.type);){var _=x.value.indexOf(v.start);if(_!=-1){var y=E.getCurrentTokenRow(),w=E.getCurrentTokenColumn()+_;$=new r(y,w,y,w+v.start.length);break}x=E.stepBackward()}for(var E=new i(l,g.row,g.column),x=E.getCurrentToken();x&&/comment/.test(x.type);){var _=x.value.indexOf(v.end);if(_!=-1){var y=E.getCurrentTokenRow(),w=E.getCurrentTokenColumn()+_;C=new r(y,w,y,w+v.end.length);break}x=E.stepForward()}C&&l.remove(C),$&&(l.remove($),f=$.start.row,L=-v.start.length)}else L=v.start.length,f=u.start.row,l.insert(u.end,v.end),l.insert(u.start,v.start);S.start.row==f&&(S.start.column+=L),S.end.row==f&&(S.end.column+=L),l.selection.fromOrientedRange(S)}},this.getNextLineIndent=function(n,l,u){return this.$getIndent(l)},this.checkOutdent=function(n,l,u){return!1},this.autoOutdent=function(n,l,u){},this.$getIndent=function(n){return n.match(/^\s*/)[0]},this.createWorker=function(n){return null},this.createModeDelegates=function(n){this.$embeds=[],this.$modes={};for(var l in n)if(n[l]){var u=n[l],g=u.prototype.$id,v=p.$modes[g];v||(p.$modes[g]=v=new u),p.$modes[l]||(p.$modes[l]=v),this.$embeds.push(l),this.$modes[l]=v}for(var E=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],x=function(S){(function(f){var L=E[S],$=f[L];f[E[S]]=function(){return this.$delegator(L,arguments,$)}})(A)},A=this,l=0;l<E.length;l++)x(l)},this.$delegator=function(n,l,u){var g=l[0]||"start";if(typeof g!="string"){if(Array.isArray(g[2])){var v=g[2][g[2].length-1],E=this.$modes[v];if(E)return E[n].apply(E,[g[1]].concat([].slice.call(l,1)))}g=g[0]||"start"}for(var x=0;x<this.$embeds.length;x++)if(this.$modes[this.$embeds[x]]){var A=g.split(this.$embeds[x]);if(!A[0]&&A[1]){l[0]=A[1];var E=this.$modes[this.$embeds[x]];return E[n].apply(E,l)}}var S=u.apply(this,l);return u?S:void 0},this.transformAction=function(n,l,u,g,v){if(this.$behaviour){var E=this.$behaviour.getBehaviours();for(var x in E)if(E[x][l]){var A=E[x][l].apply(this,arguments);if(A)return A}}},this.getKeywords=function(n){if(!this.completionKeywords){var l=this.$tokenizer.rules,u=[];for(var g in l)for(var v=l[g],E=0,x=v.length;E<x;E++)if(typeof v[E].token=="string")/keyword|support|storage/.test(v[E].token)&&u.push(v[E].regex);else if(typeof v[E].token=="object"){for(var A=0,S=v[E].token.length;A<S;A++)if(/keyword|support|storage/.test(v[E].token[A])){var g=v[E].regex.match(/\(.+?\)/g)[A];u.push(g.substr(1,g.length-2))}}this.completionKeywords=u}return n?u.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(n,l,u,g){var v=this.$keywordList||this.$createKeywordList();return v.map(function(E){return{name:E,value:E,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}.call(a.prototype),t.Mode=a});ace.define("ace/apply_delta",["require","exports","module"],function(e,t,d){"use strict";function p(s,c){throw console.log("Invalid Delta:",s),"Invalid Delta: "+c}function m(s,c){return c.row>=0&&c.row<s.length&&c.column>=0&&c.column<=s[c.row].length}function h(s,c){c.action!="insert"&&c.action!="remove"&&p(c,"delta.action must be 'insert' or 'remove'"),c.lines instanceof Array||p(c,"delta.lines must be an Array"),(!c.start||!c.end)&&p(c,"delta.start/end must be an present");var o=c.start;m(s,c.start)||p(c,"delta.start must be contained in document");var i=c.end;c.action=="remove"&&!m(s,i)&&p(c,"delta.end must contained in document for 'remove' actions");var r=i.row-o.row,a=i.column-(r==0?o.column:0);(r!=c.lines.length-1||c.lines[r].length!=a)&&p(c,"delta.range must match delta lines")}t.applyDelta=function(s,c,o){var i=c.start.row,r=c.start.column,a=s[i]||"";switch(c.action){case"insert":var n=c.lines;if(n.length===1)s[i]=a.substring(0,r)+c.lines[0]+a.substring(r);else{var l=[i,1].concat(c.lines);s.splice.apply(s,l),s[i]=a.substring(0,r)+s[i],s[i+c.lines.length-1]+=a.substring(r)}break;case"remove":var u=c.end.column,g=c.end.row;i===g?s[i]=a.substring(0,r)+a.substring(u):s.splice(i,g-i+1,a.substring(0,r)+s[g].substring(u));break}}});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,d){"use strict";var p=e("./lib/oop"),m=e("./lib/event_emitter").EventEmitter,h=function(){function o(i,r,a){this.$onChange=this.onChange.bind(this),this.attach(i),typeof r!="number"?this.setPosition(r.row,r.column):this.setPosition(r,a)}return o.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},o.prototype.getDocument=function(){return this.document},o.prototype.onChange=function(i){if(!(i.start.row==i.end.row&&i.start.row!=this.row)&&!(i.start.row>this.row)){var r=c(i,{row:this.row,column:this.column},this.$insertRight);this.setPosition(r.row,r.column,!0)}},o.prototype.setPosition=function(i,r,a){var n;if(a?n={row:i,column:r}:n=this.$clipPositionToDocument(i,r),!(this.row==n.row&&this.column==n.column)){var l={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:l,value:n})}},o.prototype.detach=function(){this.document.off("change",this.$onChange)},o.prototype.attach=function(i){this.document=i||this.document,this.document.on("change",this.$onChange)},o.prototype.$clipPositionToDocument=function(i,r){var a={};return i>=this.document.getLength()?(a.row=Math.max(0,this.document.getLength()-1),a.column=this.document.getLine(a.row).length):i<0?(a.row=0,a.column=0):(a.row=i,a.column=Math.min(this.document.getLine(a.row).length,Math.max(0,r))),r<0&&(a.column=0),a},o}();h.prototype.$insertRight=!1,p.implement(h.prototype,m);function s(o,i,r){var a=r?o.column<=i.column:o.column<i.column;return o.row<i.row||o.row==i.row&&a}function c(o,i,r){var a=o.action=="insert",n=(a?1:-1)*(o.end.row-o.start.row),l=(a?1:-1)*(o.end.column-o.start.column),u=o.start,g=a?u:o.end;return s(i,u,r)?{row:i.row,column:i.column}:s(g,i,!r)?{row:i.row+n,column:i.column+(i.row==g.row?l:0)}:{row:u.row,column:u.column}}t.Anchor=h});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,d){"use strict";var p=e("./lib/oop"),m=e("./apply_delta").applyDelta,h=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,c=e("./anchor").Anchor,o=function(){function i(r){this.$lines=[""],r.length===0?this.$lines=[""]:Array.isArray(r)?this.insertMergedLines({row:0,column:0},r):this.insert({row:0,column:0},r)}return i.prototype.setValue=function(r){var a=this.getLength()-1;this.remove(new s(0,0,a,this.getLine(a).length)),this.insert({row:0,column:0},r||"")},i.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},i.prototype.createAnchor=function(r,a){return new c(this,r,a)},i.prototype.$detectNewLine=function(r){var a=r.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=a?a[1]:`
`,this._signal("changeNewLineMode")},i.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},i.prototype.setNewLineMode=function(r){this.$newLineMode!==r&&(this.$newLineMode=r,this._signal("changeNewLineMode"))},i.prototype.getNewLineMode=function(){return this.$newLineMode},i.prototype.isNewLine=function(r){return r==`\r
`||r=="\r"||r==`
`},i.prototype.getLine=function(r){return this.$lines[r]||""},i.prototype.getLines=function(r,a){return this.$lines.slice(r,a+1)},i.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},i.prototype.getLength=function(){return this.$lines.length},i.prototype.getTextRange=function(r){return this.getLinesForRange(r).join(this.getNewLineCharacter())},i.prototype.getLinesForRange=function(r){var a;if(r.start.row===r.end.row)a=[this.getLine(r.start.row).substring(r.start.column,r.end.column)];else{a=this.getLines(r.start.row,r.end.row),a[0]=(a[0]||"").substring(r.start.column);var n=a.length-1;r.end.row-r.start.row==n&&(a[n]=a[n].substring(0,r.end.column))}return a},i.prototype.insertLines=function(r,a){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(r,a)},i.prototype.removeLines=function(r,a){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(r,a)},i.prototype.insertNewLine=function(r){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(r,["",""])},i.prototype.insert=function(r,a){return this.getLength()<=1&&this.$detectNewLine(a),this.insertMergedLines(r,this.$split(a))},i.prototype.insertInLine=function(r,a){var n=this.clippedPos(r.row,r.column),l=this.pos(r.row,r.column+a.length);return this.applyDelta({start:n,end:l,action:"insert",lines:[a]},!0),this.clonePos(l)},i.prototype.clippedPos=function(r,a){var n=this.getLength();r===void 0?r=n:r<0?r=0:r>=n&&(r=n-1,a=void 0);var l=this.getLine(r);return a==null&&(a=l.length),a=Math.min(Math.max(a,0),l.length),{row:r,column:a}},i.prototype.clonePos=function(r){return{row:r.row,column:r.column}},i.prototype.pos=function(r,a){return{row:r,column:a}},i.prototype.$clipPosition=function(r){var a=this.getLength();return r.row>=a?(r.row=Math.max(0,a-1),r.column=this.getLine(a-1).length):(r.row=Math.max(0,r.row),r.column=Math.min(Math.max(r.column,0),this.getLine(r.row).length)),r},i.prototype.insertFullLines=function(r,a){r=Math.min(Math.max(r,0),this.getLength());var n=0;r<this.getLength()?(a=a.concat([""]),n=0):(a=[""].concat(a),r--,n=this.$lines[r].length),this.insertMergedLines({row:r,column:n},a)},i.prototype.insertMergedLines=function(r,a){var n=this.clippedPos(r.row,r.column),l={row:n.row+a.length-1,column:(a.length==1?n.column:0)+a[a.length-1].length};return this.applyDelta({start:n,end:l,action:"insert",lines:a}),this.clonePos(l)},i.prototype.remove=function(r){var a=this.clippedPos(r.start.row,r.start.column),n=this.clippedPos(r.end.row,r.end.column);return this.applyDelta({start:a,end:n,action:"remove",lines:this.getLinesForRange({start:a,end:n})}),this.clonePos(a)},i.prototype.removeInLine=function(r,a,n){var l=this.clippedPos(r,a),u=this.clippedPos(r,n);return this.applyDelta({start:l,end:u,action:"remove",lines:this.getLinesForRange({start:l,end:u})},!0),this.clonePos(l)},i.prototype.removeFullLines=function(r,a){r=Math.min(Math.max(0,r),this.getLength()-1),a=Math.min(Math.max(0,a),this.getLength()-1);var n=a==this.getLength()-1&&r>0,l=a<this.getLength()-1,u=n?r-1:r,g=n?this.getLine(u).length:0,v=l?a+1:a,E=l?0:this.getLine(v).length,x=new s(u,g,v,E),A=this.$lines.slice(r,a+1);return this.applyDelta({start:x.start,end:x.end,action:"remove",lines:this.getLinesForRange(x)}),A},i.prototype.removeNewLine=function(r){r<this.getLength()-1&&r>=0&&this.applyDelta({start:this.pos(r,this.getLine(r).length),end:this.pos(r+1,0),action:"remove",lines:["",""]})},i.prototype.replace=function(r,a){if(r instanceof s||(r=s.fromPoints(r.start,r.end)),a.length===0&&r.isEmpty())return r.start;if(a==this.getTextRange(r))return r.end;this.remove(r);var n;return a?n=this.insert(r.start,a):n=r.start,n},i.prototype.applyDeltas=function(r){for(var a=0;a<r.length;a++)this.applyDelta(r[a])},i.prototype.revertDeltas=function(r){for(var a=r.length-1;a>=0;a--)this.revertDelta(r[a])},i.prototype.applyDelta=function(r,a){var n=r.action=="insert";(n?r.lines.length<=1&&!r.lines[0]:!s.comparePoints(r.start,r.end))||(n&&r.lines.length>2e4?this.$splitAndapplyLargeDelta(r,2e4):(m(this.$lines,r,a),this._signal("change",r)))},i.prototype.$safeApplyDelta=function(r){var a=this.$lines.length;(r.action=="remove"&&r.start.row<a&&r.end.row<a||r.action=="insert"&&r.start.row<=a)&&this.applyDelta(r)},i.prototype.$splitAndapplyLargeDelta=function(r,a){for(var n=r.lines,l=n.length-a+1,u=r.start.row,g=r.start.column,v=0,E=0;v<l;v=E){E+=a-1;var x=n.slice(v,E);x.push(""),this.applyDelta({start:this.pos(u+v,g),end:this.pos(u+E,g=0),action:r.action,lines:x},!0)}r.lines=n.slice(v),r.start.row=u+v,r.start.column=g,this.applyDelta(r,!0)},i.prototype.revertDelta=function(r){this.$safeApplyDelta({start:this.clonePos(r.start),end:this.clonePos(r.end),action:r.action=="insert"?"remove":"insert",lines:r.lines.slice()})},i.prototype.indexToPosition=function(r,a){for(var n=this.$lines||this.getAllLines(),l=this.getNewLineCharacter().length,u=a||0,g=n.length;u<g;u++)if(r-=n[u].length+l,r<0)return{row:u,column:r+n[u].length+l};return{row:g-1,column:r+n[g-1].length+l}},i.prototype.positionToIndex=function(r,a){for(var n=this.$lines||this.getAllLines(),l=this.getNewLineCharacter().length,u=0,g=Math.min(r.row,n.length),v=a||0;v<g;++v)u+=n[v].length+l;return u+r.column},i.prototype.$split=function(r){return r.split(/\r\n|\r|\n/)},i}();o.prototype.$autoNewLine="",o.prototype.$newLineMode="auto",p.implement(o.prototype,h),t.Document=o});ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,d){"use strict";var p=e("./lib/oop"),m=e("./lib/event_emitter").EventEmitter,h=function(){function s(c,o){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=c;var i=this;this.$worker=function(){if(i.running){for(var r=new Date,a=i.currentLine,n=-1,l=i.doc,u=a;i.lines[a];)a++;var g=l.getLength(),v=0;for(i.running=!1;a<g;){i.$tokenizeRow(a),n=a;do a++;while(i.lines[a]);if(v++,v%5===0&&new Date-r>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=a,n==-1&&(n=a),u<=n&&i.fireUpdateEvent(u,n)}}}return s.prototype.setTokenizer=function(c){this.tokenizer=c,this.lines=[],this.states=[],this.start(0)},s.prototype.setDocument=function(c){this.doc=c,this.lines=[],this.states=[],this.stop()},s.prototype.fireUpdateEvent=function(c,o){var i={first:c,last:o};this._signal("update",{data:i})},s.prototype.start=function(c){this.currentLine=Math.min(c||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},s.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},s.prototype.$updateOnChange=function(c){var o=c.start.row,i=c.end.row-o;if(i===0)this.lines[o]=null;else if(c.action=="remove")this.lines.splice(o,i+1,null),this.states.splice(o,i+1,null);else{var r=Array(i+1);r.unshift(o,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(o,this.currentLine,this.doc.getLength()),this.stop()},s.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},s.prototype.getTokens=function(c){return this.lines[c]||this.$tokenizeRow(c)},s.prototype.getState=function(c){return this.currentLine==c&&this.$tokenizeRow(c),this.states[c]||"start"},s.prototype.$tokenizeRow=function(c){var o=this.doc.getLine(c),i=this.states[c-1],r=this.tokenizer.getLineTokens(o,i,c);return this.states[c]+""!=r.state+""?(this.states[c]=r.state,this.lines[c+1]=null,this.currentLine>c+1&&(this.currentLine=c+1)):this.currentLine==c&&(this.currentLine=c+1),this.lines[c]=r.tokens},s.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},s}();p.implement(h.prototype,m),t.BackgroundTokenizer=h});ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(e,t,d){"use strict";var p=e("./lib/lang"),m=e("./range").Range,h=function(){function s(c,o,i){i===void 0&&(i="text"),this.setRegexp(c),this.clazz=o,this.type=i}return s.prototype.setRegexp=function(c){this.regExp+""!=c+""&&(this.regExp=c,this.cache=[])},s.prototype.update=function(c,o,i,r){if(this.regExp)for(var a=r.firstRow,n=r.lastRow,l={},u=a;u<=n;u++){var g=this.cache[u];g==null&&(g=p.getMatchOffsets(i.getLine(u),this.regExp),g.length>this.MAX_RANGES&&(g=g.slice(0,this.MAX_RANGES)),g=g.map(function(A){return new m(u,A.offset,u,A.offset+A.length)}),this.cache[u]=g.length?g:"");for(var v=g.length;v--;){var E=g[v].toScreenRange(i),x=E.toString();l[x]||(l[x]=!0,o.drawSingleLineMarker(c,E,this.clazz,r))}}},s}();h.prototype.MAX_RANGES=500,t.SearchHighlight=h});ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,t,d){"use strict";var p=function(){function f(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return f.prototype.addSession=function(L){this.$session=L},f.prototype.add=function(L,$,C){if(!this.$fromUndo&&L!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),$===!1||!this.lastDeltas){this.lastDeltas=[];var _=this.$undoStack.length;_>this.$undoDepth-1&&this.$undoStack.splice(0,_-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),L.id=this.$rev=++this.$maxRev}(L.action=="remove"||L.action=="insert")&&(this.$lastDelta=L),this.lastDeltas.push(L)}},f.prototype.addSelection=function(L,$){this.selections.push({value:L,rev:$||this.$rev})},f.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},f.prototype.markIgnored=function(L,$){$==null&&($=this.$rev+1);for(var C=this.$undoStack,_=C.length;_--;){var y=C[_][0];if(y.id<=L)break;y.id<$&&(y.ignore=!0)}this.lastDeltas=null},f.prototype.getSelection=function(L,$){for(var C=this.selections,_=C.length;_--;){var y=C[_];if(y.rev<L)return $&&(y=C[_+1]),y}},f.prototype.getRevision=function(){return this.$rev},f.prototype.getDeltas=function(L,$){$==null&&($=this.$rev+1);for(var C=this.$undoStack,_=null,y=0,w=C.length;w--;){var b=C[w][0];if(b.id<$&&!_&&(_=w+1),b.id<=L){y=w+1;break}}return C.slice(y,_)},f.prototype.getChangedRanges=function(L,$){$==null&&($=this.$rev+1)},f.prototype.getChangedLines=function(L,$){$==null&&($=this.$rev+1)},f.prototype.undo=function(L,$){this.lastDeltas=null;var C=this.$undoStack;if(m(C,C.length)){L||(L=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var _=C.pop(),y=null;return _&&(y=L.undoChanges(_,$),this.$redoStack.push(_),this.$syncRev()),this.$fromUndo=!1,y}},f.prototype.redo=function(L,$){if(this.lastDeltas=null,L||(L=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var C=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);S(this.$redoStack,C),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(w){w[0].id=++this.$maxRev},this)}var _=this.$redoStack.pop(),y=null;return _&&(y=L.redoChanges(_,$),this.$undoStack.push(_),this.$syncRev()),this.$fromUndo=!1,y},f.prototype.$syncRev=function(){var L=this.$undoStack,$=L[L.length-1],C=$&&$[0].id||0;this.$redoStackBaseRev=C,this.$rev=C},f.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},f.prototype.canUndo=function(){return this.$undoStack.length>0},f.prototype.canRedo=function(){return this.$redoStack.length>0},f.prototype.bookmark=function(L){L==null&&(L=this.$rev),this.mark=L},f.prototype.isAtBookmark=function(){return this.$rev===this.mark},f.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},f.prototype.fromJSON=function(L){this.reset(),this.$undoStack=L.$undoStack,this.$redoStack=L.$redoStack},f.prototype.$prettyPrint=function(L){return L?a(L):a(this.$undoStack)+`
---
`+a(this.$redoStack)},f}();p.prototype.hasUndo=p.prototype.canUndo,p.prototype.hasRedo=p.prototype.canRedo,p.prototype.isClean=p.prototype.isAtBookmark,p.prototype.markClean=p.prototype.bookmark;function m(f,L){for(var $=L;$--;){var C=f[$];if(C&&!C[0].ignore){for(;$<L-1;){var _=u(f[$],f[$+1]);f[$]=_[0],f[$+1]=_[1],$++}return!0}}}var h=e("./range").Range,s=h.comparePoints,c=h.comparePoints;function o(f){var L=f.action=="insert",$=f.start,C=f.end,_=(C.row-$.row)*(L?1:-1),y=(C.column-$.column)*(L?1:-1);L&&(C=$);for(var w in this.marks){var b=this.marks[w],k=c(b,$);if(!(k<0)){if(k===0&&L)if(b.bias==1)k=1;else{b.bias==-1;continue}var T=L?k:c(b,C);if(T>0){b.row+=_,b.column+=b.row==C.row?y:0;continue}!L&&T<=0&&(b.row=$.row,b.column=$.column,T===0&&(b.bias=1))}}}function i(f){return{row:f.row,column:f.column}}function r(f){return{start:i(f.start),end:i(f.end),action:f.action,lines:f.lines.slice()}}function a(f){if(f=f||this,Array.isArray(f))return f.map(a).join(`
`);var L="";return f.action?(L=f.action=="insert"?"+":"-",L+="["+f.lines+"]"):f.value&&(Array.isArray(f.value)?L=f.value.map(n).join(`
`):L=n(f.value)),f.start&&(L+=n(f)),(f.id||f.rev)&&(L+="	("+(f.id||f.rev)+")"),L}function n(f){return f.start.row+":"+f.start.column+"=>"+f.end.row+":"+f.end.column}function l(f,L){var $=f.action=="insert",C=L.action=="insert";if($&&C)if(s(L.start,f.end)>=0)v(L,f,-1);else if(s(L.start,f.start)<=0)v(f,L,1);else return null;else if($&&!C)if(s(L.start,f.end)>=0)v(L,f,-1);else if(s(L.end,f.start)<=0)v(f,L,-1);else return null;else if(!$&&C)if(s(L.start,f.start)>=0)v(L,f,1);else if(s(L.start,f.start)<=0)v(f,L,1);else return null;else if(!$&&!C)if(s(L.start,f.start)>=0)v(L,f,1);else if(s(L.end,f.start)<=0)v(f,L,-1);else return null;return[L,f]}function u(f,L){for(var $=f.length;$--;)for(var C=0;C<L.length;C++)if(!l(f[$],L[C])){for(;$<f.length;){for(;C--;)l(L[C],f[$]);C=L.length,$++}return[f,L]}return f.selectionBefore=L.selectionBefore=f.selectionAfter=L.selectionAfter=null,[L,f]}function g(f,L){var $=f.action=="insert",C=L.action=="insert";if($&&C)s(f.start,L.start)<0?v(L,f,1):v(f,L,1);else if($&&!C)s(f.start,L.end)>=0?v(f,L,-1):(s(f.start,L.start)<=0||v(f,h.fromPoints(L.start,f.start),-1),v(L,f,1));else if(!$&&C)s(L.start,f.end)>=0?v(L,f,-1):(s(L.start,f.start)<=0||v(L,h.fromPoints(f.start,L.start),-1),v(f,L,1));else if(!$&&!C)if(s(L.start,f.end)>=0)v(L,f,-1);else if(s(L.end,f.start)<=0)v(f,L,-1);else{var _,y;return s(f.start,L.start)<0&&(_=f,f=x(f,L.start)),s(f.end,L.end)>0&&(y=x(f,L.end)),E(L.end,f.start,f.end,-1),y&&!_&&(f.lines=y.lines,f.start=y.start,f.end=y.end,y=f),[L,_,y].filter(Boolean)}return[L,f]}function v(f,L,$){E(f.start,L.start,L.end,$),E(f.end,L.start,L.end,$)}function E(f,L,$,C){f.row==(C==1?L:$).row&&(f.column+=C*($.column-L.column)),f.row+=C*($.row-L.row)}function x(f,L){var $=f.lines,C=f.end;f.end=i(L);var _=f.end.row-f.start.row,y=$.splice(_,$.length),w=_?L.column:L.column-f.start.column;$.push(y[0].substring(0,w)),y[0]=y[0].substr(w);var b={start:i(L),end:C,lines:y,action:f.action};return b}function A(f,L){L=r(L);for(var $=f.length;$--;){for(var C=f[$],_=0;_<C.length;_++){var y=C[_],w=g(y,L);L=w[0],w.length!=2&&(w[2]?(C.splice(_+1,1,w[1],w[2]),_++):w[1]||(C.splice(_,1),_--))}C.length||f.splice($,1)}return f}function S(f,L){for(var $=0;$<L.length;$++)for(var C=L[$],_=0;_<C.length;_++)A(f,C[_])}t.UndoManager=p});ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,d){"use strict";var p=e("../range").Range,m=function(){function h(s,c){this.foldData=s,Array.isArray(c)?this.folds=c:c=this.folds=[c];var o=c[c.length-1];this.range=new p(c[0].start.row,c[0].start.column,o.end.row,o.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(i){i.setFoldLine(this)},this)}return h.prototype.shiftRow=function(s){this.start.row+=s,this.end.row+=s,this.folds.forEach(function(c){c.start.row+=s,c.end.row+=s})},h.prototype.addFold=function(s){if(s.sameRow){if(s.start.row<this.startRow||s.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(s),this.folds.sort(function(c,o){return-c.range.compareEnd(o.start.row,o.start.column)}),this.range.compareEnd(s.start.row,s.start.column)>0?(this.end.row=s.end.row,this.end.column=s.end.column):this.range.compareStart(s.end.row,s.end.column)<0&&(this.start.row=s.start.row,this.start.column=s.start.column)}else if(s.start.row==this.end.row)this.folds.push(s),this.end.row=s.end.row,this.end.column=s.end.column;else if(s.end.row==this.start.row)this.folds.unshift(s),this.start.row=s.start.row,this.start.column=s.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");s.foldLine=this},h.prototype.containsRow=function(s){return s>=this.start.row&&s<=this.end.row},h.prototype.walk=function(s,c,o){var i=0,r=this.folds,a,n,l,u=!0;c==null&&(c=this.end.row,o=this.end.column);for(var g=0;g<r.length;g++){if(a=r[g],n=a.range.compareStart(c,o),n==-1){s(null,c,o,i,u);return}if(l=s(null,a.start.row,a.start.column,i,u),l=!l&&s(a.placeholder,a.start.row,a.start.column,i),l||n===0)return;u=!a.sameRow,i=a.end.column}s(null,c,o,i,u)},h.prototype.getNextFoldTo=function(s,c){for(var o,i,r=0;r<this.folds.length;r++){if(o=this.folds[r],i=o.range.compareEnd(s,c),i==-1)return{fold:o,kind:"after"};if(i===0)return{fold:o,kind:"inside"}}return null},h.prototype.addRemoveChars=function(s,c,o){var i=this.getNextFoldTo(s,c),r,a;if(i){if(r=i.fold,i.kind=="inside"&&r.start.column!=c&&r.start.row!=s)window.console&&window.console.log(s,c,r);else if(r.start.row==s){a=this.folds;var n=a.indexOf(r);for(n===0&&(this.start.column+=o),n;n<a.length;n++){if(r=a[n],r.start.column+=o,!r.sameRow)return;r.end.column+=o}this.end.column+=o}}},h.prototype.split=function(s,c){var o=this.getNextFoldTo(s,c);if(!o||o.kind=="inside")return null;var i=o.fold,r=this.folds,a=this.foldData,n=r.indexOf(i),l=r[n-1];this.end.row=l.end.row,this.end.column=l.end.column,r=r.splice(n,r.length-n);var u=new h(a,r);return a.splice(a.indexOf(this)+1,0,u),u},h.prototype.merge=function(s){for(var c=s.folds,o=0;o<c.length;o++)this.addFold(c[o]);var i=this.foldData;i.splice(i.indexOf(s),1)},h.prototype.toString=function(){var s=[this.range.toString()+": ["];return this.folds.forEach(function(c){s.push("  "+c.toString())}),s.push("]"),s.join(`
`)},h.prototype.idxToPosition=function(s){for(var c=0,o=0;o<this.folds.length;o++){var i=this.folds[o];if(s-=i.start.column-c,s<0)return{row:i.start.row,column:i.start.column+s};if(s-=i.placeholder.length,s<0)return i.start;c=i.end.column}return{row:this.end.row,column:this.end.column+s}},h}();t.FoldLine=m});ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,d){"use strict";var p=e("./range").Range,m=p.comparePoints,h=function(){function s(){this.ranges=[],this.$bias=1}return s.prototype.pointIndex=function(c,o,i){for(var r=this.ranges,a=i||0;a<r.length;a++){var n=r[a],l=m(c,n.end);if(!(l>0)){var u=m(c,n.start);return l===0?o&&u!==0?-a-2:a:u>0||u===0&&!o?a:-a-1}}return-a-1},s.prototype.add=function(c){var o=!c.isEmpty(),i=this.pointIndex(c.start,o);i<0&&(i=-i-1);var r=this.pointIndex(c.end,o,i);return r<0?r=-r-1:r++,this.ranges.splice(i,r-i,c)},s.prototype.addList=function(c){for(var o=[],i=c.length;i--;)o.push.apply(o,this.add(c[i]));return o},s.prototype.substractPoint=function(c){var o=this.pointIndex(c);if(o>=0)return this.ranges.splice(o,1)},s.prototype.merge=function(){var c=[],o=this.ranges;o=o.sort(function(l,u){return m(l.start,u.start)});for(var i=o[0],r,a=1;a<o.length;a++){r=i,i=o[a];var n=m(r.end,i.start);n<0||n==0&&!r.isEmpty()&&!i.isEmpty()||(m(r.end,i.end)<0&&(r.end.row=i.end.row,r.end.column=i.end.column),o.splice(a,1),c.push(i),i=r,a--)}return this.ranges=o,c},s.prototype.contains=function(c,o){return this.pointIndex({row:c,column:o})>=0},s.prototype.containsPoint=function(c){return this.pointIndex(c)>=0},s.prototype.rangeAtPoint=function(c){var o=this.pointIndex(c);if(o>=0)return this.ranges[o]},s.prototype.clipRows=function(c,o){var i=this.ranges;if(i[0].start.row>o||i[i.length-1].start.row<c)return[];var r=this.pointIndex({row:c,column:0});r<0&&(r=-r-1);var a=this.pointIndex({row:o,column:0},r);a<0&&(a=-a-1);for(var n=[],l=r;l<a;l++)n.push(i[l]);return n},s.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},s.prototype.attach=function(c){this.session&&this.detach(),this.session=c,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},s.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},s.prototype.$onChange=function(c){for(var o=c.start,i=c.end,r=o.row,a=i.row,n=this.ranges,l=0,u=n.length;l<u;l++){var g=n[l];if(g.end.row>=r)break}if(c.action=="insert")for(var v=a-r,E=-o.column+i.column;l<u;l++){var g=n[l];if(g.start.row>r)break;if(g.start.row==r&&g.start.column>=o.column&&(g.start.column==o.column&&this.$bias<=0||(g.start.column+=E,g.start.row+=v)),g.end.row==r&&g.end.column>=o.column){if(g.end.column==o.column&&this.$bias<0)continue;g.end.column==o.column&&E>0&&l<u-1&&g.end.column>g.start.column&&g.end.column==n[l+1].start.column&&(g.end.column-=E),g.end.column+=E,g.end.row+=v}}else for(var v=r-a,E=o.column-i.column;l<u;l++){var g=n[l];if(g.start.row>a)break;g.end.row<a&&(r<g.end.row||r==g.end.row&&o.column<g.end.column)?(g.end.row=r,g.end.column=o.column):g.end.row==a?g.end.column<=i.column?(v||g.end.column>o.column)&&(g.end.column=o.column,g.end.row=o.row):(g.end.column+=E,g.end.row+=v):g.end.row>a&&(g.end.row+=v),g.start.row<a&&(r<g.start.row||r==g.start.row&&o.column<g.start.column)?(g.start.row=r,g.start.column=o.column):g.start.row==a?g.start.column<=i.column?(v||g.start.column>o.column)&&(g.start.column=o.column,g.start.row=o.row):(g.start.column+=E,g.start.row+=v):g.start.row>a&&(g.start.row+=v)}if(v!=0&&l<u)for(;l<u;l++){var g=n[l];g.start.row+=v,g.end.row+=v}},s}();h.prototype.comparePoints=m,t.RangeList=h});ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(e,t,d){"use strict";var p=this&&this.__extends||function(){var r=function(a,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(l[g]=u[g])},r(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(a,n);function l(){this.constructor=a}a.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),m=e("../range_list").RangeList,h=function(r){p(a,r);function a(n,l){var u=r.call(this)||this;return u.foldLine=null,u.placeholder=l,u.range=n,u.start=n.start,u.end=n.end,u.sameRow=n.start.row==n.end.row,u.subFolds=u.ranges=[],u}return a.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},a.prototype.setFoldLine=function(n){this.foldLine=n,this.subFolds.forEach(function(l){l.setFoldLine(n)})},a.prototype.clone=function(){var n=this.range.clone(),l=new a(n,this.placeholder);return this.subFolds.forEach(function(u){l.subFolds.push(u.clone())}),l.collapseChildren=this.collapseChildren,l},a.prototype.addSubFold=function(n){if(!this.range.isEqual(n)){c(n,this.start);for(var E=n.start.row,x=n.start.column,l=0,u=-1;l<this.subFolds.length&&(u=this.subFolds[l].range.compare(E,x),u==1);l++);var g=this.subFolds[l],v=0;if(u==0){if(g.range.containsRange(n))return g.addSubFold(n);v=1}for(var E=n.range.end.row,x=n.range.end.column,A=l,u=-1;A<this.subFolds.length&&(u=this.subFolds[A].range.compare(E,x),u==1);A++);u==0&&A++;for(var S=this.subFolds.splice(l,A-l,n),f=u==0?S.length-1:S.length,L=v;L<f;L++)n.addSubFold(S[L]);return n.setFoldLine(this.foldLine),n}},a.prototype.restoreRange=function(n){return i(n,this.start)},a}(m);function s(r,a){r.row-=a.row,r.row==0&&(r.column-=a.column)}function c(r,a){s(r.start,a),s(r.end,a)}function o(r,a){r.row==0&&(r.column+=a.column),r.row+=a.row}function i(r,a){o(r.start,a),o(r.end,a)}t.Fold=h});ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(e,t,d){"use strict";var p=e("../range").Range,m=e("./fold_line").FoldLine,h=e("./fold").Fold,s=e("../token_iterator").TokenIterator,c=e("../mouse/mouse_event").MouseEvent;function o(){this.getFoldAt=function(i,r,a){var n=this.getFoldLine(i);if(!n)return null;for(var l=n.folds,u=0;u<l.length;u++){var g=l[u].range;if(g.contains(i,r)){if(a==1&&g.isEnd(i,r)&&!g.isEmpty())continue;if(a==-1&&g.isStart(i,r)&&!g.isEmpty())continue;return l[u]}}},this.getFoldsInRange=function(i){var r=i.start,a=i.end,n=this.$foldData,l=[];r.column+=1,a.column-=1;for(var u=0;u<n.length;u++){var g=n[u].range.compareRange(i);if(g!=2){if(g==-2)break;for(var v=n[u].folds,E=0;E<v.length;E++){var x=v[E];if(g=x.range.compareRange(i),g==-2)break;if(g==2)continue;if(g==42)break;l.push(x)}}}return r.column-=1,a.column+=1,l},this.getFoldsInRangeList=function(i){if(Array.isArray(i)){var r=[];i.forEach(function(a){r=r.concat(this.getFoldsInRange(a))},this)}else var r=this.getFoldsInRange(i);return r},this.getAllFolds=function(){for(var i=[],r=this.$foldData,a=0;a<r.length;a++)for(var n=0;n<r[a].folds.length;n++)i.push(r[a].folds[n]);return i},this.getFoldStringAt=function(i,r,a,n){if(n=n||this.getFoldLine(i),!n)return null;for(var l={end:{column:0}},u,g,v=0;v<n.folds.length;v++){g=n.folds[v];var E=g.range.compareEnd(i,r);if(E==-1){u=this.getLine(g.start.row).substring(l.end.column,g.start.column);break}else if(E===0)return null;l=g}return u||(u=this.getLine(g.start.row).substring(l.end.column)),a==-1?u.substring(0,r-l.end.column):a==1?u.substring(r-l.end.column):u},this.getFoldLine=function(i,r){var a=this.$foldData,n=0;for(r&&(n=a.indexOf(r)),n==-1&&(n=0),n;n<a.length;n++){var l=a[n];if(l.start.row<=i&&l.end.row>=i)return l;if(l.end.row>i)return null}return null},this.getNextFoldLine=function(i,r){var a=this.$foldData,n=0;for(r&&(n=a.indexOf(r)),n==-1&&(n=0),n;n<a.length;n++){var l=a[n];if(l.end.row>=i)return l}return null},this.getFoldedRowCount=function(i,r){for(var a=this.$foldData,n=r-i+1,l=0;l<a.length;l++){var u=a[l],g=u.end.row,v=u.start.row;if(g>=r){v<r&&(v>=i?n-=r-v:n=0);break}else g>=i&&(v>=i?n-=g-v:n-=g-i+1)}return n},this.$addFoldLine=function(i){return this.$foldData.push(i),this.$foldData.sort(function(r,a){return r.start.row-a.start.row}),i},this.addFold=function(i,r){var a=this.$foldData,n=!1,l;i instanceof h?l=i:(l=new h(r,i),l.collapseChildren=r.collapseChildren),this.$clipRangeToDocument(l.range);var u=l.start.row,g=l.start.column,v=l.end.row,E=l.end.column,x=this.getFoldAt(u,g,1),A=this.getFoldAt(v,E,-1);if(x&&A==x)return x.addSubFold(l);x&&!x.range.isStart(u,g)&&this.removeFold(x),A&&!A.range.isEnd(v,E)&&this.removeFold(A);var S=this.getFoldsInRange(l.range);S.length>0&&(this.removeFolds(S),l.collapseChildren||S.forEach(function(C){l.addSubFold(C)}));for(var f=0;f<a.length;f++){var L=a[f];if(v==L.start.row){L.addFold(l),n=!0;break}else if(u==L.end.row){if(L.addFold(l),n=!0,!l.sameRow){var $=a[f+1];if($&&$.start.row==v){L.merge($);break}}break}else if(v<=L.start.row)break}return n||(L=this.$addFoldLine(new m(this.$foldData,l))),this.$useWrapMode?this.$updateWrapData(L.start.row,L.start.row):this.$updateRowLengthCache(L.start.row,L.start.row),this.$modified=!0,this._signal("changeFold",{data:l,action:"add"}),l},this.addFolds=function(i){i.forEach(function(r){this.addFold(r)},this)},this.removeFold=function(i){var r=i.foldLine,a=r.start.row,n=r.end.row,l=this.$foldData,u=r.folds;if(u.length==1)l.splice(l.indexOf(r),1);else if(r.range.isEnd(i.end.row,i.end.column))u.pop(),r.end.row=u[u.length-1].end.row,r.end.column=u[u.length-1].end.column;else if(r.range.isStart(i.start.row,i.start.column))u.shift(),r.start.row=u[0].start.row,r.start.column=u[0].start.column;else if(i.sameRow)u.splice(u.indexOf(i),1);else{var g=r.split(i.start.row,i.start.column);u=g.folds,u.shift(),g.start.row=u[0].start.row,g.start.column=u[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(a,n):this.$updateRowLengthCache(a,n)),this.$modified=!0,this._signal("changeFold",{data:i,action:"remove"})},this.removeFolds=function(i){for(var r=[],a=0;a<i.length;a++)r.push(i[a]);r.forEach(function(n){this.removeFold(n)},this),this.$modified=!0},this.expandFold=function(i){this.removeFold(i),i.subFolds.forEach(function(r){i.restoreRange(r),this.addFold(r)},this),i.collapseChildren>0&&this.foldAll(i.start.row+1,i.end.row,i.collapseChildren-1),i.subFolds=[]},this.expandFolds=function(i){i.forEach(function(r){this.expandFold(r)},this)},this.unfold=function(i,r){var a,n;if(i==null)a=new p(0,0,this.getLength(),0),r==null&&(r=!0);else if(typeof i=="number")a=new p(i,0,i,this.getLine(i).length);else if("row"in i)a=p.fromPoints(i,i);else{if(Array.isArray(i))return n=[],i.forEach(function(u){n=n.concat(this.unfold(u))},this),n;a=i}n=this.getFoldsInRangeList(a);for(var l=n;n.length==1&&p.comparePoints(n[0].start,a.start)<0&&p.comparePoints(n[0].end,a.end)>0;)this.expandFolds(n),n=this.getFoldsInRangeList(a);if(r!=!1?this.removeFolds(n):this.expandFolds(n),l.length)return l},this.isRowFolded=function(i,r){return!!this.getFoldLine(i,r)},this.getRowFoldEnd=function(i,r){var a=this.getFoldLine(i,r);return a?a.end.row:i},this.getRowFoldStart=function(i,r){var a=this.getFoldLine(i,r);return a?a.start.row:i},this.getFoldDisplayLine=function(i,r,a,n,l){n==null&&(n=i.start.row),l==null&&(l=0),r==null&&(r=i.end.row),a==null&&(a=this.getLine(r).length);var u=this.doc,g="";return i.walk(function(v,E,x,A){if(!(E<n)){if(E==n){if(x<l)return;A=Math.max(l,A)}v!=null?g+=v:g+=u.getLine(E).substring(A,x)}},r,a),g},this.getDisplayLine=function(i,r,a,n){var l=this.getFoldLine(i);if(l)return this.getFoldDisplayLine(l,i,r,a,n);var u;return u=this.doc.getLine(i),u.substring(n||0,r||u.length)},this.$cloneFoldData=function(){var i=[];return i=this.$foldData.map(function(r){var a=r.folds.map(function(n){return n.clone()});return new m(i,a)}),i},this.toggleFold=function(i){var r=this.selection,a=r.getRange(),n,l;if(a.isEmpty()){var u=a.start;if(n=this.getFoldAt(u.row,u.column),n){this.expandFold(n);return}else(l=this.findMatchingBracket(u))?a.comparePoint(l)==1?a.end=l:(a.start=l,a.start.column++,a.end.column--):(l=this.findMatchingBracket({row:u.row,column:u.column+1}))?(a.comparePoint(l)==1?a.end=l:a.start=l,a.start.column++):a=this.getCommentFoldRange(u.row,u.column)||a}else{var g=this.getFoldsInRange(a);if(i&&g.length){this.expandFolds(g);return}else g.length==1&&(n=g[0])}if(n||(n=this.getFoldAt(a.start.row,a.start.column)),n&&n.range.toString()==a.toString()){this.expandFold(n);return}var v="...";if(!a.isMultiLine()){if(v=this.getTextRange(a),v.length<4)return;v=v.trim().substring(0,2)+".."}this.addFold(v,a)},this.getCommentFoldRange=function(i,r,a){var n=new s(this,i,r),l=n.getCurrentToken(),u=l&&l.type;if(l&&/^comment|string/.test(u)){u=u.match(/comment|string/)[0],u=="comment"&&(u+="|doc-start|\\.doc");var g=new RegExp(u),v=new p;if(a!=1){do l=n.stepBackward();while(l&&g.test(l.type));l=n.stepForward()}v.start.row=n.getCurrentTokenRow(),v.start.column=n.getCurrentTokenColumn()+l.value.length,n=new s(this,i,r);var E=this.getState(n.$row);if(a!=-1){var x=-1;do if(l=n.stepForward(),x==-1){var A=this.getState(n.$row);E.toString()!==A.toString()&&(x=n.$row)}else if(n.$row>x)break;while(l&&g.test(l.type));l=n.stepBackward()}else l=n.getCurrentToken();return v.end.row=n.getCurrentTokenRow(),v.end.column=n.getCurrentTokenColumn(),v}},this.foldAll=function(i,r,a,n){a==null&&(a=1e5);var l=this.foldWidgets;if(l){r=r||this.getLength(),i=i||0;for(var u=i;u<r;u++)if(l[u]==null&&(l[u]=this.getFoldWidget(u)),l[u]=="start"&&!(n&&!n(u))){var g=this.getFoldWidgetRange(u);g&&g.isMultiLine()&&g.end.row<=r&&g.start.row>=i&&(u=g.end.row,g.collapseChildren=a,this.addFold("...",g))}}},this.foldToLevel=function(i){for(this.foldAll();i-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var i=this;this.foldAll(null,null,null,function(r){for(var a=i.getTokens(r),n=0;n<a.length;n++){var l=a[n];if(!(l.type=="text"&&/^\s+$/.test(l.value)))return!!/comment/.test(l.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(i){if(!this.$foldStyles[i])throw new Error("invalid fold style: "+i+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=i){this.$foldStyle=i,i=="manual"&&this.unfold();var r=this.$foldMode;this.$setFolding(null),this.$setFolding(r)}},this.$setFolding=function(i){if(this.$foldMode!=i){if(this.$foldMode=i,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!i||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=i.getFoldWidget.bind(i,this,this.$foldStyle),this.getFoldWidgetRange=i.getFoldWidgetRange.bind(i,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(i,r){var a=this.foldWidgets;if(!a||r&&a[i])return{};for(var n=i-1,l;n>=0;){var u=a[n];if(u==null&&(u=a[n]=this.getFoldWidget(n)),u=="start"){var g=this.getFoldWidgetRange(n);if(l||(l=g),g&&g.end.row>=i)break}n--}return{range:n!==-1&&g,firstRange:l}},this.onFoldWidgetClick=function(i,r){r instanceof c&&(r=r.domEvent);var a={children:r.shiftKey,all:r.ctrlKey||r.metaKey,siblings:r.altKey},n=this.$toggleFoldWidget(i,a);if(!n){var l=r.target||r.srcElement;l&&/ace_fold-widget/.test(l.className)&&(l.className+=" ace_invalid")}},this.$toggleFoldWidget=function(i,r){if(this.getFoldWidget){var a=this.getFoldWidget(i),n=this.getLine(i),l=a==="end"?-1:1,u=this.getFoldAt(i,l===-1?0:n.length,l);if(u)return r.children||r.all?this.removeFold(u):this.expandFold(u),u;var g=this.getFoldWidgetRange(i,!0);if(g&&!g.isMultiLine()&&(u=this.getFoldAt(g.start.row,g.start.column,1),u&&g.isEqual(u.range)))return this.removeFold(u),u;if(r.siblings){var v=this.getParentFoldRangeData(i);if(v.range)var E=v.range.start.row+1,x=v.range.end.row;this.foldAll(E,x,r.all?1e4:0)}else r.children?(x=g?g.end.row:this.getLength(),this.foldAll(i+1,x,r.all?1e4:0)):g&&(r.all&&(g.collapseChildren=1e4),this.addFold("...",g));return g}},this.toggleFoldWidget=function(i){var r=this.selection.getCursor().row;r=this.getRowFoldStart(r);var a=this.$toggleFoldWidget(r,{});if(!a){var n=this.getParentFoldRangeData(r,!0);if(a=n.range||n.firstRange,a){r=a.start.row;var l=this.getFoldAt(r,this.getLine(r).length,1);l?this.removeFold(l):this.addFold("...",a)}}},this.updateFoldWidgets=function(i){var r=i.start.row,a=i.end.row-r;if(a===0)this.foldWidgets[r]=null;else if(i.action=="remove")this.foldWidgets.splice(r,a+1,null);else{var n=Array(a+1);n.unshift(r,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(i){var r=i.data;r.first!=r.last&&this.foldWidgets.length>r.first&&this.foldWidgets.splice(r.first,this.foldWidgets.length)}}t.Folding=o});ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,d){"use strict";var p=e("../token_iterator").TokenIterator,m=e("../range").Range;function h(){this.findMatchingBracket=function(s,c){if(s.column==0)return null;var o=c||this.getLine(s.row).charAt(s.column-1);if(o=="")return null;var i=o.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],s):this.$findOpeningBracket(i[2],s):null},this.getBracketRange=function(s){var c=this.getLine(s.row),o=!0,i,r=c.charAt(s.column-1),a=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(a||(r=c.charAt(s.column),s={row:s.row,column:s.column+1},a=r&&r.match(/([\(\[\{])|([\)\]\}])/),o=!1),!a)return null;if(a[1]){var n=this.$findClosingBracket(a[1],s);if(!n)return null;i=m.fromPoints(s,n),o||(i.end.column++,i.start.column--),i.cursor=i.end}else{var n=this.$findOpeningBracket(a[2],s);if(!n)return null;i=m.fromPoints(n,s),o||(i.start.column++,i.end.column--),i.cursor=i.start}return i},this.getMatchingBracketRanges=function(s,c){var o=this.getLine(s.row),i=/([\(\[\{])|([\)\]\}])/,r=!c&&o.charAt(s.column-1),a=r&&r.match(i);if(a||(r=(c===void 0||c)&&o.charAt(s.column),s={row:s.row,column:s.column+1},a=r&&r.match(i)),!a)return null;var n=new m(s.row,s.column-1,s.row,s.column),l=a[1]?this.$findClosingBracket(a[1],s):this.$findOpeningBracket(a[2],s);if(!l)return[n];var u=new m(l.row,l.column,l.row,l.column+1);return[n,u]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(s,c,o){var i=this.$brackets[s],r=1,a=new p(this,c.row,c.column),n=a.getCurrentToken();if(n||(n=a.stepForward()),!!n){o||(o=new RegExp("(\\.?"+n.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var l=c.column-a.getCurrentTokenColumn()-2,u=n.value;;){for(;l>=0;){var g=u.charAt(l);if(g==i){if(r-=1,r==0)return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else g==s&&(r+=1);l-=1}do n=a.stepBackward();while(n&&!o.test(n.type));if(n==null)break;u=n.value,l=u.length-1}return null}},this.$findClosingBracket=function(s,c,o){var i=this.$brackets[s],r=1,a=new p(this,c.row,c.column),n=a.getCurrentToken();if(n||(n=a.stepForward()),!!n){o||(o=new RegExp("(\\.?"+n.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var l=c.column-a.getCurrentTokenColumn();;){for(var u=n.value,g=u.length;l<g;){var v=u.charAt(l);if(v==i){if(r-=1,r==0)return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else v==s&&(r+=1);l+=1}do n=a.stepForward();while(n&&!o.test(n.type));if(n==null)break;l=0}return null}},this.getMatchingTags=function(s){var c=new p(this,s.row,s.column),o=this.$findTagName(c);if(o){var i=c.stepBackward();return i.value==="<"?this.$findClosingTag(c,o):this.$findOpeningTag(c,o)}},this.$findTagName=function(s){var c=s.getCurrentToken(),o=!1,i=!1;if(c&&c.type.indexOf("tag-name")===-1)do i?c=s.stepBackward():c=s.stepForward(),c&&(c.value==="/>"?i=!0:c.type.indexOf("tag-name")!==-1&&(o=!0));while(c&&!o);return c},this.$findClosingTag=function(s,c){var o,i=c.value,r=c.value,a=0,n=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);c=s.stepForward();var l=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+c.value.length),u=!1;do{if(o=c,o.type.indexOf("tag-close")!==-1&&!u){var g=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);u=!0}if(c=s.stepForward(),c){if(c.value===">"&&!u){var g=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);u=!0}if(c.type.indexOf("tag-name")!==-1){if(i=c.value,r===i){if(o.value==="<")a++;else if(o.value==="</"&&(a--,a<0)){s.stepBackward();var v=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2);c=s.stepForward();var E=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+c.value.length);if(c.type.indexOf("tag-close")===-1&&(c=s.stepForward()),c&&c.value===">")var x=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);else return}}}else if(r===i&&c.value==="/>"&&(a--,a<0))var v=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2),E=v,x=E,g=new m(l.end.row,l.end.column,l.end.row,l.end.column+1)}}while(c&&a>=0);if(n&&g&&v&&x&&l&&E)return{openTag:new m(n.start.row,n.start.column,g.end.row,g.end.column),closeTag:new m(v.start.row,v.start.column,x.end.row,x.end.column),openTagName:l,closeTagName:E}},this.$findOpeningTag=function(s,c){var o=s.getCurrentToken(),i=c.value,r=0,a=s.getCurrentTokenRow(),n=s.getCurrentTokenColumn(),l=n+2,u=new m(a,n,a,l);s.stepForward();var g=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+c.value.length);if(c.type.indexOf("tag-close")===-1&&(c=s.stepForward()),!(!c||c.value!==">")){var v=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);s.stepBackward(),s.stepBackward();do if(c=o,a=s.getCurrentTokenRow(),n=s.getCurrentTokenColumn(),l=n+c.value.length,o=s.stepBackward(),c){if(c.type.indexOf("tag-name")!==-1){if(i===c.value)if(o.value==="<"){if(r++,r>0){var E=new m(a,n,a,l),x=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);do c=s.stepForward();while(c&&c.value!==">");var A=new m(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1)}}else o.value==="</"&&r--}else if(c.value==="/>"){for(var S=0,f=o;f;){if(f.type.indexOf("tag-name")!==-1&&f.value===i){r--;break}else if(f.value==="<")break;f=s.stepBackward(),S++}for(var L=0;L<S;L++)s.stepForward()}}while(o&&r<=0);if(x&&A&&u&&v&&E&&g)return{openTag:new m(x.start.row,x.start.column,A.end.row,A.end.column),closeTag:new m(u.start.row,u.start.column,v.end.row,v.end.column),openTagName:E,closeTagName:g}}}}t.BracketMatch=h});ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,d){"use strict";var p=e("./lib/oop"),m=e("./lib/lang"),h=e("./bidihandler").BidiHandler,s=e("./config"),c=e("./lib/event_emitter").EventEmitter,o=e("./selection").Selection,i=e("./mode/text").Mode,r=e("./range").Range,a=e("./document").Document,n=e("./background_tokenizer").BackgroundTokenizer,l=e("./search_highlight").SearchHighlight,u=e("./undomanager").UndoManager,g=function(){function _(y,w){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++_.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new n(new i().getTokenizer(),this);var b=this;this.bgTokenizer.on("update",function(k){b._signal("tokenizerUpdate",k)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof y!="object"||!y.getLine)&&(y=new a(y)),this.setDocument(y),this.selection=new o(this),this.$bidiHandler=new h(this),s.resetOptions(this),this.setMode(w),s._signal("session",this),this.destroyed=!1}return _.prototype.setDocument=function(y){this.doc&&this.doc.off("change",this.$onChange),this.doc=y,y.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},_.prototype.getDocument=function(){return this.doc},_.prototype.$resetRowCache=function(y){if(!y){this.$docRowCache=[],this.$screenRowCache=[];return}var w=this.$docRowCache.length,b=this.$getRowCacheIndex(this.$docRowCache,y)+1;w>b&&(this.$docRowCache.splice(b,w),this.$screenRowCache.splice(b,w))},_.prototype.$getRowCacheIndex=function(y,w){for(var b=0,k=y.length-1;b<=k;){var T=b+k>>1,M=y[T];if(w>M)b=T+1;else if(w<M)k=T-1;else return T}return b-1},_.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},_.prototype.onChangeFold=function(y){var w=y.data;this.$resetRowCache(w.start.row)},_.prototype.onChange=function(y){this.$modified=!0,this.$bidiHandler.onChange(y),this.$resetRowCache(y.start.row);var w=this.$updateInternalDataOnChange(y);!this.$fromUndo&&this.$undoManager&&(w&&w.length&&(this.$undoManager.add({action:"removeFolds",folds:w},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(y,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(y),this._signal("change",y)},_.prototype.setValue=function(y){this.doc.setValue(y),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},_.fromJSON=function(y){typeof y=="string"&&(y=JSON.parse(y));var w=new u;w.$undoStack=y.history.undo,w.$redoStack=y.history.redo,w.mark=y.history.mark,w.$rev=y.history.rev;var b=new _(y.value);return y.folds.forEach(function(k){b.addFold("...",r.fromPoints(k.start,k.end))}),b.setAnnotations(y.annotations),b.setBreakpoints(y.breakpoints),b.setMode(y.mode),b.setScrollLeft(y.scrollLeft),b.setScrollTop(y.scrollTop),b.setUndoManager(w),b.selection.fromJSON(y.selection),b},_.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(y){return y.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},_.prototype.toString=function(){return this.doc.getValue()},_.prototype.getSelection=function(){return this.selection},_.prototype.getState=function(y){return this.bgTokenizer.getState(y)},_.prototype.getTokens=function(y){return this.bgTokenizer.getTokens(y)},_.prototype.getTokenAt=function(y,w){var b=this.bgTokenizer.getTokens(y),k,T=0;if(w==null){var M=b.length-1;T=this.getLine(y).length}else for(var M=0;M<b.length&&(T+=b[M].value.length,!(T>=w));M++);return k=b[M],k?(k.index=M,k.start=T-k.value.length,k):null},_.prototype.setUndoManager=function(y){if(this.$undoManager=y,this.$informUndoManager&&this.$informUndoManager.cancel(),y){var w=this;y.addSession(this),this.$syncInformUndoManager=function(){w.$informUndoManager.cancel(),w.mergeUndoDeltas=!1},this.$informUndoManager=m.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},_.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},_.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},_.prototype.getTabString=function(){return this.getUseSoftTabs()?m.stringRepeat(" ",this.getTabSize()):"	"},_.prototype.setUseSoftTabs=function(y){this.setOption("useSoftTabs",y)},_.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},_.prototype.setTabSize=function(y){this.setOption("tabSize",y)},_.prototype.getTabSize=function(){return this.$tabSize},_.prototype.isTabStop=function(y){return this.$useSoftTabs&&y.column%this.$tabSize===0},_.prototype.setNavigateWithinSoftTabs=function(y){this.setOption("navigateWithinSoftTabs",y)},_.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},_.prototype.setOverwrite=function(y){this.setOption("overwrite",y)},_.prototype.getOverwrite=function(){return this.$overwrite},_.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},_.prototype.addGutterDecoration=function(y,w){this.$decorations[y]||(this.$decorations[y]=""),this.$decorations[y]+=" "+w,this._signal("changeBreakpoint",{})},_.prototype.removeGutterDecoration=function(y,w){this.$decorations[y]=(this.$decorations[y]||"").replace(" "+w,""),this._signal("changeBreakpoint",{})},_.prototype.getBreakpoints=function(){return this.$breakpoints},_.prototype.setBreakpoints=function(y){this.$breakpoints=[];for(var w=0;w<y.length;w++)this.$breakpoints[y[w]]="ace_breakpoint";this._signal("changeBreakpoint",{})},_.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},_.prototype.setBreakpoint=function(y,w){w===void 0&&(w="ace_breakpoint"),w?this.$breakpoints[y]=w:delete this.$breakpoints[y],this._signal("changeBreakpoint",{})},_.prototype.clearBreakpoint=function(y){delete this.$breakpoints[y],this._signal("changeBreakpoint",{})},_.prototype.addMarker=function(y,w,b,k){var T=this.$markerId++,M={range:y,type:b||"line",renderer:typeof b=="function"?b:null,clazz:w,inFront:!!k,id:T};return k?(this.$frontMarkers[T]=M,this._signal("changeFrontMarker")):(this.$backMarkers[T]=M,this._signal("changeBackMarker")),T},_.prototype.addDynamicMarker=function(y,w){if(y.update){var b=this.$markerId++;return y.id=b,y.inFront=!!w,w?(this.$frontMarkers[b]=y,this._signal("changeFrontMarker")):(this.$backMarkers[b]=y,this._signal("changeBackMarker")),y}},_.prototype.removeMarker=function(y){var w=this.$frontMarkers[y]||this.$backMarkers[y];if(w){var b=w.inFront?this.$frontMarkers:this.$backMarkers;delete b[y],this._signal(w.inFront?"changeFrontMarker":"changeBackMarker")}},_.prototype.getMarkers=function(y){return y?this.$frontMarkers:this.$backMarkers},_.prototype.highlight=function(y){if(!this.$searchHighlight){var w=new l(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(w)}this.$searchHighlight.setRegexp(y)},_.prototype.highlightLines=function(y,w,b,k){typeof w!="number"&&(b=w,w=y),b||(b="ace_step");var T=new r(y,0,w,1/0);return T.id=this.addMarker(T,b,"fullLine",k),T},_.prototype.setAnnotations=function(y){this.$annotations=y,this._signal("changeAnnotation",{})},_.prototype.getAnnotations=function(){return this.$annotations||[]},_.prototype.clearAnnotations=function(){this.setAnnotations([])},_.prototype.$detectNewLine=function(y){var w=y.match(/^.*?(\r?\n)/m);w?this.$autoNewLine=w[1]:this.$autoNewLine=`
`},_.prototype.getWordRange=function(y,w){var b=this.getLine(y),k=!1;if(w>0&&(k=!!b.charAt(w-1).match(this.tokenRe)),k||(k=!!b.charAt(w).match(this.tokenRe)),k)var T=this.tokenRe;else if(/^\s+$/.test(b.slice(w-1,w+1)))var T=/\s/;else var T=this.nonTokenRe;var M=w;if(M>0){do M--;while(M>=0&&b.charAt(M).match(T));M++}for(var R=w;R<b.length&&b.charAt(R).match(T);)R++;return new r(y,M,y,R)},_.prototype.getAWordRange=function(y,w){for(var b=this.getWordRange(y,w),k=this.getLine(b.end.row);k.charAt(b.end.column).match(/[ \t]/);)b.end.column+=1;return b},_.prototype.setNewLineMode=function(y){this.doc.setNewLineMode(y)},_.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},_.prototype.setUseWorker=function(y){this.setOption("useWorker",y)},_.prototype.getUseWorker=function(){return this.$useWorker},_.prototype.onReloadTokenizer=function(y){var w=y.data;this.bgTokenizer.start(w.first),this._signal("tokenizerUpdate",y)},_.prototype.setMode=function(y,w){if(y&&typeof y=="object"){if(y.getTokenizer)return this.$onChangeMode(y);var b=y,k=b.path}else k=y||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new i),this.$modes[k]&&!b){this.$onChangeMode(this.$modes[k]),w&&w();return}this.$modeId=k,s.loadModule(["mode",k],function(T){if(this.$modeId!==k)return w&&w();this.$modes[k]&&!b?this.$onChangeMode(this.$modes[k]):T&&T.Mode&&(T=new T.Mode(b),b||(this.$modes[k]=T,T.$id=k),this.$onChangeMode(T)),w&&w()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},_.prototype.$onChangeMode=function(y,w){if(w||(this.$modeId=y.$id),this.$mode!==y){var b=this.$mode;this.$mode=y,this.$stopWorker(),this.$useWorker&&this.$startWorker();var k=y.getTokenizer();if(k.on!==void 0){var T=this.onReloadTokenizer.bind(this);k.on("update",T)}this.bgTokenizer.setTokenizer(k),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=y.tokenRe,this.nonTokenRe=y.nonTokenRe,w||(y.attachToSession&&y.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(y.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:b,mode:y}))}},_.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},_.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(y){s.warn("Could not load worker",y),this.$worker=null}},_.prototype.getMode=function(){return this.$mode},_.prototype.setScrollTop=function(y){this.$scrollTop===y||isNaN(y)||(this.$scrollTop=y,this._signal("changeScrollTop",y))},_.prototype.getScrollTop=function(){return this.$scrollTop},_.prototype.setScrollLeft=function(y){this.$scrollLeft===y||isNaN(y)||(this.$scrollLeft=y,this._signal("changeScrollLeft",y))},_.prototype.getScrollLeft=function(){return this.$scrollLeft},_.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},_.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var y=0;return this.lineWidgets.forEach(function(w){w&&w.screenWidth>y&&(y=w.screenWidth)}),this.lineWidgetWidth=y},_.prototype.$computeWidth=function(y){if(this.$modified||y){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var w=this.doc.getAllLines(),b=this.$rowLengthCache,k=0,T=0,M=this.$foldData[T],R=M?M.start.row:1/0,I=w.length,D=0;D<I;D++){if(D>R){if(D=M.end.row+1,D>=I)break;M=this.$foldData[T++],R=M?M.start.row:1/0}b[D]==null&&(b[D]=this.$getStringScreenWidth(w[D])[0]),b[D]>k&&(k=b[D])}this.screenWidth=k}},_.prototype.getLine=function(y){return this.doc.getLine(y)},_.prototype.getLines=function(y,w){return this.doc.getLines(y,w)},_.prototype.getLength=function(){return this.doc.getLength()},_.prototype.getTextRange=function(y){return this.doc.getTextRange(y||this.selection.getRange())},_.prototype.insert=function(y,w){return this.doc.insert(y,w)},_.prototype.remove=function(y){return this.doc.remove(y)},_.prototype.removeFullLines=function(y,w){return this.doc.removeFullLines(y,w)},_.prototype.undoChanges=function(y,w){if(y.length){this.$fromUndo=!0;for(var b=y.length-1;b!=-1;b--){var k=y[b];k.action=="insert"||k.action=="remove"?this.doc.revertDelta(k):k.folds&&this.addFolds(k.folds)}!w&&this.$undoSelect&&(y.selectionBefore?this.selection.fromJSON(y.selectionBefore):this.selection.setRange(this.$getUndoSelection(y,!0))),this.$fromUndo=!1}},_.prototype.redoChanges=function(y,w){if(y.length){this.$fromUndo=!0;for(var b=0;b<y.length;b++){var k=y[b];(k.action=="insert"||k.action=="remove")&&this.doc.$safeApplyDelta(k)}!w&&this.$undoSelect&&(y.selectionAfter?this.selection.fromJSON(y.selectionAfter):this.selection.setRange(this.$getUndoSelection(y,!1))),this.$fromUndo=!1}},_.prototype.setUndoSelect=function(y){this.$undoSelect=y},_.prototype.$getUndoSelection=function(y,w){function b(I){return w?I.action!=="insert":I.action==="insert"}for(var k,T,M=0;M<y.length;M++){var R=y[M];if(R.start){if(!k){b(R)?k=r.fromPoints(R.start,R.end):k=r.fromPoints(R.start,R.start);continue}b(R)?(T=R.start,k.compare(T.row,T.column)==-1&&k.setStart(T),T=R.end,k.compare(T.row,T.column)==1&&k.setEnd(T)):(T=R.start,k.compare(T.row,T.column)==-1&&(k=r.fromPoints(R.start,R.start)))}}return k},_.prototype.replace=function(y,w){return this.doc.replace(y,w)},_.prototype.moveText=function(y,w,b){var k=this.getTextRange(y),T=this.getFoldsInRange(y),M=r.fromPoints(w,w);if(!b){this.remove(y);var R=y.start.row-y.end.row,I=R?-y.end.column:y.start.column-y.end.column;I&&(M.start.row==y.end.row&&M.start.column>y.end.column&&(M.start.column+=I),M.end.row==y.end.row&&M.end.column>y.end.column&&(M.end.column+=I)),R&&M.start.row>=y.end.row&&(M.start.row+=R,M.end.row+=R)}if(M.end=this.insert(M.start,k),T.length){var D=y.start,O=M.start,R=O.row-D.row,I=O.column-D.column;this.addFolds(T.map(function(F){return F=F.clone(),F.start.row==D.row&&(F.start.column+=I),F.end.row==D.row&&(F.end.column+=I),F.start.row+=R,F.end.row+=R,F}))}return M},_.prototype.indentRows=function(y,w,b){b=b.replace(/\t/g,this.getTabString());for(var k=y;k<=w;k++)this.doc.insertInLine({row:k,column:0},b)},_.prototype.outdentRows=function(y){for(var w=y.collapseRows(),b=new r(0,0,0,0),k=this.getTabSize(),T=w.start.row;T<=w.end.row;++T){var M=this.getLine(T);b.start.row=T,b.end.row=T;for(var R=0;R<k&&M.charAt(R)==" ";++R);R<k&&M.charAt(R)=="	"?(b.start.column=R,b.end.column=R+1):(b.start.column=0,b.end.column=R),this.remove(b)}},_.prototype.$moveLines=function(y,w,b){if(y=this.getRowFoldStart(y),w=this.getRowFoldEnd(w),b<0){var k=this.getRowFoldStart(y+b);if(k<0)return 0;var T=k-y}else if(b>0){var k=this.getRowFoldEnd(w+b);if(k>this.doc.getLength()-1)return 0;var T=k-w}else{y=this.$clipRowToDocument(y),w=this.$clipRowToDocument(w);var T=w-y+1}var M=new r(y,0,w,Number.MAX_VALUE),R=this.getFoldsInRange(M).map(function(D){return D=D.clone(),D.start.row+=T,D.end.row+=T,D}),I=b==0?this.doc.getLines(y,w):this.doc.removeFullLines(y,w);return this.doc.insertFullLines(y+T,I),R.length&&this.addFolds(R),T},_.prototype.moveLinesUp=function(y,w){return this.$moveLines(y,w,-1)},_.prototype.moveLinesDown=function(y,w){return this.$moveLines(y,w,1)},_.prototype.duplicateLines=function(y,w){return this.$moveLines(y,w,0)},_.prototype.$clipRowToDocument=function(y){return Math.max(0,Math.min(y,this.doc.getLength()-1))},_.prototype.$clipColumnToRow=function(y,w){return w<0?0:Math.min(this.doc.getLine(y).length,w)},_.prototype.$clipPositionToDocument=function(y,w){if(w=Math.max(0,w),y<0)y=0,w=0;else{var b=this.doc.getLength();y>=b?(y=b-1,w=this.doc.getLine(b-1).length):w=Math.min(this.doc.getLine(y).length,w)}return{row:y,column:w}},_.prototype.$clipRangeToDocument=function(y){y.start.row<0?(y.start.row=0,y.start.column=0):y.start.column=this.$clipColumnToRow(y.start.row,y.start.column);var w=this.doc.getLength()-1;return y.end.row>w?(y.end.row=w,y.end.column=this.doc.getLine(w).length):y.end.column=this.$clipColumnToRow(y.end.row,y.end.column),y},_.prototype.setUseWrapMode=function(y){if(y!=this.$useWrapMode){if(this.$useWrapMode=y,this.$modified=!0,this.$resetRowCache(0),y){var w=this.getLength();this.$wrapData=Array(w),this.$updateWrapData(0,w-1)}this._signal("changeWrapMode")}},_.prototype.getUseWrapMode=function(){return this.$useWrapMode},_.prototype.setWrapLimitRange=function(y,w){(this.$wrapLimitRange.min!==y||this.$wrapLimitRange.max!==w)&&(this.$wrapLimitRange={min:y,max:w},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},_.prototype.adjustWrapLimit=function(y,w){var b=this.$wrapLimitRange;b.max<0&&(b={min:w,max:w});var k=this.$constrainWrapLimit(y,b.min,b.max);return k!=this.$wrapLimit&&k>1?(this.$wrapLimit=k,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},_.prototype.$constrainWrapLimit=function(y,w,b){return w&&(y=Math.max(w,y)),b&&(y=Math.min(b,y)),y},_.prototype.getWrapLimit=function(){return this.$wrapLimit},_.prototype.setWrapLimit=function(y){this.setWrapLimitRange(y,y)},_.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},_.prototype.$updateInternalDataOnChange=function(y){var w=this.$useWrapMode,b=y.action,k=y.start,T=y.end,M=k.row,R=T.row,I=R-M,D=null;if(this.$updating=!0,I!=0)if(b==="remove"){this[w?"$wrapData":"$rowLengthCache"].splice(M,I);var O=this.$foldData;D=this.getFoldsInRange(y),this.removeFolds(D);var N=this.getFoldLine(T.row),P=0;if(N){N.addRemoveChars(T.row,T.column,k.column-T.column),N.shiftRow(-I);var F=this.getFoldLine(M);F&&F!==N&&(F.merge(N),N=F),P=O.indexOf(N)+1}for(P;P<O.length;P++){var N=O[P];N.start.row>=T.row&&N.shiftRow(-I)}R=M}else{var z=Array(I);z.unshift(M,0);var U=w?this.$wrapData:this.$rowLengthCache;U.splice.apply(U,z);var O=this.$foldData,N=this.getFoldLine(M),P=0;if(N){var W=N.range.compareInside(k.row,k.column);W==0?(N=N.split(k.row,k.column),N&&(N.shiftRow(I),N.addRemoveChars(R,0,T.column-k.column))):W==-1&&(N.addRemoveChars(M,0,T.column-k.column),N.shiftRow(I)),P=O.indexOf(N)+1}for(P;P<O.length;P++){var N=O[P];N.start.row>=M&&N.shiftRow(I)}}else{I=Math.abs(y.start.column-y.end.column),b==="remove"&&(D=this.getFoldsInRange(y),this.removeFolds(D),I=-I);var N=this.getFoldLine(M);N&&N.addRemoveChars(M,k.column,I)}return w&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,w?this.$updateWrapData(M,R):this.$updateRowLengthCache(M,R),D},_.prototype.$updateRowLengthCache=function(y,w){this.$rowLengthCache[y]=null,this.$rowLengthCache[w]=null},_.prototype.$updateWrapData=function(y,w){var b=this.doc.getAllLines(),k=this.getTabSize(),T=this.$wrapData,M=this.$wrapLimit,R,I,D=y;for(w=Math.min(w,b.length-1);D<=w;)I=this.getFoldLine(D,I),I?(R=[],I.walk(function(O,N,P,F){var z;if(O!=null){z=this.$getDisplayTokens(O,R.length),z[0]=x;for(var U=1;U<z.length;U++)z[U]=A}else z=this.$getDisplayTokens(b[N].substring(F,P),R.length);R=R.concat(z)}.bind(this),I.end.row,b[I.end.row].length+1),T[I.start.row]=this.$computeWrapSplits(R,M,k),D=I.end.row+1):(R=this.$getDisplayTokens(b[D]),T[D]=this.$computeWrapSplits(R,M,k),D++)},_.prototype.$computeWrapSplits=function(y,w,b){if(y.length==0)return[];var k=[],T=y.length,M=0,R=0,I=this.$wrapAsCode,D=this.$indentedSoftWrap,O=w<=Math.max(2*b,8)||D===!1?0:Math.floor(w/2);function N(){var W=0;if(O===0)return W;if(D)for(var q=0;q<y.length;q++){var X=y[q];if(X==f)W+=1;else if(X==L)W+=b;else{if(X==$)continue;break}}return I&&D!==!1&&(W+=b),Math.min(W,O)}function P(W){for(var q=W-M,X=M;X<W;X++){var Z=y[X];(Z===12||Z===2)&&(q-=1)}k.length||(F=N(),k.indent=F),R+=q,k.push(R),M=W}for(var F=0;T-M>w-F;){var z=M+w-F;if(y[z-1]>=f&&y[z]>=f){P(z);continue}if(y[z]==x||y[z]==A){for(z;z!=M-1&&y[z]!=x;z--);if(z>M){P(z);continue}for(z=M+w,z;z<y.length&&y[z]==A;z++);if(z==y.length)break;P(z);continue}for(var U=Math.max(z-(w-(w>>2)),M-1);z>U&&y[z]<x;)z--;if(I){for(;z>U&&y[z]<x;)z--;for(;z>U&&y[z]==S;)z--}else for(;z>U&&y[z]<f;)z--;if(z>U){P(++z);continue}z=M+w,y[z]==E&&z--,P(z-F)}return k},_.prototype.$getDisplayTokens=function(y,w){var b=[],k;w=w||0;for(var T=0;T<y.length;T++){var M=y.charCodeAt(T);if(M==9){k=this.getScreenTabSize(b.length+w),b.push(L);for(var R=1;R<k;R++)b.push($)}else M==32?b.push(f):M>39&&M<48||M>57&&M<64?b.push(S):M>=4352&&C(M)?b.push(v,E):b.push(v)}return b},_.prototype.$getStringScreenWidth=function(y,w,b){if(w==0)return[0,0];w==null&&(w=1/0),b=b||0;var k,T;for(T=0;T<y.length&&(k=y.charCodeAt(T),k==9?b+=this.getScreenTabSize(b):k>=4352&&C(k)?b+=2:b+=1,!(b>w));T++);return[b,T]},_.prototype.getRowLength=function(y){var w=1;return this.lineWidgets&&(w+=this.lineWidgets[y]&&this.lineWidgets[y].rowCount||0),!this.$useWrapMode||!this.$wrapData[y]?w:this.$wrapData[y].length+w},_.prototype.getRowLineCount=function(y){return!this.$useWrapMode||!this.$wrapData[y]?1:this.$wrapData[y].length+1},_.prototype.getRowWrapIndent=function(y){if(this.$useWrapMode){var w=this.screenToDocumentPosition(y,Number.MAX_VALUE),b=this.$wrapData[w.row];return b.length&&b[0]<w.column?b.indent:0}else return 0},_.prototype.getScreenLastRowColumn=function(y){var w=this.screenToDocumentPosition(y,Number.MAX_VALUE);return this.documentToScreenColumn(w.row,w.column)},_.prototype.getDocumentLastRowColumn=function(y,w){var b=this.documentToScreenRow(y,w);return this.getScreenLastRowColumn(b)},_.prototype.getDocumentLastRowColumnPosition=function(y,w){var b=this.documentToScreenRow(y,w);return this.screenToDocumentPosition(b,Number.MAX_VALUE/10)},_.prototype.getRowSplitData=function(y){if(this.$useWrapMode)return this.$wrapData[y]},_.prototype.getScreenTabSize=function(y){return this.$tabSize-(y%this.$tabSize|0)},_.prototype.screenToDocumentRow=function(y,w){return this.screenToDocumentPosition(y,w).row},_.prototype.screenToDocumentColumn=function(y,w){return this.screenToDocumentPosition(y,w).column},_.prototype.screenToDocumentPosition=function(y,w,b){if(y<0)return{row:0,column:0};var k,T=0,M=0,R,I=0,D=0,O=this.$screenRowCache,N=this.$getRowCacheIndex(O,y),P=O.length;if(P&&N>=0)var I=O[N],T=this.$docRowCache[N],F=y>O[P-1];else var F=!P;for(var z=this.getLength()-1,U=this.getNextFoldLine(T),W=U?U.start.row:1/0;I<=y&&(D=this.getRowLength(T),!(I+D>y||T>=z));)I+=D,T++,T>W&&(T=U.end.row+1,U=this.getNextFoldLine(T,U),W=U?U.start.row:1/0),F&&(this.$docRowCache.push(T),this.$screenRowCache.push(I));if(U&&U.start.row<=T)k=this.getFoldDisplayLine(U),T=U.start.row;else{if(I+D<=y||T>z)return{row:z,column:this.getLine(z).length};k=this.getLine(T),U=null}var q=0,X=Math.floor(y-I);if(this.$useWrapMode){var Z=this.$wrapData[T];Z&&(R=Z[X],X>0&&Z.length&&(q=Z.indent,M=Z[X-1]||Z[Z.length-1],k=k.substring(M)))}return b!==void 0&&this.$bidiHandler.isBidiRow(I+X,T,X)&&(w=this.$bidiHandler.offsetToCol(b)),M+=this.$getStringScreenWidth(k,w-q)[1],this.$useWrapMode&&M>=R&&(M=R-1),U?U.idxToPosition(M):{row:T,column:M}},_.prototype.documentToScreenPosition=function(y,w){if(typeof w>"u")var b=this.$clipPositionToDocument(y.row,y.column);else b=this.$clipPositionToDocument(y,w);y=b.row,w=b.column;var k=0,T=null,M=null;M=this.getFoldAt(y,w,1),M&&(y=M.start.row,w=M.start.column);var R,I=0,D=this.$docRowCache,O=this.$getRowCacheIndex(D,y),N=D.length;if(N&&O>=0)var I=D[O],k=this.$screenRowCache[O],P=y>D[N-1];else var P=!N;for(var F=this.getNextFoldLine(I),z=F?F.start.row:1/0;I<y;){if(I>=z){if(R=F.end.row+1,R>y)break;F=this.getNextFoldLine(R,F),z=F?F.start.row:1/0}else R=I+1;k+=this.getRowLength(I),I=R,P&&(this.$docRowCache.push(I),this.$screenRowCache.push(k))}var U="";F&&I>=z?(U=this.getFoldDisplayLine(F,y,w),T=F.start.row):(U=this.getLine(y).substring(0,w),T=y);var W=0;if(this.$useWrapMode){var q=this.$wrapData[T];if(q){for(var X=0;U.length>=q[X];)k++,X++;U=U.substring(q[X-1]||0,U.length),W=X>0?q.indent:0}}return this.lineWidgets&&this.lineWidgets[I]&&this.lineWidgets[I].rowsAbove&&(k+=this.lineWidgets[I].rowsAbove),{row:k,column:W+this.$getStringScreenWidth(U)[0]}},_.prototype.documentToScreenColumn=function(y,w){return this.documentToScreenPosition(y,w).column},_.prototype.documentToScreenRow=function(y,w){return this.documentToScreenPosition(y,w).row},_.prototype.getScreenLength=function(){var y=0,w=null;if(this.$useWrapMode)for(var T=this.$wrapData.length,M=0,k=0,w=this.$foldData[k++],R=w?w.start.row:1/0;M<T;){var I=this.$wrapData[M];y+=I?I.length+1:1,M++,M>R&&(M=w.end.row+1,w=this.$foldData[k++],R=w?w.start.row:1/0)}else{y=this.getLength();for(var b=this.$foldData,k=0;k<b.length;k++)w=b[k],y-=w.end.row-w.start.row}return this.lineWidgets&&(y+=this.$getWidgetScreenLength()),y},_.prototype.$setFontMetrics=function(y){this.$enableVarChar&&(this.$getStringScreenWidth=function(w,b,k){if(b===0)return[0,0];b||(b=1/0),k=k||0;var T,M;for(M=0;M<w.length&&(T=w.charAt(M),T==="	"?k+=this.getScreenTabSize(k):k+=y.getCharacterWidth(T),!(k>b));M++);return[k,M]})},_.prototype.getPrecedingCharacter=function(){var y=this.selection.getCursor();if(y.column===0)return y.row===0?"":this.doc.getNewLineCharacter();var w=this.getLine(y.row);return w[y.column-1]},_.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},_}();g.$uid=0,g.prototype.$modes=s.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=C,p.implement(g.prototype,c);var v=1,E=2,x=3,A=4,S=9,f=10,L=11,$=12;function C(_){return _<4352?!1:_>=4352&&_<=4447||_>=4515&&_<=4519||_>=4602&&_<=4607||_>=9001&&_<=9002||_>=11904&&_<=11929||_>=11931&&_<=12019||_>=12032&&_<=12245||_>=12272&&_<=12283||_>=12288&&_<=12350||_>=12353&&_<=12438||_>=12441&&_<=12543||_>=12549&&_<=12589||_>=12593&&_<=12686||_>=12688&&_<=12730||_>=12736&&_<=12771||_>=12784&&_<=12830||_>=12832&&_<=12871||_>=12880&&_<=13054||_>=13056&&_<=19903||_>=19968&&_<=42124||_>=42128&&_<=42182||_>=43360&&_<=43388||_>=44032&&_<=55203||_>=55216&&_<=55238||_>=55243&&_<=55291||_>=63744&&_<=64255||_>=65040&&_<=65049||_>=65072&&_<=65106||_>=65108&&_<=65126||_>=65128&&_<=65131||_>=65281&&_<=65376||_>=65504&&_<=65510}e("./edit_session/folding").Folding.call(g.prototype),e("./edit_session/bracket_match").BracketMatch.call(g.prototype),s.defineOptions(g.prototype,"session",{wrap:{set:function(_){if(!_||_=="off"?_=!1:_=="free"?_=!0:_=="printMargin"?_=-1:typeof _=="string"&&(_=parseInt(_,10)||!1),this.$wrap!=_)if(this.$wrap=_,!_)this.setUseWrapMode(!1);else{var y=typeof _=="number"?_:null;this.setWrapLimitRange(y,y),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(_){_=_=="auto"?this.$mode.type!="text":_!="text",_!=this.$wrapAsCode&&(this.$wrapAsCode=_,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(_){this.$useWorker=_,this.$stopWorker(),_&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(_){_=parseInt(_),_>0&&this.$tabSize!==_&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=_,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(_){this.setFoldStyle(_)},handlesSet:!0},overwrite:{set:function(_){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(_){this.doc.setNewLineMode(_)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(_){this.setMode(_)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=g});ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,d){"use strict";var p=e("./lib/lang"),m=e("./lib/oop"),h=e("./range").Range,s=function(){function o(){this.$options={}}return o.prototype.set=function(i){return m.mixin(this.$options,i),this},o.prototype.getOptions=function(){return p.copyObject(this.$options)},o.prototype.setOptions=function(i){this.$options=i},o.prototype.find=function(i){var r=this.$options,a=this.$matchIterator(i,r);if(!a)return!1;var n=null;return a.forEach(function(l,u,g,v){return n=new h(l,u,g,v),u==v&&r.start&&r.start.start&&r.skipCurrent!=!1&&n.isEqual(r.start)?(n=null,!1):!0}),n},o.prototype.findAll=function(i){var r=this.$options;if(!r.needle)return[];this.$assembleRegExp(r);var a=r.range,n=a?i.getLines(a.start.row,a.end.row):i.doc.getAllLines(),l=[],u=r.re;if(r.$isMultiLine){var g=u.length,v=n.length-g,E;t:for(var x=u.offset||0;x<=v;x++){for(var A=0;A<g;A++)if(n[x+A].search(u[A])==-1)continue t;var S=n[x],f=n[x+g-1],L=S.length-S.match(u[0])[0].length,$=f.match(u[g-1])[0].length;E&&E.end.row===x&&E.end.column>L||(l.push(E=new h(x,L,x+g-1,$)),g>2&&(x=x+g-2))}}else for(var C=0;C<n.length;C++)for(var _=p.getMatchOffsets(n[C],u),A=0;A<_.length;A++){var y=_[A];l.push(new h(C,y.offset,C,y.offset+y.length))}if(a){for(var w=a.start.column,b=a.end.column,C=0,A=l.length-1;C<A&&l[C].start.column<w&&l[C].start.row==0;)C++;for(var k=a.end.row-a.start.row;C<A&&l[A].end.column>b&&l[A].end.row==k;)A--;for(l=l.slice(C,A+1),C=0,A=l.length;C<A;C++)l[C].start.row+=a.start.row,l[C].end.row+=a.start.row}return l},o.prototype.replace=function(i,r){var a=this.$options,n=this.$assembleRegExp(a);if(a.$isMultiLine)return r;if(n){var l=n.exec(i);if(!l||l[0].length!=i.length)return null;if(a.regExp||(r=r.replace(/\$/g,"$$$$")),r=i.replace(n,r),a.preserveCase){r=r.split("");for(var u=Math.min(i.length,i.length);u--;){var g=i[u];g&&g.toLowerCase()!=g?r[u]=r[u].toUpperCase():r[u]=r[u].toLowerCase()}r=r.join("")}return r}},o.prototype.$assembleRegExp=function(i,r){if(i.needle instanceof RegExp)return i.re=i.needle;var a=i.needle;if(!i.needle)return i.re=!1;i.regExp||(a=p.escapeRegExp(a));var n=i.caseSensitive?"gm":"gmi";try{new RegExp(a,"u"),i.$supportsUnicodeFlag=!0,n+="u"}catch{i.$supportsUnicodeFlag=!1}if(i.wholeWord&&(a=c(a,i)),i.$isMultiLine=!r&&/[\n\r]/.test(a),i.$isMultiLine)return i.re=this.$assembleMultilineRegExp(a,n);try{var l=new RegExp(a,n)}catch{l=!1}return i.re=l},o.prototype.$assembleMultilineRegExp=function(i,r){for(var a=i.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),n=[],l=0;l<a.length;l++)try{n.push(new RegExp(a[l],r))}catch{return!1}return n},o.prototype.$matchIterator=function(i,r){var a=this.$assembleRegExp(r);if(!a)return!1;var n=r.backwards==!0,l=r.skipCurrent!=!1,u=a.unicode,g=r.range,v=r.start;v||(v=g?g[n?"end":"start"]:i.selection.getRange()),v.start&&(v=v[l!=n?"end":"start"]);var E=g?g.start.row:0,x=g?g.end.row:i.getLength()-1;if(n)var A=function(L){var $=v.row;if(!f($,v.column,L)){for($--;$>=E;$--)if(f($,Number.MAX_VALUE,L))return;if(r.wrap!=!1){for($=x,E=v.row;$>=E;$--)if(f($,Number.MAX_VALUE,L))return}}};else var A=function($){var C=v.row;if(!f(C,v.column,$)){for(C=C+1;C<=x;C++)if(f(C,0,$))return;if(r.wrap!=!1){for(C=E,x=v.row;C<=x;C++)if(f(C,0,$))return}}};if(r.$isMultiLine)var S=a.length,f=function(L,$,C){var _=n?L-S+1:L;if(!(_<0||_+S>i.getLength())){var y=i.getLine(_),w=y.search(a[0]);if(!(!n&&w<$||w===-1)){for(var b=1;b<S;b++)if(y=i.getLine(_+b),y.search(a[b])==-1)return;var k=y.match(a[S-1])[0].length;if(!(n&&k>$)&&C(_,w,_+S-1,k))return!0}}};else if(n)var f=function($,C,_){var y=i.getLine($),w=[],b,k=0;for(a.lastIndex=0;b=a.exec(y);){var T=b[0].length;if(k=b.index,!T){if(k>=y.length)break;a.lastIndex=k+=p.skipEmptyMatch(y,k,u)}if(b.index+T>C)break;w.push(b.index,T)}for(var M=w.length-1;M>=0;M-=2){var R=w[M-1],T=w[M];if(_($,R,$,R+T))return!0}};else var f=function($,C,_){var y=i.getLine($),w,b;for(a.lastIndex=C;b=a.exec(y);){var k=b[0].length;if(w=b.index,_($,w,$,w+k))return!0;if(!k&&(a.lastIndex=w+=p.skipEmptyMatch(y,w,u),w>=y.length))return!1}};return{forEach:A}},o}();function c(o,i){var r=p.supportsLookbehind();function a(g,v){v===void 0&&(v=!0);var E=r&&i.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return E.test(g)||i.regExp?r&&i.$supportsUnicodeFlag?v?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var n=Array.from(o),l=n[0],u=n[n.length-1];return a(l)+o+a(u,!1)}t.Search=s});ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,d){"use strict";var p=this&&this.__extends||function(){var r=function(a,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(l[g]=u[g])},r(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(a,n);function l(){this.constructor=a}a.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}}(),m=e("../lib/keys"),h=e("../lib/useragent"),s=m.KEY_MODS,c=function(){function r(a,n){this.$init(a,n,!1)}return r.prototype.$init=function(a,n,l){this.platform=n||(h.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(a),this.$singleCommand=l},r.prototype.addCommand=function(a){this.commands[a.name]&&this.removeCommand(a),this.commands[a.name]=a,a.bindKey&&this._buildKeyHash(a)},r.prototype.removeCommand=function(a,n){var l=a&&(typeof a=="string"?a:a.name);a=this.commands[l],n||delete this.commands[l];var u=this.commandKeyBinding;for(var g in u){var v=u[g];if(v==a)delete u[g];else if(Array.isArray(v)){var E=v.indexOf(a);E!=-1&&(v.splice(E,1),v.length==1&&(u[g]=v[0]))}}},r.prototype.bindKey=function(a,n,l){if(typeof a=="object"&&a&&(l==null&&(l=a.position),a=a[this.platform]),!!a){if(typeof n=="function")return this.addCommand({exec:n,bindKey:a,name:n.name||a});a.split("|").forEach(function(u){var g="";if(u.indexOf(" ")!=-1){var v=u.split(/\s+/);u=v.pop(),v.forEach(function(A){var S=this.parseKeys(A),f=s[S.hashId]+S.key;g+=(g?" ":"")+f,this._addCommandToBinding(g,"chainKeys")},this),g+=" "}var E=this.parseKeys(u),x=s[E.hashId]+E.key;this._addCommandToBinding(g+x,n,l)},this)}},r.prototype._addCommandToBinding=function(a,n,l){var u=this.commandKeyBinding,g;if(!n)delete u[a];else if(!u[a]||this.$singleCommand)u[a]=n;else{Array.isArray(u[a])?(g=u[a].indexOf(n))!=-1&&u[a].splice(g,1):u[a]=[u[a]],typeof l!="number"&&(l=o(n));var v=u[a];for(g=0;g<v.length;g++){var E=v[g],x=o(E);if(x>l)break}v.splice(g,0,n)}},r.prototype.addCommands=function(a){a&&Object.keys(a).forEach(function(n){var l=a[n];if(l){if(typeof l=="string")return this.bindKey(l,n);typeof l=="function"&&(l={exec:l}),typeof l=="object"&&(l.name||(l.name=n),this.addCommand(l))}},this)},r.prototype.removeCommands=function(a){Object.keys(a).forEach(function(n){this.removeCommand(a[n])},this)},r.prototype.bindKeys=function(a){Object.keys(a).forEach(function(n){this.bindKey(n,a[n])},this)},r.prototype._buildKeyHash=function(a){this.bindKey(a.bindKey,a)},r.prototype.parseKeys=function(a){var n=a.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x}),l=n.pop(),u=m[l];if(m.FUNCTION_KEYS[u])l=m.FUNCTION_KEYS[u].toLowerCase();else if(n.length){if(n.length==1&&n[0]=="shift")return{key:l.toUpperCase(),hashId:-1}}else return{key:l,hashId:-1};for(var g=0,v=n.length;v--;){var E=m.KEY_MODS[n[v]];if(E==null)return typeof console<"u"&&console.error("invalid modifier "+n[v]+" in "+a),!1;g|=E}return{key:l,hashId:g}},r.prototype.findKeyCommand=function(a,n){var l=s[a]+n;return this.commandKeyBinding[l]},r.prototype.handleKeyboard=function(a,n,l,u){if(!(u<0)){var g=s[n]+l,v=this.commandKeyBinding[g];return a.$keyChain&&(a.$keyChain+=" "+g,v=this.commandKeyBinding[a.$keyChain]||v),v&&(v=="chainKeys"||v[v.length-1]=="chainKeys")?(a.$keyChain=a.$keyChain||g,{command:"null"}):(a.$keyChain&&((!n||n==4)&&l.length==1?a.$keyChain=a.$keyChain.slice(0,-g.length-1):(n==-1||u>0)&&(a.$keyChain="")),{command:v})}},r.prototype.getStatusText=function(a,n){return n.$keyChain||""},r}();function o(r){return typeof r=="object"&&r.bindKey&&r.bindKey.position||(r.isDefault?-100:0)}var i=function(r){p(a,r);function a(n,l){var u=r.call(this,n,l)||this;return u.$singleCommand=!0,u}return a}(c);i.call=function(r,a,n){c.prototype.$init.call(r,a,n,!0)},c.call=function(r,a,n){c.prototype.$init.call(r,a,n,!1)},t.HashHandler=i,t.MultiHashHandler=c});ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,d){"use strict";var p=this&&this.__extends||function(){var o=function(i,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(a[l]=n[l])},o(i,r)};return function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(i,r);function a(){this.constructor=i}i.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),m=e("../lib/oop"),h=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter,c=function(o){p(i,o);function i(r,a){var n=o.call(this,a,r)||this;return n.byName=n.commands,n.setDefaultHandler("exec",function(l){return l.args?l.command.exec(l.editor,l.args,l.event,!1):l.command.exec(l.editor,{},l.event,!0)}),n}return i.prototype.exec=function(r,a,n){if(Array.isArray(r)){for(var l=r.length;l--;)if(this.exec(r[l],a,n))return!0;return!1}if(typeof r=="string"&&(r=this.commands[r]),!this.canExecute(r,a))return!1;var u={editor:a,command:r,args:n};return u.returnValue=this._emit("exec",u),this._signal("afterExec",u),u.returnValue!==!1},i.prototype.canExecute=function(r,a){return typeof r=="string"&&(r=this.commands[r]),!(!r||a&&a.$readOnly&&!r.readOnly||this.$checkCommandState!=!1&&r.isAvailable&&!r.isAvailable(a))},i.prototype.toggleRecording=function(r){if(!this.$inReplay)return r&&r._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(a){this.macro.push([a.command,a.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},i.prototype.replay=function(r){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(r);try{this.$inReplay=!0,this.macro.forEach(function(a){typeof a=="string"?this.exec(a,r):this.exec(a[0],r,a[1])},this)}finally{this.$inReplay=!1}}},i.prototype.trimMacro=function(r){return r.map(function(a){return typeof a[0]!="string"&&(a[0]=a[0].name),a[1]||(a=a[0]),a})},i}(h);m.implement(c.prototype,s),t.CommandManager=c});ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,d){"use strict";var p=e("../lib/lang"),m=e("../config"),h=e("../range").Range;function s(o,i){return{win:o,mac:i}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(o){m.loadModule("ace/ext/settings_menu",function(i){i.init(o),o.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(o){m.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(o,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(o){m.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(o,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(o){o.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(o){o.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(o,i){typeof i=="number"&&!isNaN(i)&&o.gotoLine(i),o.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(o){o.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(o){o.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(o){o.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(o){o.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(o){o.session.foldAll(),o.session.unfold(o.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(o){o.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(o){o.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(o){o.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(o){m.loadModule("ace/ext/searchbox",function(i){i.Search(o)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(o){o.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(o){o.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(o){o.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(o){o.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(o,i){o.navigateUp(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(o){o.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(o){o.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(o){o.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(o,i){o.navigateDown(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(o){o.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(o){o.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(o){o.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(o){o.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(o,i){o.navigateLeft(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(o){o.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(o){o.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(o){o.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(o){o.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(o,i){o.navigateRight(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(o){o.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(o){o.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(o){o.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(o){o.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(o){o.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(o){o.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(o){o.renderer.scrollBy(0,-2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(o){o.renderer.scrollBy(0,2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(o){o.commands.toggleRecording(o)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(o){o.commands.replay(o)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(o){o.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(o){o.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(o){o.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(o){},readOnly:!0},{name:"cut",description:"Cut",exec:function(o){var i=o.$copyWithEmptySelection&&o.selection.isEmpty(),r=i?o.selection.getLineRange():o.selection.getRange();o._emit("cut",r),r.isEmpty()||o.session.remove(r),o.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(o,i){o.$handlePaste(i)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(o){o.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(o){o.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(o){o.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(o){o.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(o){o.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(o){o.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(o){o.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(o){m.loadModule("ace/ext/searchbox",function(i){i.Search(o,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(o){o.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(o){o.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(o){o.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(o){o.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(o){o.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(o){o.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(o){o.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(o){o.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(o){if(o.selection.isEmpty())o.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(o){o.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(o){o.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(o){var i=o.selection.getRange();i.start.column=0,o.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(o){var i=o.selection.getRange();i.end.column=Number.MAX_VALUE,o.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(o){o.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(o){o.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(o){o.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(o){o.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(o){o.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(o){o.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(o,i){o.insert(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(o,i){o.insert(p.stringRepeat(i.text||"",i.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(o){o.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(o){o.transposeLetters()},multiSelectAction:function(o){o.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(o){o.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(o){o.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(o){o.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(o){var i=o.selection.getRange();i.start.column=i.end.column=0,i.end.row++,o.selection.setRange(i,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(o){o.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(o){for(var i=o.selection.isBackwards(),r=i?o.selection.getSelectionLead():o.selection.getSelectionAnchor(),a=i?o.selection.getSelectionAnchor():o.selection.getSelectionLead(),n=o.session.doc.getLine(r.row).length,l=o.session.doc.getTextRange(o.selection.getRange()),u=l.replace(/\n\s*/," ").length,g=o.session.doc.getLine(r.row),v=r.row+1;v<=a.row+1;v++){var E=p.stringTrimLeft(p.stringTrimRight(o.session.doc.getLine(v)));E.length!==0&&(E=" "+E),g+=E}a.row+1<o.session.doc.getLength()-1&&(g+=o.session.doc.getNewLineCharacter()),o.clearSelection(),o.session.doc.replace(new h(r.row,0,a.row+2,0),g),u>0?(o.selection.moveCursorTo(r.row,r.column),o.selection.selectTo(r.row,r.column+u)):(n=o.session.doc.getLine(r.row).length>n?n+1:n,o.selection.moveCursorTo(r.row,n))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(o){var i=o.session.doc.getLength()-1,r=o.session.doc.getLine(i).length,a=o.selection.rangeList.ranges,n=[];a.length<1&&(a=[o.selection.getRange()]);for(var l=0;l<a.length;l++)l==a.length-1&&(a[l].end.row===i&&a[l].end.column===r||n.push(new h(a[l].end.row,a[l].end.column,i,r))),l===0?a[l].start.row===0&&a[l].start.column===0||n.push(new h(0,0,a[l].start.row,a[l].start.column)):n.push(new h(a[l-1].end.row,a[l-1].end.column,a[l].start.row,a[l].start.column));o.exitMultiSelectMode(),o.clearSelection();for(var l=0;l<n.length;l++)o.selection.addRange(n[l],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(o){o.selection.clearSelection(),o.navigateLineEnd(),o.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(o){o.selection.clearSelection();var i=o.getCursorPosition();o.selection.moveTo(i.row-1,Number.MAX_VALUE),o.insert(`
`),i.row===0&&o.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(o){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),o.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:s("F1","F1"),exec:function(o){o.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(o){o.prompt({$type:"modes"})},readOnly:!0}];for(var c=1;c<9;c++)t.commands.push({name:"foldToLevel"+c,description:"Fold To Level "+c,level:c,exec:function(o){o.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})});ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(e,t,d){"use strict";var p=e("./lib/dom"),m=function(){function h(s){this.session=s,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return h.prototype.getRowLength=function(s){var c;return this.lineWidgets?c=this.lineWidgets[s]&&this.lineWidgets[s].rowCount||0:c=0,!this.$useWrapMode||!this.$wrapData[s]?1+c:this.$wrapData[s].length+1+c},h.prototype.$getWidgetScreenLength=function(){var s=0;return this.lineWidgets.forEach(function(c){c&&c.rowCount&&!c.hidden&&(s+=c.rowCount)}),s},h.prototype.$onChangeEditor=function(s){this.attach(s.editor)},h.prototype.attach=function(s){s&&s.widgetManager&&s.widgetManager!=this&&s.widgetManager.detach(),this.editor!=s&&(this.detach(),this.editor=s,s&&(s.widgetManager=this,s.renderer.on("beforeRender",this.measureWidgets),s.renderer.on("afterRender",this.renderWidgets)))},h.prototype.detach=function(s){var c=this.editor;if(c){this.editor=null,c.widgetManager=null,c.renderer.off("beforeRender",this.measureWidgets),c.renderer.off("afterRender",this.renderWidgets);var o=this.session.lineWidgets;o&&o.forEach(function(i){i&&i.el&&i.el.parentNode&&(i._inDocument=!1,i.el.parentNode.removeChild(i.el))})}},h.prototype.updateOnFold=function(s,c){var o=c.lineWidgets;if(!(!o||!s.action)){for(var i=s.data,r=i.start.row,a=i.end.row,n=s.action=="add",l=r+1;l<a;l++)o[l]&&(o[l].hidden=n);o[a]&&(n?o[r]?o[a].hidden=n:o[r]=o[a]:(o[r]==o[a]&&(o[r]=void 0),o[a].hidden=n))}},h.prototype.updateOnChange=function(s){var c=this.session.lineWidgets;if(c){var o=s.start.row,i=s.end.row-o;if(i!==0)if(s.action=="remove"){var r=c.splice(o+1,i);!c[o]&&r[r.length-1]&&(c[o]=r.pop()),r.forEach(function(n){n&&this.removeLineWidget(n)},this),this.$updateRows()}else{var a=new Array(i);c[o]&&c[o].column!=null&&s.start.column>c[o].column&&o++,a.unshift(o,0),c.splice.apply(c,a),this.$updateRows()}}},h.prototype.$updateRows=function(){var s=this.session.lineWidgets;if(s){var c=!0;s.forEach(function(o,i){if(o)for(c=!1,o.row=i;o.$oldWidget;)o.$oldWidget.row=i,o=o.$oldWidget}),c&&(this.session.lineWidgets=null)}},h.prototype.$registerLineWidget=function(s){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var c=this.session.lineWidgets[s.row];return c&&(s.$oldWidget=c,c.el&&c.el.parentNode&&(c.el.parentNode.removeChild(c.el),c._inDocument=!1)),this.session.lineWidgets[s.row]=s,s},h.prototype.addLineWidget=function(s){if(this.$registerLineWidget(s),s.session=this.session,!this.editor)return s;var c=this.editor.renderer;s.html&&!s.el&&(s.el=p.createElement("div"),s.el.innerHTML=s.html),s.text&&!s.el&&(s.el=p.createElement("div"),s.el.textContent=s.text),s.el&&(p.addCssClass(s.el,"ace_lineWidgetContainer"),s.className&&p.addCssClass(s.el,s.className),s.el.style.position="absolute",s.el.style.zIndex="5",c.container.appendChild(s.el),s._inDocument=!0,s.coverGutter||(s.el.style.zIndex="3"),s.pixelHeight==null&&(s.pixelHeight=s.el.offsetHeight)),s.rowCount==null&&(s.rowCount=s.pixelHeight/c.layerConfig.lineHeight);var o=this.session.getFoldAt(s.row,0);if(s.$fold=o,o){var i=this.session.lineWidgets;s.row==o.end.row&&!i[o.start.row]?i[o.start.row]=s:s.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows(),this.renderWidgets(null,c),this.onWidgetChanged(s),s},h.prototype.removeLineWidget=function(s){if(s._inDocument=!1,s.session=null,s.el&&s.el.parentNode&&s.el.parentNode.removeChild(s.el),s.editor&&s.editor.destroy)try{s.editor.destroy()}catch{}if(this.session.lineWidgets){var c=this.session.lineWidgets[s.row];if(c==s)this.session.lineWidgets[s.row]=s.$oldWidget,s.$oldWidget&&this.onWidgetChanged(s.$oldWidget);else for(;c;){if(c.$oldWidget==s){c.$oldWidget=s.$oldWidget;break}c=c.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows()},h.prototype.getWidgetsAtRow=function(s){for(var c=this.session.lineWidgets,o=c&&c[s],i=[];o;)i.push(o),o=o.$oldWidget;return i},h.prototype.onWidgetChanged=function(s){this.session._changedWidgets.push(s),this.editor&&this.editor.renderer.updateFull()},h.prototype.measureWidgets=function(s,c){var o=this.session._changedWidgets,i=c.layerConfig;if(!(!o||!o.length)){for(var r=1/0,a=0;a<o.length;a++){var n=o[a];if(!(!n||!n.el)&&n.session==this.session){if(!n._inDocument){if(this.session.lineWidgets[n.row]!=n)continue;n._inDocument=!0,c.container.appendChild(n.el)}n.h=n.el.offsetHeight,n.fixedWidth||(n.w=n.el.offsetWidth,n.screenWidth=Math.ceil(n.w/i.characterWidth));var l=n.h/i.lineHeight;n.coverLine&&(l-=this.session.getRowLineCount(n.row),l<0&&(l=0)),n.rowCount!=l&&(n.rowCount=l,n.row<r&&(r=n.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},h.prototype.renderWidgets=function(s,c){var o=c.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,o.firstRow),a=Math.max(this.lastRow,o.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=o.firstRow,this.lastRow=o.lastRow,c.$cursorLayer.config=o;for(var n=r;n<=a;n++){var l=i[n];if(!(!l||!l.el)){if(l.hidden){l.el.style.top=-100-(l.pixelHeight||0)+"px";continue}l._inDocument||(l._inDocument=!0,c.container.appendChild(l.el));var u=c.$cursorLayer.getPixelPosition({row:n,column:0},!0).top;l.coverLine||(u+=o.lineHeight*this.session.getRowLineCount(l.row)),l.el.style.top=u-o.offset+"px";var g=l.coverGutter?0:c.gutterWidth;l.fixedWidth||(g-=c.scrollLeft),l.el.style.left=g+"px",l.fullWidth&&l.screenWidth&&(l.el.style.minWidth=o.width+2*o.padding+"px"),l.fixedWidth?l.el.style.right=c.scrollBar.getWidth()+"px":l.el.style.right=""}}}},h}();t.LineWidgets=m});ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(e,t,d){"use strict";var p=e("../lib/keys"),m=e("../mouse/default_gutter_handler").GutterTooltip,h=function(){function c(o){this.editor=o,this.gutterLayer=o.renderer.$gutterLayer,this.element=o.renderer.$gutter,this.lines=o.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new m(this.editor)}return c.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},c.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},c.prototype.$onGutterKeyDown=function(o){if(this.annotationTooltip.isOpen){o.preventDefault(),o.keyCode===p.escape&&this.annotationTooltip.hideTooltip();return}if(o.target===this.element){if(o.keyCode!=p.enter)return;o.preventDefault();var i=this.editor.getCursorPosition().row;this.editor.isRowVisible(i)||this.editor.scrollToLine(i,!0,!0),setTimeout(function(){var r=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),a=this.$findNearestFoldWidget(r),n=this.$findNearestAnnotation(r);if(!(a===null&&n===null)){if(a===null&&n!==null){this.activeRowIndex=n,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(a!==null&&n===null){this.activeRowIndex=a,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(n-r)<Math.abs(a-r)){this.activeRowIndex=n,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=a,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(o),setTimeout(function(){this.editor._signal("gutterkeydown",new s(o,this))}.bind(this),10)},c.prototype.$handleGutterKeyboardInteraction=function(o){if(o.keyCode===p.tab){o.preventDefault();return}if(o.keyCode===p.escape){o.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(o.keyCode===p.up){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(o.keyCode===p.down){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(o.keyCode===p.left){o.preventDefault(),this.$switchLane("annotation");return}if(o.keyCode===p.right){o.preventDefault(),this.$switchLane("fold");return}if(o.keyCode===p.enter||o.keyCode===p.space){switch(o.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var i=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),o),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==i&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(i),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var r=this.lines.cells[this.activeRowIndex].element.childNodes[2],a=r.getBoundingClientRect(),n=this.annotationTooltip.getElement().style;n.left=a.right+"px",n.top=a.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},c.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},c.prototype.$isFoldWidgetVisible=function(o){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),r=this.$getFoldWidget(o).style.display!=="none";return i&&r},c.prototype.$isAnnotationVisible=function(o){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),r=this.$getAnnotation(o).style.display!=="none";return i&&r},c.prototype.$getFoldWidget=function(o){var i=this.lines.get(o),r=i.element;return r.childNodes[1]},c.prototype.$getAnnotation=function(o){var i=this.lines.get(o),r=i.element;return r.childNodes[2]},c.prototype.$findNearestFoldWidget=function(o){if(this.$isFoldWidgetVisible(o))return o;for(var i=0;o-i>0||o+i<this.lines.getLength()-1;){if(i++,o-i>=0&&this.$isFoldWidgetVisible(o-i))return o-i;if(o+i<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(o+i))return o+i}return null},c.prototype.$findNearestAnnotation=function(o){if(this.$isAnnotationVisible(o))return o;for(var i=0;o-i>0||o+i<this.lines.getLength()-1;){if(i++,o-i>=0&&this.$isAnnotationVisible(o-i))return o-i;if(o+i<=this.lines.getLength()-1&&this.$isAnnotationVisible(o+i))return o+i}return null},c.prototype.$focusFoldWidget=function(o){if(o!=null){var i=this.$getFoldWidget(o);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},c.prototype.$focusAnnotation=function(o){if(o!=null){var i=this.$getAnnotation(o);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},c.prototype.$blurFoldWidget=function(o){var i=this.$getFoldWidget(o);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},c.prototype.$blurAnnotation=function(o){var i=this.$getAnnotation(o);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},c.prototype.$moveFoldWidgetUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},c.prototype.$moveFoldWidgetDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},c.prototype.$moveAnnotationUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},c.prototype.$moveAnnotationDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},c.prototype.$switchLane=function(o){switch(o){case"annotation":if(this.activeLane==="annotation")break;var i=this.$findNearestAnnotation(this.activeRowIndex);if(i==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=i,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var r=this.$findNearestFoldWidget(this.activeRowIndex);if(r==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=r,this.$focusFoldWidget(this.activeRowIndex);break}},c.prototype.$rowIndexToRow=function(o){var i=this.lines.get(o);return i?i.row:null},c.prototype.$rowToRowIndex=function(o){for(var i=0;i<this.lines.getLength();i++){var r=this.lines.get(i);if(r.row==o)return i}return null},c}();t.GutterKeyboardHandler=h;var s=function(){function c(o,i){this.gutterKeyboardHandler=i,this.domEvent=o}return c.prototype.getKey=function(){return p.keyCodeToString(this.domEvent.keyCode)},c.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},c.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},c.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},c}();t.GutterKeyboardEvent=s});ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(e,t,d){"use strict";var p=this&&this.__values||function(w){var b=typeof Symbol=="function"&&Symbol.iterator,k=b&&w[b],T=0;if(k)return k.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&T>=w.length&&(w=void 0),{value:w&&w[T++],done:!w}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},m=e("./lib/oop"),h=e("./lib/dom"),s=e("./lib/lang"),c=e("./lib/useragent"),o=e("./keyboard/textinput").TextInput,i=e("./mouse/mouse_handler").MouseHandler,r=e("./mouse/fold_handler").FoldHandler,a=e("./keyboard/keybinding").KeyBinding,n=e("./edit_session").EditSession,l=e("./search").Search,u=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,v=e("./commands/command_manager").CommandManager,E=e("./commands/default_commands").commands,x=e("./config"),A=e("./token_iterator").TokenIterator,S=e("./line_widgets").LineWidgets,f=e("./keyboard/gutter_handler").GutterKeyboardHandler,L=e("./config").nls,$=e("./clipboard"),C=e("./lib/keys"),_=function(){function w(b,k,T){this.session,this.$toDestroy=[];var M=b.getContainerElement();this.container=M,this.renderer=b,this.id="editor"+ ++w.$uid,this.commands=new v(c.isMac?"mac":"win",E),typeof document=="object"&&(this.textInput=new o(b.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new i(this),new r(this)),this.keyBinding=new a(this),this.$search=new l().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(R,I){I._$emitInputEvent.schedule(31)}),this.setSession(k||T&&T.session||new n("")),x.resetOptions(this),T&&this.setOptions(T),x._signal("editor",this)}return w.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},w.prototype.startOperation=function(b){if(this.curOp){if(!b||this.curOp.command)return;this.prevOp=this.curOp}b||(this.previousCommand=null,b={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:b.command||{},args:b.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},w.prototype.endOperation=function(b){if(this.curOp&&this.session){if(b&&b.returnValue===!1||!this.session)return this.curOp=null;if(b==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var k=this.curOp.command,T=k&&k.scrollIntoView;if(T){switch(T){case"center-animate":T="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var M=this.selection.getRange(),R=this.renderer.layerConfig;(M.start.row>=R.lastRow||M.end.row<=R.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:break}T=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var I=this.selection.toJSON();this.curOp.selectionAfter=I,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(I),this.prevOp=this.curOp,this.curOp=null}},w.prototype.$historyTracker=function(b){if(this.$mergeUndoDeltas){var k=this.prevOp,T=this.$mergeableCommands,M=k.command&&b.command.name==k.command.name;if(b.command.name=="insertstring"){var R=b.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),M=M&&this.mergeNextCommand&&(!/\s/.test(R)||/\s/.test(k.args)),this.mergeNextCommand=!0}else M=M&&T.indexOf(b.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(M=!1),M?this.session.mergeUndoDeltas=!0:T.indexOf(b.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},w.prototype.setKeyboardHandler=function(b,k){if(b&&typeof b=="string"&&b!="ace"){this.$keybindingId=b;var T=this;x.loadModule(["keybinding",b],function(M){T.$keybindingId==b&&T.keyBinding.setKeyboardHandler(M&&M.handler),k&&k()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(b),k&&k()},w.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},w.prototype.setSession=function(b){if(this.session!=b){this.curOp&&this.endOperation(),this.curOp={};var k=this.session;if(k){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var T=this.session.getSelection();T.off("changeCursor",this.$onCursorChange),T.off("changeSelection",this.$onSelectionChange)}this.session=b,b?(this.$onDocumentChange=this.onDocumentChange.bind(this),b.on("change",this.$onDocumentChange),this.renderer.setSession(b),this.$onChangeMode=this.onChangeMode.bind(this),b.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),b.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),b.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),b.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),b.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),b.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=b.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(b)),this._signal("changeSession",{session:b,oldSession:k}),this.curOp=null,k&&k._signal("changeEditor",{oldEditor:this}),b&&b._signal("changeEditor",{editor:this}),b&&!b.destroyed&&b.bgTokenizer.scheduleStart()}},w.prototype.getSession=function(){return this.session},w.prototype.setValue=function(b,k){return this.session.doc.setValue(b),k?k==1?this.navigateFileEnd():k==-1&&this.navigateFileStart():this.selectAll(),b},w.prototype.getValue=function(){return this.session.getValue()},w.prototype.getSelection=function(){return this.selection},w.prototype.resize=function(b){this.renderer.onResize(b)},w.prototype.setTheme=function(b,k){this.renderer.setTheme(b,k)},w.prototype.getTheme=function(){return this.renderer.getTheme()},w.prototype.setStyle=function(b){this.renderer.setStyle(b)},w.prototype.unsetStyle=function(b){this.renderer.unsetStyle(b)},w.prototype.getFontSize=function(){return this.getOption("fontSize")||h.computedStyle(this.container).fontSize},w.prototype.setFontSize=function(b){this.setOption("fontSize",b)},w.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var b=this;this.$highlightPending=!0,setTimeout(function(){b.$highlightPending=!1;var k=b.session;if(!(!k||k.destroyed)){k.$bracketHighlight&&(k.$bracketHighlight.markerIds.forEach(function(F){k.removeMarker(F)}),k.$bracketHighlight=null);var T=b.getCursorPosition(),M=b.getKeyboardHandler(),R=M&&M.$getDirectionForHighlight&&M.$getDirectionForHighlight(b),I=k.getMatchingBracketRanges(T,R);if(!I){var D=new A(k,T.row,T.column),O=D.getCurrentToken();if(O&&/\b(?:tag-open|tag-name)/.test(O.type)){var N=k.getMatchingTags(T);N&&(I=[N.openTagName.isEmpty()?N.openTag:N.openTagName,N.closeTagName.isEmpty()?N.closeTag:N.closeTagName])}}if(!I&&k.$mode.getMatching&&(I=k.$mode.getMatching(b.session)),!I){b.getHighlightIndentGuides()&&b.renderer.$textLayer.$highlightIndentGuide();return}var P="ace_bracket";Array.isArray(I)?I.length==1&&(P="ace_error_bracket"):I=[I],I.length==2&&(u.comparePoints(I[0].end,I[1].start)==0?I=[u.fromPoints(I[0].start,I[1].end)]:u.comparePoints(I[0].start,I[1].end)==0&&(I=[u.fromPoints(I[1].start,I[0].end)])),k.$bracketHighlight={ranges:I,markerIds:I.map(function(F){return k.addMarker(F,P,"text")})},b.getHighlightIndentGuides()&&b.renderer.$textLayer.$highlightIndentGuide()}},50)}},w.prototype.focus=function(){this.textInput.focus()},w.prototype.isFocused=function(){return this.textInput.isFocused()},w.prototype.blur=function(){this.textInput.blur()},w.prototype.onFocus=function(b){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",b))},w.prototype.onBlur=function(b){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",b))},w.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},w.prototype.onDocumentChange=function(b){var k=this.session.$useWrapMode,T=b.start.row==b.end.row?b.end.row:1/0;this.renderer.updateLines(b.start.row,T,k),this._signal("change",b),this.$cursorChange()},w.prototype.onTokenizerUpdate=function(b){var k=b.data;this.renderer.updateLines(k.first,k.last)},w.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},w.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},w.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},w.prototype.$updateHighlightActiveLine=function(){var b=this.getSession(),k;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(k=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(k=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(k=!1)),b.$highlightLineMarker&&!k)b.removeMarker(b.$highlightLineMarker.id),b.$highlightLineMarker=null;else if(!b.$highlightLineMarker&&k){var T=new u(k.row,k.column,k.row,1/0);T.id=b.addMarker(T,"ace_active-line","screenLine"),b.$highlightLineMarker=T}else k&&(b.$highlightLineMarker.start.row=k.row,b.$highlightLineMarker.end.row=k.row,b.$highlightLineMarker.start.column=k.column,b._signal("changeBackMarker"))},w.prototype.onSelectionChange=function(b){var k=this.session;if(k.$selectionMarker&&k.removeMarker(k.$selectionMarker),k.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var T=this.selection.getRange(),M=this.getSelectionStyle();k.$selectionMarker=k.addMarker(T,"ace_selection",M)}var R=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(R),this._signal("changeSelection")},w.prototype.$getSelectionHighLightRegexp=function(){var b=this.session,k=this.getSelectionRange();if(!(k.isEmpty()||k.isMultiLine())){var T=k.start.column,M=k.end.column,R=b.getLine(k.start.row),I=R.substring(T,M);if(!(I.length>5e3||!/[\w\d]/.test(I))){var D=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:I}),O=R.substring(T-1,M+1);if(D.test(O))return D}}},w.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},w.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},w.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},w.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},w.prototype.onChangeMode=function(b){this.renderer.updateText(),this._emit("changeMode",b)},w.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},w.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},w.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},w.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},w.prototype.getCopyText=function(){var b=this.getSelectedText(),k=this.session.doc.getNewLineCharacter(),T=!1;if(!b&&this.$copyWithEmptySelection){T=!0;for(var M=this.selection.getAllRanges(),R=0;R<M.length;R++){var I=M[R];R&&M[R-1].start.row==I.start.row||(b+=this.session.getLine(I.start.row)+k)}}var D={text:b};return this._signal("copy",D),$.lineMode=T?D.text:!1,D.text},w.prototype.onCopy=function(){this.commands.exec("copy",this)},w.prototype.onCut=function(){this.commands.exec("cut",this)},w.prototype.onPaste=function(b,k){var T={text:b,event:k};this.commands.exec("paste",this,T)},w.prototype.$handlePaste=function(b){typeof b=="string"&&(b={text:b}),this._signal("paste",b);var k=b.text,T=k===$.lineMode,M=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)T?M.insert({row:this.selection.lead.row,column:0},k):this.insert(k);else if(T)this.selection.rangeList.ranges.forEach(function(P){M.insert({row:P.start.row,column:0},k)});else{var R=k.split(/\r\n|\r|\n/),I=this.selection.rangeList.ranges,D=R.length==2&&(!R[0]||!R[1]);if(R.length!=I.length||D)return this.commands.exec("insertstring",this,k);for(var O=I.length;O--;){var N=I[O];N.isEmpty()||M.remove(N),M.insert(N.start,R[O])}}},w.prototype.execCommand=function(b,k){return this.commands.exec(b,this,k)},w.prototype.insert=function(b,k){var T=this.session,M=T.getMode(),R=this.getCursorPosition();if(this.getBehavioursEnabled()&&!k){var I=M.transformAction(T.getState(R.row),"insertion",this,T,b);I&&(b!==I.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),b=I.text)}if(b=="	"&&(b=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&b.indexOf(`
`)==-1){var D=u.fromPoints(R,R);D.end.column+=b.length,this.session.remove(D)}}else{var D=this.getSelectionRange();R=this.session.remove(D),this.clearSelection()}if(b==`
`||b==`\r
`){var F=T.getLine(R.row);if(R.column>F.search(/\S|$/)){var O=F.substr(R.column).search(/\S|$/);T.doc.removeInLine(R.row,R.column,R.column+O)}}this.clearSelection();var N=R.column,P=T.getState(R.row),F=T.getLine(R.row),z=M.checkOutdent(P,F,b);if(T.insert(R,b),I&&I.selection&&(I.selection.length==2?this.selection.setSelectionRange(new u(R.row,N+I.selection[0],R.row,N+I.selection[1])):this.selection.setSelectionRange(new u(R.row+I.selection[0],I.selection[1],R.row+I.selection[2],I.selection[3]))),this.$enableAutoIndent){if(T.getDocument().isNewLine(b)){var U=M.getNextLineIndent(P,F.slice(0,R.column),T.getTabString());T.insert({row:R.row+1,column:0},U)}z&&M.autoOutdent(P,T,R.row)}},w.prototype.autoIndent=function(){for(var b=this.session,k=b.getMode(),T=this.selection.isEmpty()?[new u(0,0,b.doc.getLength()-1,0)]:this.selection.getAllRanges(),M="",R="",I="",D=b.getTabString(),O=0;O<T.length;O++)for(var N=T[O].start.row,P=T[O].end.row,F=N;F<=P;F++){F>0&&(M=b.getState(F-1),R=b.getLine(F-1),I=k.getNextLineIndent(M,R,D));var z=b.getLine(F),U=k.$getIndent(z);if(I!==U){if(U.length>0){var W=new u(F,0,F,U.length);b.remove(W)}I.length>0&&b.insert({row:F,column:0},I)}k.autoOutdent(M,b,F)}},w.prototype.onTextInput=function(b,k){if(!k)return this.keyBinding.onTextInput(b);this.startOperation({command:{name:"insertstring"}});var T=this.applyComposition.bind(this,b,k);this.selection.rangeCount?this.forEachSelection(T):T(),this.endOperation()},w.prototype.applyComposition=function(b,k){if(k.extendLeft||k.extendRight){var T=this.selection.getRange();T.start.column-=k.extendLeft,T.end.column+=k.extendRight,T.start.column<0&&(T.start.row--,T.start.column+=this.session.getLine(T.start.row).length+1),this.selection.setRange(T),!b&&!T.isEmpty()&&this.remove()}if((b||!this.selection.isEmpty())&&this.insert(b,!0),k.restoreStart||k.restoreEnd){var T=this.selection.getRange();T.start.column-=k.restoreStart,T.end.column-=k.restoreEnd,this.selection.setRange(T)}},w.prototype.onCommandKey=function(b,k,T){return this.keyBinding.onCommandKey(b,k,T)},w.prototype.setOverwrite=function(b){this.session.setOverwrite(b)},w.prototype.getOverwrite=function(){return this.session.getOverwrite()},w.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},w.prototype.setScrollSpeed=function(b){this.setOption("scrollSpeed",b)},w.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},w.prototype.setDragDelay=function(b){this.setOption("dragDelay",b)},w.prototype.getDragDelay=function(){return this.getOption("dragDelay")},w.prototype.setSelectionStyle=function(b){this.setOption("selectionStyle",b)},w.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},w.prototype.setHighlightActiveLine=function(b){this.setOption("highlightActiveLine",b)},w.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},w.prototype.setHighlightGutterLine=function(b){this.setOption("highlightGutterLine",b)},w.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},w.prototype.setHighlightSelectedWord=function(b){this.setOption("highlightSelectedWord",b)},w.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},w.prototype.setAnimatedScroll=function(b){this.renderer.setAnimatedScroll(b)},w.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},w.prototype.setShowInvisibles=function(b){this.renderer.setShowInvisibles(b)},w.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},w.prototype.setDisplayIndentGuides=function(b){this.renderer.setDisplayIndentGuides(b)},w.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},w.prototype.setHighlightIndentGuides=function(b){this.renderer.setHighlightIndentGuides(b)},w.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},w.prototype.setShowPrintMargin=function(b){this.renderer.setShowPrintMargin(b)},w.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},w.prototype.setPrintMarginColumn=function(b){this.renderer.setPrintMarginColumn(b)},w.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},w.prototype.setReadOnly=function(b){this.setOption("readOnly",b)},w.prototype.getReadOnly=function(){return this.getOption("readOnly")},w.prototype.setBehavioursEnabled=function(b){this.setOption("behavioursEnabled",b)},w.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},w.prototype.setWrapBehavioursEnabled=function(b){this.setOption("wrapBehavioursEnabled",b)},w.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},w.prototype.setShowFoldWidgets=function(b){this.setOption("showFoldWidgets",b)},w.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},w.prototype.setFadeFoldWidgets=function(b){this.setOption("fadeFoldWidgets",b)},w.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},w.prototype.remove=function(b){this.selection.isEmpty()&&(b=="left"?this.selection.selectLeft():this.selection.selectRight());var k=this.getSelectionRange();if(this.getBehavioursEnabled()){var T=this.session,M=T.getState(k.start.row),R=T.getMode().transformAction(M,"deletion",this,T,k);if(k.end.column===0){var I=T.getTextRange(k);if(I[I.length-1]==`
`){var D=T.getLine(k.end.row);/^\s+$/.test(D)&&(k.end.column=D.length)}}R&&(k=R)}this.session.remove(k),this.clearSelection()},w.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var b=this.getSelectionRange();b.start.column==b.end.column&&b.start.row==b.end.row&&(b.end.column=0,b.end.row++),this.session.remove(b),this.clearSelection()},w.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var b=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(b)},w.prototype.setGhostText=function(b,k){this.session.widgetManager||(this.session.widgetManager=new S(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(b,k)},w.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},w.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var b=this.getCursorPosition(),k=b.column;if(k!==0){var T=this.session.getLine(b.row),M,R;k<T.length?(M=T.charAt(k)+T.charAt(k-1),R=new u(b.row,k-1,b.row,k+1)):(M=T.charAt(k-1)+T.charAt(k-2),R=new u(b.row,k-2,b.row,k)),this.session.replace(R,M),this.session.selection.moveToPosition(R.end)}}},w.prototype.toLowerCase=function(){var b=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var k=this.getSelectionRange(),T=this.session.getTextRange(k);this.session.replace(k,T.toLowerCase()),this.selection.setSelectionRange(b)},w.prototype.toUpperCase=function(){var b=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var k=this.getSelectionRange(),T=this.session.getTextRange(k);this.session.replace(k,T.toUpperCase()),this.selection.setSelectionRange(b)},w.prototype.indent=function(){var b=this.session,k=this.getSelectionRange();if(k.start.row<k.end.row){var T=this.$getSelectedRows();b.indentRows(T.first,T.last,"	");return}else if(k.start.column<k.end.column){var M=b.getTextRange(k);if(!/^\s+$/.test(M)){var T=this.$getSelectedRows();b.indentRows(T.first,T.last,"	");return}}var R=b.getLine(k.start.row),I=k.start,D=b.getTabSize(),O=b.documentToScreenColumn(I.row,I.column);if(this.session.getUseSoftTabs())var N=D-O%D,P=s.stringRepeat(" ",N);else{for(var N=O%D;R[k.start.column-1]==" "&&N;)k.start.column--,N--;this.selection.setSelectionRange(k),P="	"}return this.insert(P)},w.prototype.blockIndent=function(){var b=this.$getSelectedRows();this.session.indentRows(b.first,b.last,"	")},w.prototype.blockOutdent=function(){var b=this.session.getSelection();this.session.outdentRows(b.getRange())},w.prototype.sortLines=function(){for(var b=this.$getSelectedRows(),k=this.session,T=[],M=b.first;M<=b.last;M++)T.push(k.getLine(M));T.sort(function(D,O){return D.toLowerCase()<O.toLowerCase()?-1:D.toLowerCase()>O.toLowerCase()?1:0});for(var R=new u(0,0,0,0),M=b.first;M<=b.last;M++){var I=k.getLine(M);R.start.row=M,R.end.row=M,R.end.column=I.length,k.replace(R,T[M-b.first])}},w.prototype.toggleCommentLines=function(){var b=this.session.getState(this.getCursorPosition().row),k=this.$getSelectedRows();this.session.getMode().toggleCommentLines(b,this.session,k.first,k.last)},w.prototype.toggleBlockComment=function(){var b=this.getCursorPosition(),k=this.session.getState(b.row),T=this.getSelectionRange();this.session.getMode().toggleBlockComment(k,this.session,T,b)},w.prototype.getNumberAt=function(b,k){var T=/[\-]?[0-9]+(?:\.[0-9]+)?/g;T.lastIndex=0;for(var M=this.session.getLine(b);T.lastIndex<k;){var R=T.exec(M);if(R.index<=k&&R.index+R[0].length>=k){var I={value:R[0],start:R.index,end:R.index+R[0].length};return I}}return null},w.prototype.modifyNumber=function(b){var k=this.selection.getCursor().row,T=this.selection.getCursor().column,M=new u(k,T-1,k,T),R=this.session.getTextRange(M);if(!isNaN(parseFloat(R))&&isFinite(R)){var I=this.getNumberAt(k,T);if(I){var D=I.value.indexOf(".")>=0?I.start+I.value.indexOf(".")+1:I.end,O=I.start+I.value.length-D,N=parseFloat(I.value);N*=Math.pow(10,O),D!==I.end&&T<D?b*=Math.pow(10,I.end-T-1):b*=Math.pow(10,I.end-T),N+=b,N/=Math.pow(10,O);var P=N.toFixed(O),F=new u(k,I.start,k,I.end);this.session.replace(F,P),this.moveCursorTo(k,Math.max(I.start+1,T+P.length-I.value.length))}}else this.toggleWord()},w.prototype.toggleWord=function(){var b=this.selection.getCursor().row,k=this.selection.getCursor().column;this.selection.selectWord();var T=this.getSelectedText(),M=this.selection.getWordRange().start.column,R=T.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),I=k-M-1;I<0&&(I=0);var D=0,O=0,N=this;T.match(/[A-Za-z0-9_]+/)&&R.forEach(function(nt,ot){O=D+nt.length,I>=D&&I<=O&&(T=nt,N.selection.clearSelection(),N.moveCursorTo(b,D+M),N.selection.selectTo(b,O+M)),D=O});for(var P=this.$toggleWordPairs,F,z=0;z<P.length;z++)for(var U=P[z],W=0;W<=1;W++){var q=+!W,X=T.match(new RegExp("^\\s?_?("+s.escapeRegExp(U[W])+")\\s?$","i"));if(X){var Z=T.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(X[1])+")($|\\s)","g"));Z&&(F=T.replace(new RegExp(s.escapeRegExp(U[W]),"i"),function(nt){var ot=U[q];return nt.toUpperCase()==nt?ot=ot.toUpperCase():nt.charAt(0).toUpperCase()==nt.charAt(0)&&(ot=ot.substr(0,0)+U[q].charAt(0).toUpperCase()+ot.substr(1)),ot}),this.insert(F),F="")}}},w.prototype.findLinkAt=function(b,k){var T,M,R=this.session.getLine(b),I=R.split(/((?:https?|ftp):\/\/[\S]+)/),D=k;D<0&&(D=0);var O=0,N=0,P;try{for(var F=p(I),z=F.next();!z.done;z=F.next()){var U=z.value;if(N=O+U.length,D>=O&&D<=N&&U.match(/((?:https?|ftp):\/\/[\S]+)/)){P=U.replace(/[\s:.,'";}\]]+$/,"");break}O=N}}catch(W){T={error:W}}finally{try{z&&!z.done&&(M=F.return)&&M.call(F)}finally{if(T)throw T.error}}return P},w.prototype.openLink=function(){var b=this.selection.getCursor(),k=this.findLinkAt(b.row,b.column);return k&&window.open(k,"_blank"),k!=null},w.prototype.removeLines=function(){var b=this.$getSelectedRows();this.session.removeFullLines(b.first,b.last),this.clearSelection()},w.prototype.duplicateSelection=function(){var b=this.selection,k=this.session,T=b.getRange(),M=b.isBackwards();if(T.isEmpty()){var R=T.start.row;k.duplicateLines(R,R)}else{var I=M?T.start:T.end,D=k.insert(I,k.getTextRange(T));T.start=I,T.end=D,b.setSelectionRange(T,M)}},w.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},w.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},w.prototype.moveText=function(b,k,T){return this.session.moveText(b,k,T)},w.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},w.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},w.prototype.$moveLines=function(b,k){var T,M,R=this.selection;if(!R.inMultiSelectMode||this.inVirtualSelectionMode){var I=R.toOrientedRange();T=this.$getSelectedRows(I),M=this.session.$moveLines(T.first,T.last,k?0:b),k&&b==-1&&(M=0),I.moveBy(M,0),R.fromOrientedRange(I)}else{var D=R.rangeList.ranges;R.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var O=0,N=0,P=D.length,F=0;F<P;F++){var z=F;D[F].moveBy(O,0),T=this.$getSelectedRows(D[F]);for(var U=T.first,W=T.last;++F<P;){N&&D[F].moveBy(N,0);var q=this.$getSelectedRows(D[F]);if(k&&q.first!=W)break;if(!k&&q.first>W+1)break;W=q.last}for(F--,O=this.session.$moveLines(U,W,k?0:b),k&&b==-1&&(z=F+1);z<=F;)D[z].moveBy(O,0),z++;k||(O=0),N+=O}R.fromOrientedRange(R.ranges[0]),R.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},w.prototype.$getSelectedRows=function(b){return b=(b||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(b.start.row),last:this.session.getRowFoldEnd(b.end.row)}},w.prototype.onCompositionStart=function(b){this.renderer.showComposition(b)},w.prototype.onCompositionUpdate=function(b){this.renderer.setCompositionText(b)},w.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},w.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},w.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},w.prototype.isRowVisible=function(b){return b>=this.getFirstVisibleRow()&&b<=this.getLastVisibleRow()},w.prototype.isRowFullyVisible=function(b){return b>=this.renderer.getFirstFullyVisibleRow()&&b<=this.renderer.getLastFullyVisibleRow()},w.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},w.prototype.$moveByPage=function(b,k){var T=this.renderer,M=this.renderer.layerConfig,R=b*Math.floor(M.height/M.lineHeight);k===!0?this.selection.$moveSelection(function(){this.moveCursorBy(R,0)}):k===!1&&(this.selection.moveCursorBy(R,0),this.selection.clearSelection());var I=T.scrollTop;T.scrollBy(0,R*M.lineHeight),k!=null&&T.scrollCursorIntoView(null,.5),T.animateScrolling(I)},w.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},w.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},w.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},w.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},w.prototype.scrollPageDown=function(){this.$moveByPage(1)},w.prototype.scrollPageUp=function(){this.$moveByPage(-1)},w.prototype.scrollToRow=function(b){this.renderer.scrollToRow(b)},w.prototype.scrollToLine=function(b,k,T,M){this.renderer.scrollToLine(b,k,T,M)},w.prototype.centerSelection=function(){var b=this.getSelectionRange(),k={row:Math.floor(b.start.row+(b.end.row-b.start.row)/2),column:Math.floor(b.start.column+(b.end.column-b.start.column)/2)};this.renderer.alignCursor(k,.5)},w.prototype.getCursorPosition=function(){return this.selection.getCursor()},w.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},w.prototype.getSelectionRange=function(){return this.selection.getRange()},w.prototype.selectAll=function(){this.selection.selectAll()},w.prototype.clearSelection=function(){this.selection.clearSelection()},w.prototype.moveCursorTo=function(b,k){this.selection.moveCursorTo(b,k)},w.prototype.moveCursorToPosition=function(b){this.selection.moveCursorToPosition(b)},w.prototype.jumpToMatching=function(b,k){var T=this.getCursorPosition(),M=new A(this.session,T.row,T.column),R=M.getCurrentToken(),I=0;R&&R.type.indexOf("tag-name")!==-1&&(R=M.stepBackward());var D=R||M.stepForward();if(D){var O,N=!1,P={},F=T.column-D.start,z,U={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(D.value.match(/[{}()\[\]]/g)){for(;F<D.value.length&&!N;F++)if(U[D.value[F]])switch(z=U[D.value[F]]+"."+D.type.replace("rparen","lparen"),isNaN(P[z])&&(P[z]=0),D.value[F]){case"(":case"[":case"{":P[z]++;break;case")":case"]":case"}":P[z]--,P[z]===-1&&(O="bracket",N=!0);break}}else D.type.indexOf("tag-name")!==-1&&(isNaN(P[D.value])&&(P[D.value]=0),R.value==="<"&&I>1?P[D.value]++:R.value==="</"&&P[D.value]--,P[D.value]===-1&&(O="tag",N=!0));N||(R=D,I++,D=M.stepForward(),F=0)}while(D&&!N);if(O){var W,q;if(O==="bracket")W=this.session.getBracketRange(T),W||(W=new u(M.getCurrentTokenRow(),M.getCurrentTokenColumn()+F-1,M.getCurrentTokenRow(),M.getCurrentTokenColumn()+F-1),q=W.start,(k||q.row===T.row&&Math.abs(q.column-T.column)<2)&&(W=this.session.getBracketRange(q)));else if(O==="tag"){if(!D||D.type.indexOf("tag-name")===-1)return;if(W=new u(M.getCurrentTokenRow(),M.getCurrentTokenColumn()-2,M.getCurrentTokenRow(),M.getCurrentTokenColumn()-2),W.compare(T.row,T.column)===0){var X=this.session.getMatchingTags(T);X&&(X.openTag.contains(T.row,T.column)?(W=X.closeTag,q=W.start):(W=X.openTag,X.closeTag.start.row===T.row&&X.closeTag.start.column===T.column?q=W.end:q=W.start))}q=q||W.start}q=W&&W.cursor||q,q&&(b?W&&k?this.selection.setRange(W):W&&W.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(q.row,q.column):this.selection.moveTo(q.row,q.column))}}},w.prototype.gotoLine=function(b,k,T){this.selection.clearSelection(),this.session.unfold({row:b-1,column:k||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(b-1,k||0),this.isRowFullyVisible(b-1)||this.scrollToLine(b-1,!0,T)},w.prototype.navigateTo=function(b,k){this.selection.moveTo(b,k)},w.prototype.navigateUp=function(b){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var k=this.selection.anchor.getPosition();return this.moveCursorToPosition(k)}this.selection.clearSelection(),this.selection.moveCursorBy(-b||-1,0)},w.prototype.navigateDown=function(b){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var k=this.selection.anchor.getPosition();return this.moveCursorToPosition(k)}this.selection.clearSelection(),this.selection.moveCursorBy(b||1,0)},w.prototype.navigateLeft=function(b){if(this.selection.isEmpty())for(b=b||1;b--;)this.selection.moveCursorLeft();else{var k=this.getSelectionRange().start;this.moveCursorToPosition(k)}this.clearSelection()},w.prototype.navigateRight=function(b){if(this.selection.isEmpty())for(b=b||1;b--;)this.selection.moveCursorRight();else{var k=this.getSelectionRange().end;this.moveCursorToPosition(k)}this.clearSelection()},w.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},w.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},w.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},w.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},w.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},w.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},w.prototype.replace=function(b,k){k&&this.$search.set(k);var T=this.$search.find(this.session),M=0;return T&&(this.$tryReplace(T,b)&&(M=1),this.selection.setSelectionRange(T),this.renderer.scrollSelectionIntoView(T.start,T.end)),M},w.prototype.replaceAll=function(b,k){k&&this.$search.set(k);var T=this.$search.findAll(this.session),M=0;if(!T.length)return M;var R=this.getSelectionRange();this.selection.moveTo(0,0);for(var I=T.length-1;I>=0;--I)this.$tryReplace(T[I],b)&&M++;return this.selection.setSelectionRange(R),M},w.prototype.$tryReplace=function(b,k){var T=this.session.getTextRange(b);return k=this.$search.replace(T,k),k!==null?(b.end=this.session.replace(b,k),b):null},w.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},w.prototype.find=function(b,k,T){k||(k={}),typeof b=="string"||b instanceof RegExp?k.needle=b:typeof b=="object"&&m.mixin(k,b);var M=this.selection.getRange();k.needle==null&&(b=this.session.getTextRange(M)||this.$search.$options.needle,b||(M=this.session.getWordRange(M.start.row,M.start.column),b=this.session.getTextRange(M)),this.$search.set({needle:b})),this.$search.set(k),k.start||this.$search.set({start:M});var R=this.$search.find(this.session);if(k.preventScroll)return R;if(R)return this.revealRange(R,T),R;k.backwards?M.start=M.end:M.end=M.start,this.selection.setRange(M)},w.prototype.findNext=function(b,k){this.find({skipCurrent:!0,backwards:!1},b,k)},w.prototype.findPrevious=function(b,k){this.find(b,{skipCurrent:!0,backwards:!0},k)},w.prototype.revealRange=function(b,k){this.session.unfold(b),this.selection.setSelectionRange(b);var T=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(b.start,b.end,.5),k!==!1&&this.renderer.animateScrolling(T)},w.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(b){b.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},w.prototype.setAutoScrollEditorIntoView=function(b){if(b){var k,T=this,M=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var R=this.$scrollAnchor;R.style.cssText="position:absolute",this.container.insertBefore(R,this.container.firstChild);var I=this.on("changeSelection",function(){M=!0}),D=this.renderer.on("beforeRender",function(){M&&(k=T.renderer.container.getBoundingClientRect())}),O=this.renderer.on("afterRender",function(){if(M&&k&&(T.isFocused()||T.searchBox&&T.searchBox.isFocused())){var N=T.renderer,P=N.$cursorLayer.$pixelPos,F=N.layerConfig,z=P.top-F.offset;P.top>=0&&z+k.top<0?M=!0:P.top<F.height&&P.top+k.top+F.lineHeight>window.innerHeight?M=!1:M=null,M!=null&&(R.style.top=z+"px",R.style.left=P.left+"px",R.style.height=F.lineHeight+"px",R.scrollIntoView(M)),M=k=null}});this.setAutoScrollEditorIntoView=function(N){N||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",I),this.renderer.off("afterRender",O),this.renderer.off("beforeRender",D))}}},w.prototype.$resetCursorStyle=function(){var b=this.$cursorStyle||"ace",k=this.renderer.$cursorLayer;k&&(k.setSmoothBlinking(/smooth/.test(b)),k.isBlinking=!this.$readOnly&&b!="wide",h.setCssClass(k.element,"ace_slim-cursors",/slim/.test(b)))},w.prototype.prompt=function(b,k,T){var M=this;x.loadModule("ace/ext/prompt",function(R){R.prompt(M,b,k,T)})},w}();_.$uid=0,_.prototype.curOp=null,_.prototype.prevOp={},_.prototype.$mergeableCommands=["backspace","del","insertstring"],_.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],m.implement(_.prototype,g),x.defineOptions(_.prototype,"editor",{selectionStyle:{set:function(w){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:w})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(w){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(w){this.textInput.setReadOnly(w),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(w){this.textInput.setCopyWithEmptySelection(w)},initialValue:!1},cursorStyle:{set:function(w){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(w){this.setAutoScrollEditorIntoView(w)}},keyboardHandler:{set:function(w){this.setKeyboardHandler(w)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(w){this.session.setValue(w)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(w){this.setSession(w)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(w){this.renderer.$gutterLayer.setShowLineNumbers(w),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),w&&this.$relativeLineNumbers?y.attach(this):y.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(w){this.$showLineNumbers&&w?y.attach(this):y.detach(this)}},placeholder:{set:function(w){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var b=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(b&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),h.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!b&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),h.addCssClass(this.container,"ace_hasPlaceholder");var k=h.createElement("div");k.className="ace_placeholder",k.textContent=this.$placeholder||"",this.renderer.placeholderNode=k,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!b&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(w){var b={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(M){M.blur(),M.renderer.scroller.focus()},readOnly:!0},k=function(M){if(M.target==this.renderer.scroller&&M.keyCode===C.enter){M.preventDefault();var R=this.getCursorPosition().row;this.isRowVisible(R)||this.scrollToLine(R,!0,!0),this.focus()}},T;w?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(c.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",L("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",L("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",k.bind(this)),this.commands.addCommand(b),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",L("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",L("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),T||(T=new f(this)),T.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",k.bind(this)),this.commands.removeCommand(b),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),T&&T.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(w){this.$textInputAriaLabel=w},initialValue:""},enableMobileMenu:{set:function(w){this.$enableMobileMenu=w},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var y={getText:function(w,b){return(Math.abs(w.selection.lead.row-b)||b+1+(b<9?"\xB7":""))+""},getWidth:function(w,b,k){return Math.max(b.toString().length,(k.lastRow+1).toString().length,2)*k.characterWidth},update:function(w,b){b.renderer.$loop.schedule(b.renderer.CHANGE_GUTTER)},attach:function(w){w.renderer.$gutterLayer.$renderer=this,w.on("changeSelection",this.update),this.update(null,w)},detach:function(w){w.renderer.$gutterLayer.$renderer==this&&(w.renderer.$gutterLayer.$renderer=null),w.off("changeSelection",this.update),this.update(null,w)}};t.Editor=_});ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(e,t,d){"use strict";var p=e("../lib/dom"),m=function(){function h(s,c){this.element=s,this.canvasHeight=c||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return h.prototype.moveContainer=function(s){p.translate(this.element,0,-(s.firstRowScreen*s.lineHeight%this.canvasHeight)-s.offset*this.$offsetCoefficient)},h.prototype.pageChanged=function(s,c){return Math.floor(s.firstRowScreen*s.lineHeight/this.canvasHeight)!==Math.floor(c.firstRowScreen*c.lineHeight/this.canvasHeight)},h.prototype.computeLineTop=function(s,c,o){var i=c.firstRowScreen*c.lineHeight,r=Math.floor(i/this.canvasHeight),a=o.documentToScreenRow(s,0)*c.lineHeight;return a-r*this.canvasHeight},h.prototype.computeLineHeight=function(s,c,o){return c.lineHeight*o.getRowLineCount(s)},h.prototype.getLength=function(){return this.cells.length},h.prototype.get=function(s){return this.cells[s]},h.prototype.shift=function(){this.$cacheCell(this.cells.shift())},h.prototype.pop=function(){this.$cacheCell(this.cells.pop())},h.prototype.push=function(s){if(Array.isArray(s)){this.cells.push.apply(this.cells,s);for(var c=p.createFragment(this.element),o=0;o<s.length;o++)c.appendChild(s[o].element);this.element.appendChild(c)}else this.cells.push(s),this.element.appendChild(s.element)},h.prototype.unshift=function(s){if(Array.isArray(s)){this.cells.unshift.apply(this.cells,s);for(var c=p.createFragment(this.element),o=0;o<s.length;o++)c.appendChild(s[o].element);this.element.firstChild?this.element.insertBefore(c,this.element.firstChild):this.element.appendChild(c)}else this.cells.unshift(s),this.element.insertAdjacentElement("afterbegin",s.element)},h.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},h.prototype.$cacheCell=function(s){s&&(s.element.remove(),this.cellCache.push(s))},h.prototype.createCell=function(s,c,o,i){var r=this.cellCache.pop();if(!r){var a=p.createElement("div");i&&i(a),this.element.appendChild(a),r={element:a,text:"",row:s}}return r.row=s,r},h}();t.Lines=m});ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(e,t,d){"use strict";var p=e("../lib/dom"),m=e("../lib/oop"),h=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,c=e("./lines").Lines,o=e("../config").nls,i=function(){function a(n){this.element=p.createElement("div"),this.element.className="ace_layer ace_gutter-layer",n.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new c(this.element),this.$lines.$offsetCoefficient=1}return a.prototype.setSession=function(n){this.session&&this.session.off("change",this.$updateAnnotations),this.session=n,n&&n.on("change",this.$updateAnnotations)},a.prototype.addGutterDecoration=function(n,l){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(n,l)},a.prototype.removeGutterDecoration=function(n,l){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(n,l)},a.prototype.setAnnotations=function(n){this.$annotations=[];for(var l=0;l<n.length;l++){var u=n[l],g=u.row,v=this.$annotations[g];v||(v=this.$annotations[g]={text:[],type:[],displayText:[]});var E=u.text,x=u.text,A=u.type;E=E?h.escapeHTML(E):u.html||"",x=x||u.html||"",v.text.indexOf(E)===-1&&(v.text.push(E),v.type.push(A),v.displayText.push(x));var S=u.className;S?v.className=S:A=="error"?v.className=" ace_error":A=="warning"&&v.className!=" ace_error"?v.className=" ace_warning":A=="info"&&!v.className&&(v.className=" ace_info")}},a.prototype.$updateAnnotations=function(n){if(this.$annotations.length){var l=n.start.row,u=n.end.row-l;if(u!==0)if(n.action=="remove")this.$annotations.splice(l,u+1,null);else{var g=new Array(u+1);g.unshift(l,1),this.$annotations.splice.apply(this.$annotations,g)}}},a.prototype.update=function(n){this.config=n;var l=this.session,u=n.firstRow,g=Math.min(n.lastRow+n.gutterOffset,l.getLength()-1);this.oldLastRow=g,this.config=n,this.$lines.moveContainer(n),this.$updateCursorRow();for(var v=l.getNextFoldLine(u),E=v?v.start.row:1/0,x=null,A=-1,S=u;;){if(S>E&&(S=v.end.row+1,v=l.getNextFoldLine(S,v),E=v?v.start.row:1/0),S>g){for(;this.$lines.getLength()>A+1;)this.$lines.pop();break}x=this.$lines.get(++A),x?x.row=S:(x=this.$lines.createCell(S,n,this.session,r),this.$lines.push(x)),this.$renderCell(x,n,v,S),S++}this._signal("afterRender"),this.$updateGutterWidth(n)},a.prototype.$updateGutterWidth=function(n){var l=this.session,u=l.gutterRenderer||this.$renderer,g=l.$firstLineNumber,v=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||l.$useWrapMode)&&(v=l.getLength()+g-1);var E=u?u.getWidth(l,v,n):v.toString().length*n.characterWidth,x=this.$padding||this.$computePadding();E+=x.left+x.right,E!==this.gutterWidth&&!isNaN(E)&&(this.gutterWidth=E,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",E))},a.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var n=this.session.selection.getCursor();this.$cursorRow!==n.row&&(this.$cursorRow=n.row)}},a.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var n=this.session.selection.cursor.row;if(this.$cursorRow=n,!(this.$cursorCell&&this.$cursorCell.row==n)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var l=this.$lines.cells;this.$cursorCell=null;for(var u=0;u<l.length;u++){var g=l[u];if(g.row>=this.$cursorRow){if(g.row>this.$cursorRow){var v=this.session.getFoldLine(this.$cursorRow);if(u>0&&v&&v.start.row==l[u-1].row)g=l[u-1];else break}g.element.className="ace_gutter-active-line "+g.element.className,this.$cursorCell=g;break}}}}},a.prototype.scrollLines=function(n){var l=this.config;if(this.config=n,this.$updateCursorRow(),this.$lines.pageChanged(l,n))return this.update(n);this.$lines.moveContainer(n);var u=Math.min(n.lastRow+n.gutterOffset,this.session.getLength()-1),g=this.oldLastRow;if(this.oldLastRow=u,!l||g<n.firstRow)return this.update(n);if(u<l.firstRow)return this.update(n);if(l.firstRow<n.firstRow)for(var v=this.session.getFoldedRowCount(l.firstRow,n.firstRow-1);v>0;v--)this.$lines.shift();if(g>u)for(var v=this.session.getFoldedRowCount(u+1,g);v>0;v--)this.$lines.pop();n.firstRow<l.firstRow&&this.$lines.unshift(this.$renderLines(n,n.firstRow,l.firstRow-1)),u>g&&this.$lines.push(this.$renderLines(n,g+1,u)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(n)},a.prototype.$renderLines=function(n,l,u){for(var g=[],v=l,E=this.session.getNextFoldLine(v),x=E?E.start.row:1/0;v>x&&(v=E.end.row+1,E=this.session.getNextFoldLine(v,E),x=E?E.start.row:1/0),!(v>u);){var A=this.$lines.createCell(v,n,this.session,r);this.$renderCell(A,n,E,v),g.push(A),v++}return g},a.prototype.$renderCell=function(n,l,u,g){var v=n.element,E=this.session,x=v.childNodes[0],A=v.childNodes[1],S=v.childNodes[2],f=S.firstChild,L=E.$firstLineNumber,$=E.$breakpoints,C=E.$decorations,_=E.gutterRenderer||this.$renderer,y=this.$showFoldWidgets&&E.foldWidgets,w=u?u.start.row:Number.MAX_VALUE,b=l.lineHeight+"px",k=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",T=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",M=(_?_.getText(E,g):g+L).toString();if(this.$highlightGutterLine&&(g==this.$cursorRow||u&&g<this.$cursorRow&&g>=w&&this.$cursorRow<=u.end.row)&&(k+="ace_gutter-active-line ",this.$cursorCell!=n&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=n)),$[g]&&(k+=$[g]),C[g]&&(k+=C[g]),this.$annotations[g]&&g!==w&&(k+=this.$annotations[g].className),y){var R=y[g];R==null&&(R=y[g]=E.getFoldWidget(g))}if(R){var I="ace_fold-widget ace_"+R,D=R=="start"&&g==w&&g<u.end.row;if(D){I+=" ace_closed";for(var O="",N=!1,P=g+1;P<=u.end.row;P++)if(this.$annotations[P]){if(this.$annotations[P].className===" ace_error"){N=!0,O=" ace_error_fold";break}if(this.$annotations[P].className===" ace_warning"){N=!0,O=" ace_warning_fold";continue}}k+=O}else I+=" ace_open";A.className!=I&&(A.className=I),p.setStyle(A.style,"height",b),p.setStyle(A.style,"display","inline-block"),A.setAttribute("role","button"),A.setAttribute("tabindex","-1");var F=E.getFoldWidgetRange(g);F?A.setAttribute("aria-label",o("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[F.start.row+1,F.end.row+1])):u?A.setAttribute("aria-label",o("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[u.start.row+1,u.end.row+1])):A.setAttribute("aria-label",o("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[g+1])),D?(A.setAttribute("aria-expanded","false"),A.setAttribute("title",o("gutter.code-folding.closed.title","Unfold code"))):(A.setAttribute("aria-expanded","true"),A.setAttribute("title",o("gutter.code-folding.open.title","Fold code")))}else A&&(p.setStyle(A.style,"display","none"),A.setAttribute("tabindex","0"),A.removeAttribute("role"),A.removeAttribute("aria-label"));if(N&&this.$showFoldedAnnotations){S.className="ace_gutter_annotation",f.className=T,f.className+=O,p.setStyle(f.style,"height",b),p.setStyle(S.style,"display","block"),p.setStyle(S.style,"height",b);var z;switch(O){case" ace_error_fold":z=o("gutter.annotation.aria-label.error","Read annotations row $0",[M]);break;case" ace_warning_fold":z=o("gutter.annotation.aria-label.warning","Read annotations row $0",[M]);break}S.setAttribute("aria-label",z),S.setAttribute("tabindex","-1"),S.setAttribute("role","button")}else if(this.$annotations[g]){S.className="ace_gutter_annotation",f.className=T,this.$useSvgGutterIcons?f.className+=this.$annotations[g].className:v.classList.add(this.$annotations[g].className.replace(" ","")),p.setStyle(f.style,"height",b),p.setStyle(S.style,"display","block"),p.setStyle(S.style,"height",b);var z;switch(this.$annotations[g].className){case" ace_error":z=o("gutter.annotation.aria-label.error","Read annotations row $0",[M]);break;case" ace_warning":z=o("gutter.annotation.aria-label.warning","Read annotations row $0",[M]);break;case" ace_info":z=o("gutter.annotation.aria-label.info","Read annotations row $0",[M]);break}S.setAttribute("aria-label",z),S.setAttribute("tabindex","-1"),S.setAttribute("role","button")}else p.setStyle(S.style,"display","none"),S.removeAttribute("aria-label"),S.removeAttribute("role"),S.setAttribute("tabindex","0");return M!==x.data&&(x.data=M),v.className!=k&&(v.className=k),p.setStyle(n.element.style,"height",this.$lines.computeLineHeight(g,l,E)+"px"),p.setStyle(n.element.style,"top",this.$lines.computeLineTop(g,l,E)+"px"),n.text=M,S.style.display==="none"&&A.style.display==="none"?n.element.setAttribute("aria-hidden",!0):n.element.setAttribute("aria-hidden",!1),n},a.prototype.setHighlightGutterLine=function(n){this.$highlightGutterLine=n},a.prototype.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return 0},getText:function(){return""}}},a.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},a.prototype.setShowFoldWidgets=function(n){n?p.addCssClass(this.element,"ace_folding-enabled"):p.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=n,this.$padding=null},a.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},a.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=p.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(n.borderLeftWidth)||0)+(parseInt(n.paddingLeft)||0)+1,this.$padding.right=(parseInt(n.borderRightWidth)||0)+(parseInt(n.paddingRight)||0),this.$padding},a.prototype.getRegion=function(n){var l=this.$padding||this.$computePadding(),u=this.element.getBoundingClientRect();if(n.x<l.left+u.left)return"markers";if(this.$showFoldWidgets&&n.x>u.right-l.right)return"foldWidgets"},a}();i.prototype.$fixedWidth=!1,i.prototype.$highlightGutterLine=!0,i.prototype.$renderer="",i.prototype.$showLineNumbers=!0,i.prototype.$showFoldWidgets=!0,m.implement(i.prototype,s);function r(a){var n=document.createTextNode("");a.appendChild(n);var l=p.createElement("span");a.appendChild(l);var u=p.createElement("span");a.appendChild(u);var g=p.createElement("span");return u.appendChild(g),a}t.Gutter=i});ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,d){"use strict";var p=e("../range").Range,m=e("../lib/dom"),h=function(){function c(o){this.element=m.createElement("div"),this.element.className="ace_layer ace_marker-layer",o.appendChild(this.element)}return c.prototype.setPadding=function(o){this.$padding=o},c.prototype.setSession=function(o){this.session=o},c.prototype.setMarkers=function(o){this.markers=o},c.prototype.elt=function(o,i){var r=this.i!=-1&&this.element.childNodes[this.i];r?this.i++:(r=document.createElement("div"),this.element.appendChild(r),this.i=-1),r.style.cssText=i,r.className=o},c.prototype.update=function(o){if(o){this.config=o,this.i=0;var i;for(var r in this.markers){var a=this.markers[r];if(!a.range){a.update(i,this,this.session,o);continue}var n=a.range.clipRows(o.firstRow,o.lastRow);if(!n.isEmpty())if(n=n.toScreenRange(this.session),a.renderer){var l=this.$getTop(n.start.row,o),u=this.$padding+n.start.column*o.characterWidth;a.renderer(i,n,u,l,o)}else a.type=="fullLine"?this.drawFullLineMarker(i,n,a.clazz,o):a.type=="screenLine"?this.drawScreenLineMarker(i,n,a.clazz,o):n.isMultiLine()?a.type=="text"?this.drawTextMarker(i,n,a.clazz,o):this.drawMultiLineMarker(i,n,a.clazz,o):this.drawSingleLineMarker(i,n,a.clazz+" ace_start ace_br15",o)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},c.prototype.$getTop=function(o,i){return(o-i.firstRowScreen)*i.lineHeight},c.prototype.drawTextMarker=function(o,i,r,a,n){for(var l=this.session,u=i.start.row,g=i.end.row,v=u,E=0,x=0,A=l.getScreenLastRowColumn(v),S=new p(v,i.start.column,v,x);v<=g;v++)S.start.row=S.end.row=v,S.start.column=v==u?i.start.column:l.getRowWrapIndent(v),S.end.column=A,E=x,x=A,A=v+1<g?l.getScreenLastRowColumn(v+1):v==g?0:i.end.column,this.drawSingleLineMarker(o,S,r+(v==u?" ace_start":"")+" ace_br"+s(v==u||v==u+1&&i.start.column,E<x,x>A,v==g),a,v==g?0:1,n)},c.prototype.drawMultiLineMarker=function(o,i,r,a,n){var l=this.$padding,u=a.lineHeight,g=this.$getTop(i.start.row,a),v=l+i.start.column*a.characterWidth;if(n=n||"",this.session.$bidiHandler.isBidiRow(i.start.row)){var E=i.clone();E.end.row=E.start.row,E.end.column=this.session.getLine(E.start.row).length,this.drawBidiSingleLineMarker(o,E,r+" ace_br1 ace_start",a,null,n)}else this.elt(r+" ace_br1 ace_start","height:"+u+"px;right:0;top:"+g+"px;left:"+v+"px;"+(n||""));if(this.session.$bidiHandler.isBidiRow(i.end.row)){var E=i.clone();E.start.row=E.end.row,E.start.column=0,this.drawBidiSingleLineMarker(o,E,r+" ace_br12",a,null,n)}else{g=this.$getTop(i.end.row,a);var x=i.end.column*a.characterWidth;this.elt(r+" ace_br12","height:"+u+"px;width:"+x+"px;top:"+g+"px;left:"+l+"px;"+(n||""))}if(u=(i.end.row-i.start.row-1)*a.lineHeight,!(u<=0)){g=this.$getTop(i.start.row+1,a);var A=(i.start.column?1:0)|(i.end.column?0:8);this.elt(r+(A?" ace_br"+A:""),"height:"+u+"px;right:0;top:"+g+"px;left:"+l+"px;"+(n||""))}},c.prototype.drawSingleLineMarker=function(o,i,r,a,n,l){if(this.session.$bidiHandler.isBidiRow(i.start.row))return this.drawBidiSingleLineMarker(o,i,r,a,n,l);var u=a.lineHeight,g=(i.end.column+(n||0)-i.start.column)*a.characterWidth,v=this.$getTop(i.start.row,a),E=this.$padding+i.start.column*a.characterWidth;this.elt(r,"height:"+u+"px;width:"+g+"px;top:"+v+"px;left:"+E+"px;"+(l||""))},c.prototype.drawBidiSingleLineMarker=function(o,i,r,a,n,l){var u=a.lineHeight,g=this.$getTop(i.start.row,a),v=this.$padding,E=this.session.$bidiHandler.getSelections(i.start.column,i.end.column);E.forEach(function(x){this.elt(r,"height:"+u+"px;width:"+(x.width+(n||0))+"px;top:"+g+"px;left:"+(v+x.left)+"px;"+(l||""))},this)},c.prototype.drawFullLineMarker=function(o,i,r,a,n){var l=this.$getTop(i.start.row,a),u=a.lineHeight;i.start.row!=i.end.row&&(u+=this.$getTop(i.end.row,a)-l),this.elt(r,"height:"+u+"px;top:"+l+"px;left:0;right:0;"+(n||""))},c.prototype.drawScreenLineMarker=function(o,i,r,a,n){var l=this.$getTop(i.start.row,a),u=a.lineHeight;this.elt(r,"height:"+u+"px;top:"+l+"px;left:0;right:0;"+(n||""))},c}();h.prototype.$padding=0;function s(c,o,i,r){return(c?1:0)|(o?2:0)|(i?4:0)|(r?8:0)}t.Marker=h});ace.define("ace/layer/text_util",["require","exports","module"],function(e,t,d){var p=new Set(["text","rparen","lparen"]);t.isTextToken=function(m){return p.has(m)}});ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(e,t,d){"use strict";var p=e("../lib/oop"),m=e("../lib/dom"),h=e("../lib/lang"),s=e("./lines").Lines,c=e("../lib/event_emitter").EventEmitter,o=e("../config").nls,i=e("./text_util").isTextToken,r=function(){function a(n){this.dom=m,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",n.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return a.prototype.$updateEolChar=function(){var n=this.session.doc,l=n.getNewLineCharacter()==`
`&&n.getNewLineMode()!="windows",u=l?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=u)return this.EOL_CHAR=u,!0},a.prototype.setPadding=function(n){this.$padding=n,this.element.style.margin="0 "+n+"px"},a.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},a.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},a.prototype.$setFontMetrics=function(n){this.$fontMetrics=n,this.$fontMetrics.on("changeCharacterSize",function(l){this._signal("changeCharacterSize",l)}.bind(this)),this.$pollSizeChanges()},a.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},a.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},a.prototype.setSession=function(n){this.session=n,n&&this.$computeTabString()},a.prototype.setShowInvisibles=function(n){return this.showInvisibles==n?!1:(this.showInvisibles=n,typeof n=="string"?(this.showSpaces=/tab/i.test(n),this.showTabs=/space/i.test(n),this.showEOL=/eol/i.test(n)):this.showSpaces=this.showTabs=this.showEOL=n,this.$computeTabString(),!0)},a.prototype.setDisplayIndentGuides=function(n){return this.displayIndentGuides==n?!1:(this.displayIndentGuides=n,this.$computeTabString(),!0)},a.prototype.setHighlightIndentGuides=function(n){return this.$highlightIndentGuides===n?!1:(this.$highlightIndentGuides=n,n)},a.prototype.$computeTabString=function(){var n=this.session.getTabSize();this.tabSize=n;for(var l=this.$tabStrings=[0],u=1;u<n+1;u++)if(this.showTabs){var g=this.dom.createElement("span");g.className="ace_invisible ace_invisible_tab",g.textContent=h.stringRepeat(this.TAB_CHAR,u),l.push(g)}else l.push(this.dom.createTextNode(h.stringRepeat(" ",u),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var v="ace_indent-guide",E=this.showSpaces?" ace_invisible ace_invisible_space":"",x=this.showSpaces?h.stringRepeat(this.SPACE_CHAR,this.tabSize):h.stringRepeat(" ",this.tabSize),A=this.showTabs?" ace_invisible ace_invisible_tab":"",S=this.showTabs?h.stringRepeat(this.TAB_CHAR,this.tabSize):x,g=this.dom.createElement("span");g.className=v+E,g.textContent=x,this.$tabStrings[" "]=g;var g=this.dom.createElement("span");g.className=v+A,g.textContent=S,this.$tabStrings["	"]=g}},a.prototype.updateLines=function(n,l,u){if(this.config.lastRow!=n.lastRow||this.config.firstRow!=n.firstRow)return this.update(n);this.config=n;for(var g=Math.max(l,n.firstRow),v=Math.min(u,n.lastRow),E=this.element.childNodes,x=0,S=n.firstRow;S<g;S++){var f=this.session.getFoldLine(S);if(f)if(f.containsRow(g)){g=f.start.row;break}else S=f.end.row;x++}for(var A=!1,S=g,f=this.session.getNextFoldLine(S),L=f?f.start.row:1/0;S>L&&(S=f.end.row+1,f=this.session.getNextFoldLine(S,f),L=f?f.start.row:1/0),!(S>v);){var $=E[x++];if($){this.dom.removeChildren($),this.$renderLine($,S,S==L?f:!1),A&&($.style.top=this.$lines.computeLineTop(S,n,this.session)+"px");var C=n.lineHeight*this.session.getRowLength(S)+"px";$.style.height!=C&&(A=!0,$.style.height=C)}S++}if(A)for(;x<this.$lines.cells.length;){var _=this.$lines.cells[x++];_.element.style.top=this.$lines.computeLineTop(_.row,n,this.session)+"px"}},a.prototype.scrollLines=function(n){var l=this.config;if(this.config=n,this.$lines.pageChanged(l,n))return this.update(n);this.$lines.moveContainer(n);var u=n.lastRow,g=l?l.lastRow:-1;if(!l||g<n.firstRow)return this.update(n);if(u<l.firstRow)return this.update(n);if(!l||l.lastRow<n.firstRow)return this.update(n);if(n.lastRow<l.firstRow)return this.update(n);if(l.firstRow<n.firstRow)for(var v=this.session.getFoldedRowCount(l.firstRow,n.firstRow-1);v>0;v--)this.$lines.shift();if(l.lastRow>n.lastRow)for(var v=this.session.getFoldedRowCount(n.lastRow+1,l.lastRow);v>0;v--)this.$lines.pop();n.firstRow<l.firstRow&&this.$lines.unshift(this.$renderLinesFragment(n,n.firstRow,l.firstRow-1)),n.lastRow>l.lastRow&&this.$lines.push(this.$renderLinesFragment(n,l.lastRow+1,n.lastRow)),this.$highlightIndentGuide()},a.prototype.$renderLinesFragment=function(n,l,u){for(var g=[],v=l,E=this.session.getNextFoldLine(v),x=E?E.start.row:1/0;v>x&&(v=E.end.row+1,E=this.session.getNextFoldLine(v,E),x=E?E.start.row:1/0),!(v>u);){var A=this.$lines.createCell(v,n,this.session),S=A.element;this.dom.removeChildren(S),m.setStyle(S.style,"height",this.$lines.computeLineHeight(v,n,this.session)+"px"),m.setStyle(S.style,"top",this.$lines.computeLineTop(v,n,this.session)+"px"),this.$renderLine(S,v,v==x?E:!1),this.$useLineGroups()?S.className="ace_line_group":S.className="ace_line",g.push(A),v++}return g},a.prototype.update=function(n){this.$lines.moveContainer(n),this.config=n;for(var l=n.firstRow,u=n.lastRow,g=this.$lines;g.getLength();)g.pop();g.push(this.$renderLinesFragment(n,l,u))},a.prototype.$renderToken=function(n,l,u,g){for(var v=this,E=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,x=this.dom.createFragment(this.element),A,S=0;A=E.exec(g);){var f=A[1],L=A[2],$=A[3],C=A[4],_=A[5];if(!(!v.showSpaces&&L)){var y=S!=A.index?g.slice(S,A.index):"";if(S=A.index+A[0].length,y&&x.appendChild(this.dom.createTextNode(y,this.element)),f){var w=v.session.getScreenTabSize(l+A.index);x.appendChild(v.$tabStrings[w].cloneNode(!0)),l+=w-1}else if(L)if(v.showSpaces){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_space",b.textContent=h.stringRepeat(v.SPACE_CHAR,L.length),x.appendChild(b)}else x.appendChild(this.dom.createTextNode(L,this.element));else if($){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_space ace_invalid",b.textContent=h.stringRepeat(v.SPACE_CHAR,$.length),x.appendChild(b)}else if(C){l+=1;var b=this.dom.createElement("span");b.style.width=v.config.characterWidth*2+"px",b.className=v.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=v.showSpaces?v.SPACE_CHAR:C,x.appendChild(b)}else if(_){l+=1;var b=this.dom.createElement("span");b.style.width=v.config.characterWidth*2+"px",b.className="ace_cjk",b.textContent=_,x.appendChild(b)}}}if(x.appendChild(this.dom.createTextNode(S?g.slice(S):g,this.element)),i(u.type))n.appendChild(x);else{var k="ace_"+u.type.replace(/\./g," ace_"),b=this.dom.createElement("span");u.type=="fold"&&(b.style.width=u.value.length*this.config.characterWidth+"px",b.setAttribute("title",o("inline-fold.closed.title","Unfold code"))),b.className=k,b.appendChild(x),n.appendChild(b)}return l+g.length},a.prototype.renderIndentGuide=function(n,l,u){var g=l.search(this.$indentGuideRe);if(g<=0||g>=u)return l;if(l[0]==" "){g-=g%this.tabSize;for(var v=g/this.tabSize,E=0;E<v;E++)n.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),l.substr(g)}else if(l[0]=="	"){for(var E=0;E<g;E++)n.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),l.substr(g)}return this.$highlightIndentGuide(),l},a.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var n=this.session.doc.$lines;if(n){var l=this.session.selection.getCursor(),u=/^\s*/.exec(this.session.doc.getLine(l.row))[0].length,g=Math.floor(u/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:g,start:l.row};var v=this.session.$bracketHighlight;if(v){for(var E=this.session.$bracketHighlight.ranges,x=0;x<E.length;x++)if(l.row!==E[x].start.row){this.$highlightIndentGuideMarker.end=E[x].start.row,l.row>E[x].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&n[l.row]!==""&&l.column===n[l.row].length){this.$highlightIndentGuideMarker.dir=1;for(var x=l.row+1;x<n.length;x++){var A=n[x],S=/^\s*/.exec(A)[0].length;if(A!==""&&(this.$highlightIndentGuideMarker.end=x,S<=u))break}}this.$renderHighlightIndentGuide()}}},a.prototype.$clearActiveIndentGuide=function(){for(var n=this.$lines.cells,l=0;l<n.length;l++){var u=n[l],g=u.element.childNodes;if(g.length>0){for(var v=0;v<g.length;v++)if(g[v].classList&&g[v].classList.contains("ace_indent-guide-active")){g[v].classList.remove("ace_indent-guide-active");break}}}},a.prototype.$setIndentGuideActive=function(n,l){var u=this.session.doc.getLine(n.row);if(u!==""){var g=n.element.childNodes;if(g){var v=g[l-1];v&&v.classList&&v.classList.contains("ace_indent-guide")&&v.classList.add("ace_indent-guide-active")}}},a.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var n=this.$lines.cells;this.$clearActiveIndentGuide();var l=this.$highlightIndentGuideMarker.indentLevel;if(l!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var u=0;u<n.length;u++){var g=n[u];if(this.$highlightIndentGuideMarker.end&&g.row>=this.$highlightIndentGuideMarker.start+1){if(g.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(g,l)}}else for(var u=n.length-1;u>=0;u--){var g=n[u];if(this.$highlightIndentGuideMarker.end&&g.row<this.$highlightIndentGuideMarker.start){if(g.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(g,l)}}}},a.prototype.$createLineElement=function(n){var l=this.dom.createElement("div");return l.className="ace_line",l.style.height=this.config.lineHeight+"px",l},a.prototype.$renderWrappedLine=function(n,l,u){var g=0,v=0,E=u[0],x=0,A=this.$createLineElement();n.appendChild(A);for(var S=0;S<l.length;S++){var f=l[S],L=f.value;if(S==0&&this.displayIndentGuides){if(g=L.length,L=this.renderIndentGuide(A,L,E),!L)continue;g-=L.length}if(g+L.length<E)x=this.$renderToken(A,x,f,L),g+=L.length;else{for(;g+L.length>=E;)x=this.$renderToken(A,x,f,L.substring(0,E-g)),L=L.substring(E-g),g=E,A=this.$createLineElement(),n.appendChild(A),A.appendChild(this.dom.createTextNode(h.stringRepeat("\xA0",u.indent),this.element)),v++,x=0,E=u[v]||Number.MAX_VALUE;L.length!=0&&(g+=L.length,x=this.$renderToken(A,x,f,L))}}u[u.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(A,x,null,"",!0)},a.prototype.$renderSimpleLine=function(n,l){for(var u=0,g=0;g<l.length;g++){var v=l[g],E=v.value;if(!(g==0&&this.displayIndentGuides&&(E=this.renderIndentGuide(n,E),!E))){if(u+E.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(n,u,v,E);u=this.$renderToken(n,u,v,E)}}},a.prototype.$renderOverflowMessage=function(n,l,u,g,v){u&&this.$renderToken(n,l,u,g.slice(0,this.MAX_LINE_LENGTH-l));var E=this.dom.createElement("span");E.className="ace_inline_button ace_keyword ace_toggle_wrap",E.textContent=v?"<hide>":"<click to see more...>",n.appendChild(E)},a.prototype.$renderLine=function(n,l,u){if(!u&&u!=!1&&(u=this.session.getFoldLine(l)),u)var g=this.$getFoldLineTokens(l,u);else var g=this.session.getTokens(l);var v=n;if(g.length){var E=this.session.getRowSplitData(l);if(E&&E.length){this.$renderWrappedLine(n,g,E);var v=n.lastChild}else{var v=n;this.$useLineGroups()&&(v=this.$createLineElement(),n.appendChild(v)),this.$renderSimpleLine(v,g)}}else this.$useLineGroups()&&(v=this.$createLineElement(),n.appendChild(v));if(this.showEOL&&v){u&&(l=u.end.row);var x=this.dom.createElement("span");x.className="ace_invisible ace_invisible_eol",x.textContent=l==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,v.appendChild(x)}},a.prototype.$getFoldLineTokens=function(n,l){var u=this.session,g=[];function v(x,A,S){for(var f=0,L=0;L+x[f].value.length<A;)if(L+=x[f].value.length,f++,f==x.length)return;if(L!=A){var $=x[f].value.substring(A-L);$.length>S-A&&($=$.substring(0,S-A)),g.push({type:x[f].type,value:$}),L=A+$.length,f+=1}for(;L<S&&f<x.length;){var $=x[f].value;$.length+L>S?g.push({type:x[f].type,value:$.substring(0,S-L)}):g.push(x[f]),L+=$.length,f+=1}}var E=u.getTokens(n);return l.walk(function(x,A,S,f,L){x!=null?g.push({type:"fold",value:x}):(L&&(E=u.getTokens(A)),E.length&&v(E,f,S))},l.end.row,this.session.getLine(l.end.row).length),g},a.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},a}();r.prototype.EOF_CHAR="\xB6",r.prototype.EOL_CHAR_LF="\xAC",r.prototype.EOL_CHAR_CRLF="\xA4",r.prototype.EOL_CHAR=r.prototype.EOL_CHAR_LF,r.prototype.TAB_CHAR="\u2014",r.prototype.SPACE_CHAR="\xB7",r.prototype.$padding=0,r.prototype.MAX_LINE_LENGTH=1e4,r.prototype.showInvisibles=!1,r.prototype.showSpaces=!1,r.prototype.showTabs=!1,r.prototype.showEOL=!1,r.prototype.displayIndentGuides=!0,r.prototype.$highlightIndentGuides=!0,r.prototype.$tabStrings=[],r.prototype.destroy={},r.prototype.onChangeTabSize=r.prototype.$computeTabString,p.implement(r.prototype,c),t.Text=r});ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,d){"use strict";var p=e("../lib/dom"),m=function(){function h(s){this.element=p.createElement("div"),this.element.className="ace_layer ace_cursor-layer",s.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),p.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return h.prototype.$updateOpacity=function(s){for(var c=this.cursors,o=c.length;o--;)p.setStyle(c[o].style,"opacity",s?"":"0")},h.prototype.$startCssAnimation=function(){for(var s=this.cursors,c=s.length;c--;)s[c].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&p.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},h.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,p.removeCssClass(this.element,"ace_animate-blinking")},h.prototype.setPadding=function(s){this.$padding=s},h.prototype.setSession=function(s){this.session=s},h.prototype.setBlinking=function(s){s!=this.isBlinking&&(this.isBlinking=s,this.restartTimer())},h.prototype.setBlinkInterval=function(s){s!=this.blinkInterval&&(this.blinkInterval=s,this.restartTimer())},h.prototype.setSmoothBlinking=function(s){s!=this.smoothBlinking&&(this.smoothBlinking=s,p.setCssClass(this.element,"ace_smooth-blinking",s),this.$updateCursors(!0),this.restartTimer())},h.prototype.addCursor=function(){var s=p.createElement("div");return s.className="ace_cursor",this.element.appendChild(s),this.cursors.push(s),s},h.prototype.removeCursor=function(){if(this.cursors.length>1){var s=this.cursors.pop();return s.parentNode.removeChild(s),s}},h.prototype.hideCursor=function(){this.isVisible=!1,p.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},h.prototype.showCursor=function(){this.isVisible=!0,p.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},h.prototype.restartTimer=function(){var s=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,p.removeCssClass(this.element,"ace_smooth-blinking")),s(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&p.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),p.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var c=function(){this.timeoutId=setTimeout(function(){s(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){s(!0),c()},this.blinkInterval),c()}},h.prototype.getPixelPosition=function(s,c){if(!this.config||!this.session)return{left:0,top:0};s||(s=this.session.selection.getCursor());var o=this.session.documentToScreenPosition(s),i=this.$padding+(this.session.$bidiHandler.isBidiRow(o.row,s.row)?this.session.$bidiHandler.getPosLeft(o.column):o.column*this.config.characterWidth),r=(o.row-(c?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},h.prototype.isCursorInView=function(s,c){return s.top>=0&&s.top<c.maxHeight},h.prototype.update=function(s){this.config=s;var c=this.session.$selectionMarkers,o=0,i=0;(c===void 0||c.length===0)&&(c=[{cursor:null}]);for(var o=0,r=c.length;o<r;o++){var a=this.getPixelPosition(c[o].cursor,!0);if(!((a.top>s.height+s.offset||a.top<0)&&o>1)){var n=this.cursors[i++]||this.addCursor(),l=n.style;this.drawCursor?this.drawCursor(n,a,s,c[o],this.session):this.isCursorInView(a,s)?(p.setStyle(l,"display","block"),p.translate(n,a.left,a.top),p.setStyle(l,"width",Math.round(s.characterWidth)+"px"),p.setStyle(l,"height",s.lineHeight+"px")):p.setStyle(l,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var u=this.session.getOverwrite();this.$setOverwrite(u),this.$pixelPos=a,this.restartTimer()},h.prototype.$setOverwrite=function(s){s!=this.overwrite&&(this.overwrite=s,s?p.addCssClass(this.element,"ace_overwrite-cursors"):p.removeCssClass(this.element,"ace_overwrite-cursors"))},h.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},h}();m.prototype.$padding=0,m.prototype.drawCursor=null,t.Cursor=m});ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,d){"use strict";var p=this&&this.__extends||function(){var n=function(l,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(g[E]=v[E])},n(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");n(l,u);function g(){this.constructor=l}l.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),m=e("./lib/oop"),h=e("./lib/dom"),s=e("./lib/event"),c=e("./lib/event_emitter").EventEmitter,o=32768,i=function(){function n(l,u){this.element=h.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+u,this.inner=h.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),l.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return n.prototype.setVisible=function(l){this.element.style.display=l?"":"none",this.isVisible=l,this.coeff=1},n}();m.implement(i.prototype,c);var r=function(n){p(l,n);function l(u,g){var v=n.call(this,u,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,g.$scrollbarWidth=v.width=h.scrollbarWidth(u.ownerDocument),v.inner.style.width=v.element.style.width=(v.width||15)+5+"px",v.$minWidth=0,v}return l.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var u=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-u)/(this.coeff-u)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},l.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},l.prototype.setHeight=function(u){this.element.style.height=u+"px"},l.prototype.setScrollHeight=function(u){this.scrollHeight=u,u>o?(this.coeff=o/u,u=o):this.coeff!=1&&(this.coeff=1),this.inner.style.height=u+"px"},l.prototype.setScrollTop=function(u){this.scrollTop!=u&&(this.skipEvent=!0,this.scrollTop=u,this.element.scrollTop=u*this.coeff)},l}(i);r.prototype.setInnerHeight=r.prototype.setScrollHeight;var a=function(n){p(l,n);function l(u,g){var v=n.call(this,u,"-h")||this;return v.scrollLeft=0,v.height=g.$scrollbarWidth,v.inner.style.height=v.element.style.height=(v.height||15)+5+"px",v}return l.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},l.prototype.getHeight=function(){return this.isVisible?this.height:0},l.prototype.setWidth=function(u){this.element.style.width=u+"px"},l.prototype.setInnerWidth=function(u){this.inner.style.width=u+"px"},l.prototype.setScrollWidth=function(u){this.inner.style.width=u+"px"},l.prototype.setScrollLeft=function(u){this.scrollLeft!=u&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=u)},l}(i);t.ScrollBar=r,t.ScrollBarV=r,t.ScrollBarH=a,t.VScrollBar=r,t.HScrollBar=a});ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,d){"use strict";var p=this&&this.__extends||function(){var a=function(n,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(u[v]=g[v])},a(n,l)};return function(n,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");a(n,l);function u(){this.constructor=n}n.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),m=e("./lib/oop"),h=e("./lib/dom"),s=e("./lib/event"),c=e("./lib/event_emitter").EventEmitter;h.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var o=function(){function a(n,l){this.element=h.createElement("div"),this.element.className="ace_sb"+l,this.inner=h.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,n.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return a.prototype.setVisible=function(n){this.element.style.display=n?"":"none",this.isVisible=n,this.coeff=1},a}();m.implement(o.prototype,c);var i=function(a){p(n,a);function n(l,u){var g=a.call(this,l,"-v")||this;return g.scrollTop=0,g.scrollHeight=0,g.parent=l,g.width=g.VScrollWidth,g.renderer=u,g.inner.style.width=g.element.style.width=(g.width||15)+"px",g.$minWidth=0,g}return n.prototype.onMouseDown=function(l,u){if(l==="mousedown"&&!(s.getButton(u)!==0||u.detail===2)){if(u.target===this.inner){var g=this,v=u.clientY,E=function(C){v=C.clientY},x=function(){clearInterval(L)},A=u.clientY,S=this.thumbTop,f=function(){if(v!==void 0){var C=g.scrollTopFromThumbTop(S+v-A);C!==g.scrollTop&&g._emit("scroll",{data:C})}};s.capture(this.inner,E,x);var L=setInterval(f,20);return s.preventDefault(u)}var $=u.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop($)}),s.preventDefault(u)}},n.prototype.getHeight=function(){return this.height},n.prototype.scrollTopFromThumbTop=function(l){var u=l*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return u=u>>0,u<0?u=0:u>this.pageHeight-this.viewHeight&&(u=this.pageHeight-this.viewHeight),u},n.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},n.prototype.setHeight=function(l){this.height=Math.max(0,l),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},n.prototype.setScrollHeight=function(l,u){this.pageHeight===l&&!u||(this.pageHeight=l,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},n.prototype.setScrollTop=function(l){this.scrollTop=l,l<0&&(l=0),this.thumbTop=l*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},n}(o);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var r=function(a){p(n,a);function n(l,u){var g=a.call(this,l,"-h")||this;return g.scrollLeft=0,g.scrollWidth=0,g.height=g.HScrollHeight,g.inner.style.height=g.element.style.height=(g.height||12)+"px",g.renderer=u,g}return n.prototype.onMouseDown=function(l,u){if(l==="mousedown"&&!(s.getButton(u)!==0||u.detail===2)){if(u.target===this.inner){var g=this,v=u.clientX,E=function(C){v=C.clientX},x=function(){clearInterval(L)},A=u.clientX,S=this.thumbLeft,f=function(){if(v!==void 0){var C=g.scrollLeftFromThumbLeft(S+v-A);C!==g.scrollLeft&&g._emit("scroll",{data:C})}};s.capture(this.inner,E,x);var L=setInterval(f,20);return s.preventDefault(u)}var $=u.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft($)}),s.preventDefault(u)}},n.prototype.getHeight=function(){return this.isVisible?this.height:0},n.prototype.scrollLeftFromThumbLeft=function(l){var u=l*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return u=u>>0,u<0?u=0:u>this.pageWidth-this.viewWidth&&(u=this.pageWidth-this.viewWidth),u},n.prototype.setWidth=function(l){this.width=Math.max(0,l),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},n.prototype.setScrollWidth=function(l,u){this.pageWidth===l&&!u||(this.pageWidth=l,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},n.prototype.setScrollLeft=function(l){this.scrollLeft=l,l<0&&(l=0),this.thumbLeft=l*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},n}(o);r.prototype.setInnerWidth=r.prototype.setScrollWidth,t.ScrollBar=i,t.ScrollBarV=i,t.ScrollBarH=r,t.VScrollBar=i,t.HScrollBar=r});ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,d){"use strict";var p=e("./lib/event"),m=function(){function h(s,c){this.onRender=s,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=c||window;var o=this;this._flush=function(i){o.pending=!1;var r=o.changes;if(r&&(p.blockIdle(100),o.changes=0,o.onRender(r)),o.changes){if(o.$recursionLimit--<0)return;o.schedule()}else o.$recursionLimit=2}}return h.prototype.schedule=function(s){this.changes=this.changes|s,this.changes&&!this.pending&&(p.nextFrame(this._flush),this.pending=!0)},h.prototype.clear=function(s){var c=this.changes;return this.changes=0,c},h}();t.RenderLoop=m});ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,d){var p=e("../lib/oop"),m=e("../lib/dom"),h=e("../lib/lang"),s=e("../lib/event"),c=e("../lib/useragent"),o=e("../lib/event_emitter").EventEmitter,i=512,r=typeof ResizeObserver=="function",a=200,n=function(){function l(u){this.el=m.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=m.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=m.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),u.appendChild(this.el),this.$measureNode.textContent=h.stringRepeat("X",i),this.$characterSize={width:0,height:0},r?this.$addObserver():this.checkForSizeChanges()}return l.prototype.$setMeasureNodeStyles=function(u,g){u.width=u.height="auto",u.left=u.top="0px",u.visibility="hidden",u.position="absolute",u.whiteSpace="pre",c.isIE<8?u["font-family"]="inherit":u.font="inherit",u.overflow=g?"hidden":"visible"},l.prototype.checkForSizeChanges=function(u){if(u===void 0&&(u=this.$measureSizes()),u&&(this.$characterSize.width!==u.width||this.$characterSize.height!==u.height)){this.$measureNode.style.fontWeight="bold";var g=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=u,this.charSizes=Object.create(null),this.allowBoldFonts=g&&g.width===u.width&&g.height===u.height,this._emit("changeCharacterSize",{data:u})}},l.prototype.$addObserver=function(){var u=this;this.$observer=new window.ResizeObserver(function(g){u.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},l.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var u=this;return this.$pollSizeChangesTimer=s.onIdle(function g(){u.checkForSizeChanges(),s.onIdle(g,500)},500)},l.prototype.setPolling=function(u){u?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},l.prototype.$measureSizes=function(u){var g={height:(u||this.$measureNode).clientHeight,width:(u||this.$measureNode).clientWidth/i};return g.width===0||g.height===0?null:g},l.prototype.$measureCharWidth=function(u){this.$main.textContent=h.stringRepeat(u,i);var g=this.$main.getBoundingClientRect();return g.width/i},l.prototype.getCharacterWidth=function(u){var g=this.charSizes[u];return g===void 0&&(g=this.charSizes[u]=this.$measureCharWidth(u)/this.$characterSize.width),g},l.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},l.prototype.$getZoom=function(u){return!u||!u.parentElement?1:(Number(window.getComputedStyle(u).zoom)||1)*this.$getZoom(u.parentElement)},l.prototype.$initTransformMeasureNodes=function(){var u=function(g,v){return["div",{style:"position: absolute;top:"+g+"px;left:"+v+"px;"}]};this.els=m.buildDom([u(0,0),u(a,0),u(0,a),u(a,a)],this.el)},l.prototype.transformCoordinates=function(u,g){if(u){var v=this.$getZoom(this.el);u=S(1/v,u)}function E(D,O,N){var P=D[1]*O[0]-D[0]*O[1];return[(-O[1]*N[0]+O[0]*N[1])/P,(+D[1]*N[0]-D[0]*N[1])/P]}function x(D,O){return[D[0]-O[0],D[1]-O[1]]}function A(D,O){return[D[0]+O[0],D[1]+O[1]]}function S(D,O){return[D*O[0],D*O[1]]}this.els||this.$initTransformMeasureNodes();function f(D){var O=D.getBoundingClientRect();return[O.left,O.top]}var L=f(this.els[0]),$=f(this.els[1]),C=f(this.els[2]),_=f(this.els[3]),y=E(x(_,$),x(_,C),x(A($,C),A(_,L))),w=S(1+y[0],x($,L)),b=S(1+y[1],x(C,L));if(g){var k=g,T=y[0]*k[0]/a+y[1]*k[1]/a+1,M=A(S(k[0],w),S(k[1],b));return A(S(1/T/a,M),L)}var R=x(u,L),I=E(x(w,S(y[0],R)),x(b,S(y[1],R)),R);return S(a,I)},l}();n.prototype.$characterSize={width:0,height:0},p.implement(n.prototype,o),t.FontMetrics=n});ace.define("ace/css/editor-css",["require","exports","module"],function(e,t,d){d.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "\u21A9";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`});ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(e,t,d){"use strict";var p=e("../lib/dom"),m=e("../lib/oop"),h=e("../lib/event_emitter").EventEmitter,s=function(){function c(o,i){this.canvas=p.createElement("canvas"),this.renderer=i,this.pixelRatio=1,this.maxHeight=i.layerConfig.maxHeight,this.lineHeight=i.layerConfig.lineHeight,this.canvasHeight=o.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=o.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},o.element.appendChild(this.canvas)}return c.prototype.$updateDecorators=function(o){var i=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(o){this.maxHeight=o.maxHeight,this.lineHeight=o.lineHeight,this.canvasHeight=o.height;var r=(o.lastRow+1)*this.lineHeight;r<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var a=this.canvas.getContext("2d");function n(_,y){return _.priority<y.priority?-1:_.priority>y.priority?1:0}var l=this.renderer.session.$annotations;if(a.clearRect(0,0,this.canvas.width,this.canvas.height),l){var u={info:1,warning:2,error:3};l.forEach(function(_){_.priority=u[_.type]||null}),l=l.sort(n);for(var g=this.renderer.session.$foldData,v=0;v<l.length;v++){var E=l[v].row,x=this.compensateFoldRows(E,g),A=Math.round((E-x)*this.lineHeight*this.heightRatio),S=Math.round((E-x)*this.lineHeight*this.heightRatio),f=Math.round(((E-x)*this.lineHeight+this.lineHeight)*this.heightRatio),L=f-S;if(L<this.minDecorationHeight){var $=(S+f)/2|0;$<this.halfMinDecorationHeight?$=this.halfMinDecorationHeight:$+this.halfMinDecorationHeight>this.canvasHeight&&($=this.canvasHeight-this.halfMinDecorationHeight),S=Math.round($-this.halfMinDecorationHeight),f=Math.round($+this.halfMinDecorationHeight)}a.fillStyle=i[l[v].type]||null,a.fillRect(0,A,this.canvasWidth,f-S)}}var C=this.renderer.session.selection.getCursor();if(C){var x=this.compensateFoldRows(C.row,g),A=Math.round((C.row-x)*this.lineHeight*this.heightRatio);a.fillStyle="rgba(0, 0, 0, 0.5)",a.fillRect(0,A,this.canvasWidth,2)}},c.prototype.compensateFoldRows=function(o,i){var r=0;if(i&&i.length>0)for(var a=0;a<i.length;a++)o>i[a].start.row&&o<i[a].end.row?r+=o-i[a].start.row:o>=i[a].end.row&&(r+=i[a].end.row-i[a].start.row);return r},c}();m.implement(s.prototype,h),t.Decorator=s});ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(e,t,d){"use strict";var p=e("./lib/oop"),m=e("./lib/dom"),h=e("./lib/lang"),s=e("./config"),c=e("./layer/gutter").Gutter,o=e("./layer/marker").Marker,i=e("./layer/text").Text,r=e("./layer/cursor").Cursor,a=e("./scrollbar").HScrollBar,n=e("./scrollbar").VScrollBar,l=e("./scrollbar_custom").HScrollBar,u=e("./scrollbar_custom").VScrollBar,g=e("./renderloop").RenderLoop,v=e("./layer/font_metrics").FontMetrics,E=e("./lib/event_emitter").EventEmitter,x=e("./css/editor-css"),A=e("./layer/decorators").Decorator,S=e("./lib/useragent"),f=e("./layer/text_util").isTextToken;m.importCssString(x,"ace_editor.css",!1);var L=function(){function $(C,_){var y=this;this.container=C||m.createElement("div"),m.addCssClass(this.container,"ace_editor"),m.HI_DPI&&m.addCssClass(this.container,"ace_hidpi"),this.setTheme(_),s.get("useStrictCSP")==null&&s.set("useStrictCSP",!1),this.$gutter=m.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=m.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=m.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new c(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new o(this.content);var w=this.$textLayer=new i(this.content);this.canvas=w.element,this.$markerFront=new o(this.content),this.$cursorLayer=new r(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new n(this.container,this),this.scrollBarH=new a(this.container,this),this.scrollBarV.on("scroll",function(b){y.$scrollAnimation||y.session.setScrollTop(b.data-y.scrollMargin.top)}),this.scrollBarH.on("scroll",function(b){y.$scrollAnimation||y.session.setScrollLeft(b.data-y.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new v(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(b){y.updateCharacterSize(),y.onResize(!0,y.gutterWidth,y.$size.width,y.$size.height),y._signal("changeCharacterSize",b)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!S.isIOS,this.$loop=new g(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return $.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),m.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},$.prototype.setSession=function(C){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=C,C&&this.scrollMargin.top&&C.getScrollTop()<=0&&C.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(C),this.$markerBack.setSession(C),this.$markerFront.setSession(C),this.$gutterLayer.setSession(C),this.$textLayer.setSession(C),C&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},$.prototype.updateLines=function(C,_,y){if(_===void 0&&(_=1/0),this.$changedLines?(this.$changedLines.firstRow>C&&(this.$changedLines.firstRow=C),this.$changedLines.lastRow<_&&(this.$changedLines.lastRow=_)):this.$changedLines={firstRow:C,lastRow:_},this.$changedLines.lastRow<this.layerConfig.firstRow)if(y)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},$.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},$.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},$.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},$.prototype.updateFull=function(C){C?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},$.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},$.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},$.prototype.onResize=function(C,_,y,w){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=C?1:0;var b=this.container;w||(w=b.clientHeight||b.scrollHeight),!w&&this.$maxLines&&this.lineHeight>1&&(!b.style.height||b.style.height=="0px")&&(b.style.height="1px",w=b.clientHeight||b.scrollHeight),y||(y=b.clientWidth||b.scrollWidth);var k=this.$updateCachedSize(C,_,y,w);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!y&&!w)return this.resizing=0;C&&(this.$gutterLayer.$padding=null),C?this.$renderChanges(k|this.$changes,!0):this.$loop.schedule(k|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},$.prototype.$updateCachedSize=function(C,_,y,w){w-=this.$extraHeight||0;var b=0,k=this.$size,T={width:k.width,height:k.height,scrollerHeight:k.scrollerHeight,scrollerWidth:k.scrollerWidth};if(w&&(C||k.height!=w)&&(k.height=w,b|=this.CHANGE_SIZE,k.scrollerHeight=k.height,this.$horizScroll&&(k.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(k.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",b=b|this.CHANGE_SCROLL),y&&(C||k.width!=y)){b|=this.CHANGE_SIZE,k.width=y,_==null&&(_=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=_,m.setStyle(this.scrollBarH.element.style,"left",_+"px"),m.setStyle(this.scroller.style,"left",_+this.margin.left+"px"),k.scrollerWidth=Math.max(0,y-_-this.scrollBarV.getWidth()-this.margin.h),m.setStyle(this.$gutter.style,"left",this.margin.left+"px");var M=this.scrollBarV.getWidth()+"px";m.setStyle(this.scrollBarH.element.style,"right",M),m.setStyle(this.scroller.style,"right",M),m.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(k.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||C)&&(b|=this.CHANGE_FULL)}return k.$dirty=!y||!w,b&&this._signal("resize",T),b},$.prototype.onGutterResize=function(C){var _=this.$showGutter?C:0;_!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,_,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},$.prototype.adjustWrapLimit=function(){var C=this.$size.scrollerWidth-this.$padding*2,_=Math.floor(C/this.characterWidth);return this.session.adjustWrapLimit(_,this.$showPrintMargin&&this.$printMarginColumn)},$.prototype.setAnimatedScroll=function(C){this.setOption("animatedScroll",C)},$.prototype.getAnimatedScroll=function(){return this.$animatedScroll},$.prototype.setShowInvisibles=function(C){this.setOption("showInvisibles",C),this.session.$bidiHandler.setShowInvisibles(C)},$.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},$.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},$.prototype.setDisplayIndentGuides=function(C){this.setOption("displayIndentGuides",C)},$.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},$.prototype.setHighlightIndentGuides=function(C){this.setOption("highlightIndentGuides",C)},$.prototype.setShowPrintMargin=function(C){this.setOption("showPrintMargin",C)},$.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},$.prototype.setPrintMarginColumn=function(C){this.setOption("printMarginColumn",C)},$.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},$.prototype.getShowGutter=function(){return this.getOption("showGutter")},$.prototype.setShowGutter=function(C){return this.setOption("showGutter",C)},$.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},$.prototype.setFadeFoldWidgets=function(C){this.setOption("fadeFoldWidgets",C)},$.prototype.setHighlightGutterLine=function(C){this.setOption("highlightGutterLine",C)},$.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},$.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var C=m.createElement("div");C.className="ace_layer ace_print-margin-layer",this.$printMarginEl=m.createElement("div"),this.$printMarginEl.className="ace_print-margin",C.appendChild(this.$printMarginEl),this.content.insertBefore(C,this.content.firstChild)}var _=this.$printMarginEl.style;_.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",_.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},$.prototype.getContainerElement=function(){return this.container},$.prototype.getMouseEventTarget=function(){return this.scroller},$.prototype.getTextAreaContainer=function(){return this.container},$.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var C=this.textarea.style,_=this.$composition;if(!this.$keepTextAreaAtCursor&&!_){m.translate(this.textarea,-100,0);return}var y=this.$cursorLayer.$pixelPos;if(y){_&&_.markerRange&&(y=this.$cursorLayer.getPixelPosition(_.markerRange.start,!0));var w=this.layerConfig,b=y.top,k=y.left;b-=w.offset;var T=_&&_.useTextareaForIME||S.isMobile?this.lineHeight:1;if(b<0||b>w.height-T){m.translate(this.textarea,0,0);return}var M=1,R=this.$size.height-T;if(!_)b+=this.lineHeight;else if(_.useTextareaForIME){var I=this.textarea.value;M=this.characterWidth*this.session.$getStringScreenWidth(I)[0]}else b+=this.lineHeight+2;k-=this.scrollLeft,k>this.$size.scrollerWidth-M&&(k=this.$size.scrollerWidth-M),k+=this.gutterWidth+this.margin.left,m.setStyle(C,"height",T+"px"),m.setStyle(C,"width",M+"px"),m.translate(this.textarea,Math.min(k,this.$size.scrollerWidth-M),Math.min(b,R))}}},$.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},$.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},$.prototype.getLastFullyVisibleRow=function(){var C=this.layerConfig,_=C.lastRow,y=this.session.documentToScreenRow(_,0)*C.lineHeight;return y-this.session.getScrollTop()>C.height-C.lineHeight?_-1:_},$.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},$.prototype.setPadding=function(C){this.$padding=C,this.$textLayer.setPadding(C),this.$cursorLayer.setPadding(C),this.$markerFront.setPadding(C),this.$markerBack.setPadding(C),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},$.prototype.setScrollMargin=function(C,_,y,w){var b=this.scrollMargin;b.top=C|0,b.bottom=_|0,b.right=w|0,b.left=y|0,b.v=b.top+b.bottom,b.h=b.left+b.right,b.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-b.top),this.updateFull()},$.prototype.setMargin=function(C,_,y,w){var b=this.margin;b.top=C|0,b.bottom=_|0,b.right=w|0,b.left=y|0,b.v=b.top+b.bottom,b.h=b.left+b.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},$.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},$.prototype.setHScrollBarAlwaysVisible=function(C){this.setOption("hScrollBarAlwaysVisible",C)},$.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},$.prototype.setVScrollBarAlwaysVisible=function(C){this.setOption("vScrollBarAlwaysVisible",C)},$.prototype.$updateScrollBarV=function(){var C=this.layerConfig.maxHeight,_=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(C-=(_-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>C-_&&(C=this.scrollTop+_,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(C+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},$.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},$.prototype.freeze=function(){this.$frozen=!0},$.prototype.unfreeze=function(){this.$frozen=!1},$.prototype.$renderChanges=function(C,_){if(this.$changes&&(C|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!C&&!_){this.$changes|=C;return}if(this.$size.$dirty)return this.$changes|=C,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",C),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var y=this.layerConfig;if(C&this.CHANGE_FULL||C&this.CHANGE_SIZE||C&this.CHANGE_TEXT||C&this.CHANGE_LINES||C&this.CHANGE_SCROLL||C&this.CHANGE_H_SCROLL){if(C|=this.$computeLayerConfig()|this.$loop.clear(),y.firstRow!=this.layerConfig.firstRow&&y.firstRowScreen==this.layerConfig.firstRowScreen){var w=this.scrollTop+(y.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;w>0&&(this.scrollTop=w,C=C|this.CHANGE_SCROLL,C|=this.$computeLayerConfig()|this.$loop.clear())}y=this.layerConfig,this.$updateScrollBarV(),C&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),m.translate(this.content,-this.scrollLeft,-y.offset);var b=y.width+2*this.$padding+"px",k=y.minHeight+"px";m.setStyle(this.content.style,"width",b),m.setStyle(this.content.style,"height",k)}if(C&this.CHANGE_H_SCROLL&&(m.translate(this.content,-this.scrollLeft,-y.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),C&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(y),this.$showGutter&&this.$gutterLayer.update(y),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(y),this.$markerBack.update(y),this.$markerFront.update(y),this.$cursorLayer.update(y),this.$moveTextAreaToCursor(),this._signal("afterRender",C);return}if(C&this.CHANGE_SCROLL){this.$changedLines=null,C&this.CHANGE_TEXT||C&this.CHANGE_LINES?this.$textLayer.update(y):this.$textLayer.scrollLines(y),this.$showGutter&&(C&this.CHANGE_GUTTER||C&this.CHANGE_LINES?this.$gutterLayer.update(y):this.$gutterLayer.scrollLines(y)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(y),this.$markerBack.update(y),this.$markerFront.update(y),this.$cursorLayer.update(y),this.$moveTextAreaToCursor(),this._signal("afterRender",C);return}C&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(y),this.$showGutter&&this.$gutterLayer.update(y),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(y)):C&this.CHANGE_LINES?((this.$updateLines()||C&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(y),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(y)):C&this.CHANGE_TEXT||C&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(y),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(y)):C&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(y),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(y)),C&this.CHANGE_CURSOR&&(this.$cursorLayer.update(y),this.$moveTextAreaToCursor()),C&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(y),C&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(y),this._signal("afterRender",C)},$.prototype.$autosize=function(){var C=this.session.getScreenLength()*this.lineHeight,_=this.$maxLines*this.lineHeight,y=Math.min(_,Math.max((this.$minLines||1)*this.lineHeight,C))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(y+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&y>this.$maxPixelHeight&&(y=this.$maxPixelHeight);var w=y<=2*this.lineHeight,b=!w&&C>_;if(y!=this.desiredHeight||this.$size.height!=this.desiredHeight||b!=this.$vScroll){b!=this.$vScroll&&(this.$vScroll=b,this.scrollBarV.setVisible(b));var k=this.container.clientWidth;this.container.style.height=y+"px",this.$updateCachedSize(!0,this.$gutterWidth,k,y),this.desiredHeight=y,this._signal("autosize")}},$.prototype.$computeLayerConfig=function(){var C=this.session,_=this.$size,y=_.height<=2*this.lineHeight,w=this.session.getScreenLength(),b=w*this.lineHeight,k=this.$getLongestLine(),T=!y&&(this.$hScrollBarAlwaysVisible||_.scrollerWidth-k-2*this.$padding<0),M=this.$horizScroll!==T;M&&(this.$horizScroll=T,this.scrollBarH.setVisible(T));var R=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var I=_.scrollerHeight+this.lineHeight,D=!this.$maxLines&&this.$scrollPastEnd?(_.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;b+=D;var O=this.scrollMargin;this.session.setScrollTop(Math.max(-O.top,Math.min(this.scrollTop,b-_.scrollerHeight+O.bottom))),this.session.setScrollLeft(Math.max(-O.left,Math.min(this.scrollLeft,k+2*this.$padding-_.scrollerWidth+O.right)));var N=!y&&(this.$vScrollBarAlwaysVisible||_.scrollerHeight-b+D<0||this.scrollTop>O.top),P=R!==N;P&&(this.$vScroll=N,this.scrollBarV.setVisible(N));var F=this.scrollTop%this.lineHeight,z=Math.ceil(I/this.lineHeight)-1,U=Math.max(0,Math.round((this.scrollTop-F)/this.lineHeight)),W=U+z,q,X,Z=this.lineHeight;U=C.screenToDocumentRow(U,0);var nt=C.getFoldLine(U);nt&&(U=nt.start.row),q=C.documentToScreenRow(U,0),X=C.getRowLength(U)*Z,W=Math.min(C.screenToDocumentRow(W,0),C.getLength()-1),I=_.scrollerHeight+C.getRowLength(W)*Z+X,F=this.scrollTop-q*Z;var ot=0;return(this.layerConfig.width!=k||M)&&(ot=this.CHANGE_H_SCROLL),(M||P)&&(ot|=this.$updateCachedSize(!0,this.gutterWidth,_.width,_.height),this._signal("scrollbarVisibilityChanged"),P&&(k=this.$getLongestLine())),this.layerConfig={width:k,padding:this.$padding,firstRow:U,firstRowScreen:q,lastRow:W,lineHeight:Z,characterWidth:this.characterWidth,minHeight:I,maxHeight:b,offset:F,gutterOffset:Z?Math.max(0,Math.ceil((F+_.height-_.scrollerHeight)/Z)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(k-this.$padding),ot},$.prototype.$updateLines=function(){if(this.$changedLines){var C=this.$changedLines.firstRow,_=this.$changedLines.lastRow;this.$changedLines=null;var y=this.layerConfig;if(!(C>y.lastRow+1)&&!(_<y.firstRow)){if(_===1/0){this.$showGutter&&this.$gutterLayer.update(y),this.$textLayer.update(y);return}return this.$textLayer.updateLines(y,C,_),!0}}},$.prototype.$getLongestLine=function(){var C=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(C+=1),this.$textLayer&&C>this.$textLayer.MAX_LINE_LENGTH&&(C=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(C*this.characterWidth))},$.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},$.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},$.prototype.addGutterDecoration=function(C,_){this.$gutterLayer.addGutterDecoration(C,_)},$.prototype.removeGutterDecoration=function(C,_){this.$gutterLayer.removeGutterDecoration(C,_)},$.prototype.updateBreakpoints=function(C){this._rows=C,this.$loop.schedule(this.CHANGE_GUTTER)},$.prototype.setAnnotations=function(C){this.$gutterLayer.setAnnotations(C),this.$loop.schedule(this.CHANGE_GUTTER)},$.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},$.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},$.prototype.showCursor=function(){this.$cursorLayer.showCursor()},$.prototype.scrollSelectionIntoView=function(C,_,y){this.scrollCursorIntoView(C,y),this.scrollCursorIntoView(_,y)},$.prototype.scrollCursorIntoView=function(C,_,y){if(this.$size.scrollerHeight!==0){var w=this.$cursorLayer.getPixelPosition(C),b=w.left,k=w.top,T=y&&y.top||0,M=y&&y.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var R=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;R+T>k?(_&&R+T>k+this.lineHeight&&(k-=_*this.$size.scrollerHeight),k===0&&(k=-this.scrollMargin.top),this.session.setScrollTop(k)):R+this.$size.scrollerHeight-M<k+this.lineHeight&&(_&&R+this.$size.scrollerHeight-M<k-this.lineHeight&&(k+=_*this.$size.scrollerHeight),this.session.setScrollTop(k+this.lineHeight+M-this.$size.scrollerHeight));var I=this.scrollLeft,D=2*this.layerConfig.characterWidth;b-D<I?(b-=D,b<this.$padding+D&&(b=-this.scrollMargin.left),this.session.setScrollLeft(b)):(b+=D,I+this.$size.scrollerWidth<b+this.characterWidth?this.session.setScrollLeft(Math.round(b+this.characterWidth-this.$size.scrollerWidth)):I<=this.$padding&&b-I<this.characterWidth&&this.session.setScrollLeft(0))}},$.prototype.getScrollTop=function(){return this.session.getScrollTop()},$.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},$.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},$.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},$.prototype.scrollToRow=function(C){this.session.setScrollTop(C*this.lineHeight)},$.prototype.alignCursor=function(C,_){typeof C=="number"&&(C={row:C,column:0});var y=this.$cursorLayer.getPixelPosition(C),w=this.$size.scrollerHeight-this.lineHeight,b=y.top-w*(_||0);return this.session.setScrollTop(b),b},$.prototype.$calcSteps=function(C,_){var y=0,w=this.STEPS,b=[],k=function(T,M,R){return R*(Math.pow(T-1,3)+1)+M};for(y=0;y<w;++y)b.push(k(y/this.STEPS,C,_-C));return b},$.prototype.scrollToLine=function(C,_,y,w){var b=this.$cursorLayer.getPixelPosition({row:C,column:0}),k=b.top;_&&(k-=this.$size.scrollerHeight/2);var T=this.scrollTop;this.session.setScrollTop(k),y!==!1&&this.animateScrolling(T,w)},$.prototype.animateScrolling=function(C,_){var y=this.scrollTop;if(!this.$animatedScroll)return;var w=this;if(C==y)return;if(this.$scrollAnimation){var b=this.$scrollAnimation.steps;if(b.length&&(C=b[0],C==y))return}var k=w.$calcSteps(C,y);this.$scrollAnimation={from:C,to:y,steps:k},clearInterval(this.$timer),w.session.setScrollTop(k.shift()),w.session.$scrollTop=y;function T(){w.$timer=clearInterval(w.$timer),w.$scrollAnimation=null,w.$stopAnimation=!1,_&&_()}this.$timer=setInterval(function(){if(w.$stopAnimation){T();return}if(!w.session)return clearInterval(w.$timer);k.length?(w.session.setScrollTop(k.shift()),w.session.$scrollTop=y):y!=null?(w.session.$scrollTop=-1,w.session.setScrollTop(y),y=null):T()},10)},$.prototype.scrollToY=function(C){this.scrollTop!==C&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=C)},$.prototype.scrollToX=function(C){this.scrollLeft!==C&&(this.scrollLeft=C),this.$loop.schedule(this.CHANGE_H_SCROLL)},$.prototype.scrollTo=function(C,_){this.session.setScrollTop(_),this.session.setScrollLeft(C)},$.prototype.scrollBy=function(C,_){_&&this.session.setScrollTop(this.session.getScrollTop()+_),C&&this.session.setScrollLeft(this.session.getScrollLeft()+C)},$.prototype.isScrollableBy=function(C,_){if(_<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||_>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||C<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||C>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},$.prototype.pixelToScreenCoordinates=function(C,_){var y;if(this.$hasCssTransforms){y={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([C,_]);C=w[1]-this.gutterWidth-this.margin.left,_=w[0]}else y=this.scroller.getBoundingClientRect();var b=C+this.scrollLeft-y.left-this.$padding,k=b/this.characterWidth,T=Math.floor((_+this.scrollTop-y.top)/this.lineHeight),M=this.$blockCursor?Math.floor(k):Math.round(k);return{row:T,column:M,side:k-M>0?1:-1,offsetX:b}},$.prototype.screenToTextCoordinates=function(C,_){var y;if(this.$hasCssTransforms){y={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([C,_]);C=w[1]-this.gutterWidth-this.margin.left,_=w[0]}else y=this.scroller.getBoundingClientRect();var b=C+this.scrollLeft-y.left-this.$padding,k=b/this.characterWidth,T=this.$blockCursor?Math.floor(k):Math.round(k),M=Math.floor((_+this.scrollTop-y.top)/this.lineHeight);return this.session.screenToDocumentPosition(M,Math.max(T,0),b)},$.prototype.textToScreenCoordinates=function(C,_){var y=this.scroller.getBoundingClientRect(),w=this.session.documentToScreenPosition(C,_),b=this.$padding+(this.session.$bidiHandler.isBidiRow(w.row,C)?this.session.$bidiHandler.getPosLeft(w.column):Math.round(w.column*this.characterWidth)),k=w.row*this.lineHeight;return{pageX:y.left+b-this.scrollLeft,pageY:y.top+k-this.scrollTop}},$.prototype.visualizeFocus=function(){m.addCssClass(this.container,"ace_focus")},$.prototype.visualizeBlur=function(){m.removeCssClass(this.container,"ace_focus")},$.prototype.showComposition=function(C){this.$composition=C,C.cssText||(C.cssText=this.textarea.style.cssText),C.useTextareaForIME==null&&(C.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(m.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):C.markerId=this.session.addMarker(C.markerRange,"ace_composition_marker","text")},$.prototype.setCompositionText=function(C){var _=this.session.selection.cursor;this.addToken(C,"composition_placeholder",_.row,_.column),this.$moveTextAreaToCursor()},$.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),m.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var C=this.session.selection.cursor;this.removeExtraToken(C.row,C.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},$.prototype.setGhostText=function(C,_){var y=this.session.selection.cursor,w=_||{row:y.row,column:y.column};this.removeGhostText();var b=this.$calculateWrappedTextChunks(C,w);this.addToken(b[0].text,"ghost_text",w.row,w.column),this.$ghostText={text:C,position:{row:w.row,column:w.column}};var k=m.createElement("div");if(b.length>1){var T=this.hideTokensAfterPosition(w.row,w.column),M;b.slice(1).forEach(function(P){var F=m.createElement("div"),z=m.createElement("span");z.className="ace_ghost_text",P.wrapped&&(F.className="ghost_text_line_wrapped"),P.text.length===0&&(P.text=" "),z.appendChild(m.createTextNode(P.text)),F.appendChild(z),k.appendChild(F),M=F}),T.forEach(function(P){var F=m.createElement("span");f(P.type)||(F.className="ace_"+P.type.replace(/\./g," ace_")),F.appendChild(m.createTextNode(P.value)),M.appendChild(F)}),this.$ghostTextWidget={el:k,row:w.row,column:w.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var R=this.$cursorLayer.getPixelPosition(w,!0),I=this.container,D=I.getBoundingClientRect().height,O=b.length*this.lineHeight,N=O<D-R.top;if(N)return;O<D?this.scrollBy(0,(b.length-1)*this.lineHeight):this.scrollToRow(w.row)}},$.prototype.$calculateWrappedTextChunks=function(C,_){var y=this.$size.scrollerWidth-this.$padding*2,w=Math.floor(y/this.characterWidth)-2;w=w<=0?60:w;for(var b=C.split(/\r?\n/),k=[],T=0;T<b.length;T++){var M=this.session.$getDisplayTokens(b[T],_.column),R=this.session.$computeWrapSplits(M,w,this.session.$tabSize);if(R.length>0){var I=0;R.push(b[T].length);for(var D=0;D<R.length;D++){var O=b[T].slice(I,R[D]);k.push({text:O,wrapped:!0}),I=R[D]}}else k.push({text:b[T],wrapped:!1})}return k},$.prototype.removeGhostText=function(){if(this.$ghostText){var C=this.$ghostText.position;this.removeExtraToken(C.row,C.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},$.prototype.addToken=function(C,_,y,w){var b=this.session;b.bgTokenizer.lines[y]=null;var k={type:_,value:C},T=b.getTokens(y);if(w==null||!T.length)T.push(k);else for(var M=0,R=0;R<T.length;R++){var I=T[R];if(M+=I.value.length,w<=M){var D=I.value.length-(M-w),O=I.value.slice(0,D),N=I.value.slice(D);T.splice(R,1,{type:I.type,value:O},k,{type:I.type,value:N});break}}this.updateLines(y,y)},$.prototype.hideTokensAfterPosition=function(C,_){for(var y=this.session.getTokens(C),w=0,b=!1,k=[],T=0;T<y.length;T++){var M=y[T];if(w+=M.value.length,M.type!=="ghost_text"){if(b){k.push({type:M.type,value:M.value}),M.type="hidden_token";continue}w===_&&(b=!0)}}return this.updateLines(C,C),k},$.prototype.removeExtraToken=function(C,_){this.session.bgTokenizer.lines[C]=null,this.updateLines(C,C)},$.prototype.setTheme=function(C,_){var y=this;if(this.$themeId=C,y._dispatchEvent("themeChange",{theme:C}),!C||typeof C=="string"){var w=C||this.$options.theme.initialValue;s.loadModule(["theme",w],b)}else b(C);function b(k){if(y.$themeId!=C)return _&&_();if(!k||!k.cssClass)throw new Error("couldn't load module "+C+" or it didn't call define");k.$id&&(y.$themeId=k.$id),m.importCssString(k.cssText,k.cssClass,y.container),y.theme&&m.removeCssClass(y.container,y.theme.cssClass);var T="padding"in k?k.padding:"padding"in(y.theme||{})?4:y.$padding;y.$padding&&T!=y.$padding&&y.setPadding(T),y.$theme=k.cssClass,y.theme=k,m.addCssClass(y.container,k.cssClass),m.setCssClass(y.container,"ace_dark",k.isDark),y.$size&&(y.$size.width=0,y.$updateSizeAsync()),y._dispatchEvent("themeLoaded",{theme:k}),_&&_(),S.isSafari&&y.scroller&&(y.scroller.style.background="red",y.scroller.style.background="")}},$.prototype.getTheme=function(){return this.$themeId},$.prototype.setStyle=function(C,_){m.setCssClass(this.container,C,_!==!1)},$.prototype.unsetStyle=function(C){m.removeCssClass(this.container,C)},$.prototype.setCursorStyle=function(C){m.setStyle(this.scroller.style,"cursor",C)},$.prototype.setMouseCursor=function(C){m.setStyle(this.scroller.style,"cursor",C)},$.prototype.attachToShadowRoot=function(){m.importCssString(x,"ace_editor.css",this.container)},$.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},$.prototype.$updateCustomScrollbar=function(C){var _=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,C===!0?(this.scrollBarV=new u(this.container,this),this.scrollBarH=new l(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(y){_.$scrollAnimation||_.session.setScrollTop(y.data-_.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(y){_.$scrollAnimation||_.session.setScrollLeft(y.data-_.scrollMargin.left)}),this.$scrollDecorator=new A(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new n(this.container,this),this.scrollBarH=new a(this.container,this),this.scrollBarV.addEventListener("scroll",function(y){_.$scrollAnimation||_.session.setScrollTop(y.data-_.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(y){_.$scrollAnimation||_.session.setScrollLeft(y.data-_.scrollMargin.left)}))},$.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var C=this;this.$resizeTimer=h.delayedCall(function(){C.destroyed||C.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(_){var y=_[0].contentRect.width,w=_[0].contentRect.height;Math.abs(C.$size.width-y)>1||Math.abs(C.$size.height-w)>1?C.$resizeTimer.delay():C.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},$}();L.prototype.CHANGE_CURSOR=1,L.prototype.CHANGE_MARKER=2,L.prototype.CHANGE_GUTTER=4,L.prototype.CHANGE_SCROLL=8,L.prototype.CHANGE_LINES=16,L.prototype.CHANGE_TEXT=32,L.prototype.CHANGE_SIZE=64,L.prototype.CHANGE_MARKER_BACK=128,L.prototype.CHANGE_MARKER_FRONT=256,L.prototype.CHANGE_FULL=512,L.prototype.CHANGE_H_SCROLL=1024,L.prototype.$changes=0,L.prototype.$padding=null,L.prototype.$frozen=!1,L.prototype.STEPS=8,p.implement(L.prototype,E),s.defineOptions(L.prototype,"renderer",{useResizeObserver:{set:function($){!$&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):$&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function($){this.$textLayer.setShowInvisibles($)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function($){typeof $=="number"&&(this.$printMarginColumn=$),this.$showPrintMargin=!!$,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function($){this.$gutter.style.display=$?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function($){this.$gutterLayer.$useSvgGutterIcons=$},initialValue:!1},showFoldedAnnotations:{set:function($){this.$gutterLayer.$showFoldedAnnotations=$},initialValue:!1},fadeFoldWidgets:{set:function($){m.setCssClass(this.$gutter,"ace_fade-fold-widgets",$)},initialValue:!1},showFoldWidgets:{set:function($){this.$gutterLayer.setShowFoldWidgets($),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function($){this.$textLayer.setDisplayIndentGuides($)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function($){this.$textLayer.setHighlightIndentGuides($)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function($){this.$gutterLayer.setHighlightGutterLine($),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function($){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function($){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function($){typeof $=="number"&&($=$+"px"),this.container.style.fontSize=$,this.updateFontSize()},initialValue:12},fontFamily:{set:function($){this.container.style.fontFamily=$,this.updateFontSize()}},maxLines:{set:function($){this.updateFull()}},minLines:{set:function($){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function($){this.updateFull()},initialValue:0},scrollPastEnd:{set:function($){$=+$||0,this.$scrollPastEnd!=$&&(this.$scrollPastEnd=$,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function($){this.$gutterLayer.$fixedWidth=!!$,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function($){this.$updateCustomScrollbar($)},initialValue:!1},theme:{set:function($){this.setTheme($)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!S.isMobile&&!S.isIE}}),t.VirtualRenderer=L});ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,d){"use strict";var p=e("../lib/oop"),m=e("../lib/net"),h=e("../lib/event_emitter").EventEmitter,s=e("../config");function c(a){var n="importScripts('"+m.qualifyURL(a)+"');";try{return new Blob([n],{type:"application/javascript"})}catch{var l=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,u=new l;return u.append(n),u.getBlob("application/javascript")}}function o(a){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var n=c(a),l=window.URL||window.webkitURL,u=l.createObjectURL(n);return new Worker(u)}return new Worker(a)}var i=function(a){a.postMessage||(a=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=a,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){p.implement(this,h),this.$createWorkerFromOldConfig=function(a,n,l,u,g){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)u=u||s.moduleUrl(n,"worker");else{var v=this.$normalizePath;u=u||v(e.toUrl("ace/worker/worker.js",null,"_"));var E={};a.forEach(function(x){E[x]=v(e.toUrl(x,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=o(u),g&&this.send("importScripts",g),this.$worker.postMessage({init:!0,tlns:E,module:n,classname:l}),this.$worker},this.onMessage=function(a){var n=a.data;switch(n.type){case"event":this._signal(n.name,{data:n.data});break;case"call":var l=this.callbacks[n.id];l&&(l(n.data),delete this.callbacks[n.id]);break;case"error":this.reportError(n.data);break;case"log":window.console&&console.log&&console.log.apply(console,n.data);break}},this.reportError=function(a){window.console&&console.error&&console.error(a)},this.$normalizePath=function(a){return m.qualifyURL(a)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(a){a.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(a,n){this.$worker.postMessage({command:a,args:n})},this.call=function(a,n,l){if(l){var u=this.callbackId++;this.callbacks[u]=l,n.push(u)}this.send(a,n)},this.emit=function(a,n){try{n.data&&n.data.err&&(n.data.err={message:n.data.err.message,stack:n.data.err.stack,code:n.data.err.code}),this.$worker&&this.$worker.postMessage({event:a,data:{data:n.data}})}catch(l){console.error(l.stack)}},this.attachToDocument=function(a){this.$doc&&this.terminate(),this.$doc=a,this.call("setValue",[a.getValue()]),a.on("change",this.changeListener,!0)},this.changeListener=function(a){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),a.action=="insert"?this.deltaQueue.push(a.start,a.lines):this.deltaQueue.push(a.start,a.end)},this.$sendDeltaQueue=function(){var a=this.deltaQueue;a&&(this.deltaQueue=null,a.length>50&&a.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:a}))}}).call(i.prototype);var r=function(a,n,l){var u=null,g=!1,v=Object.create(h),E=[],x=new i({messageBuffer:E,terminate:function(){},postMessage:function(S){E.push(S),u&&(g?setTimeout(A):A())}});x.setEmitSync=function(S){g=S};var A=function(){var S=E.shift();S.command?u[S.command].apply(u,S.args):S.event&&v._signal(S.event,S.data)};return v.postMessage=function(S){x.onMessage({data:S})},v.callback=function(S,f){this.postMessage({type:"call",id:f,data:S})},v.emit=function(S,f){this.postMessage({type:"event",name:S,data:f})},s.loadModule(["worker",n],function(S){for(u=new S[l](v);E.length;)A()}),x};t.UIWorkerClient=r,t.WorkerClient=i,t.createWorker=o});ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,d){"use strict";var p=e("./range").Range,m=e("./lib/event_emitter").EventEmitter,h=e("./lib/oop"),s=function(){function c(o,i,r,a,n,l){var u=this;this.length=i,this.session=o,this.doc=o.getDocument(),this.mainClass=n,this.othersClass=l,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=a,this.$onCursorChange=function(){setTimeout(function(){u.onCursorChange()})},this.$pos=r;var g=o.getUndoManager().$undoStack||o.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=g.length,this.setup(),o.selection.on("changeCursor",this.$onCursorChange)}return c.prototype.setup=function(){var o=this,i=this.doc,r=this.session;this.selectionBefore=r.selection.toJSON(),r.selection.inMultiSelectMode&&r.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var a=this.pos;a.$insertRight=!0,a.detach(),a.markerId=r.addMarker(new p(a.row,a.column,a.row,a.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var l=i.createAnchor(n.row,n.column);l.$insertRight=!0,l.detach(),o.others.push(l)}),r.setUndoSelect(!1)},c.prototype.showOtherMarkers=function(){if(!this.othersActive){var o=this.session,i=this;this.othersActive=!0,this.others.forEach(function(r){r.markerId=o.addMarker(new p(r.row,r.column,r.row,r.column+i.length),i.othersClass,null,!1)})}},c.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var o=0;o<this.others.length;o++)this.session.removeMarker(this.others[o].markerId)}},c.prototype.onUpdate=function(o){if(this.$updating)return this.updateAnchors(o);var i=o;if(i.start.row===i.end.row&&i.start.row===this.pos.row){this.$updating=!0;var r=o.action==="insert"?i.end.column-i.start.column:i.start.column-i.end.column,a=i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1,n=i.start.column-this.pos.column;if(this.updateAnchors(o),a&&(this.length+=r),a&&!this.session.$fromUndo){if(o.action==="insert")for(var l=this.others.length-1;l>=0;l--){var u=this.others[l],g={row:u.row,column:u.column+n};this.doc.insertMergedLines(g,o.lines)}else if(o.action==="remove")for(var l=this.others.length-1;l>=0;l--){var u=this.others[l],g={row:u.row,column:u.column+n};this.doc.remove(new p(g.row,g.column,g.row,g.column-r))}}this.$updating=!1,this.updateMarkers()}},c.prototype.updateAnchors=function(o){this.pos.onChange(o);for(var i=this.others.length;i--;)this.others[i].onChange(o);this.updateMarkers()},c.prototype.updateMarkers=function(){if(!this.$updating){var o=this,i=this.session,r=function(n,l){i.removeMarker(n.markerId),n.markerId=i.addMarker(new p(n.row,n.column,n.row,n.column+o.length),l,null,!1)};r(this.pos,this.mainClass);for(var a=this.others.length;a--;)r(this.others[a],this.othersClass)}},c.prototype.onCursorChange=function(o){if(!(this.$updating||!this.session)){var i=this.session.selection.getCursor();i.row===this.pos.row&&i.column>=this.pos.column&&i.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",o)):(this.hideOtherMarkers(),this._emit("cursorLeave",o))}},c.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},c.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var o=this.session.getUndoManager(),i=(o.$undoStack||o.$undostack).length-this.$undoStackDepth,r=0;r<i;r++)o.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},c}();h.implement(s.prototype,m),t.PlaceHolder=s});ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,d){var p=e("../lib/event"),m=e("../lib/useragent");function h(c,o){return c.row==o.row&&c.column==o.column}function s(c){var o=c.domEvent,i=o.altKey,r=o.shiftKey,a=o.ctrlKey,n=c.getAccelKey(),l=c.getButton();if(a&&m.isMac&&(l=o.button),c.editor.inMultiSelectMode&&l==2){c.editor.textInput.onContextMenu(c.domEvent);return}if(!a&&!i&&!n){l===0&&c.editor.inMultiSelectMode&&c.editor.exitMultiSelectMode();return}if(l===0){var u=c.editor,g=u.selection,v=u.inMultiSelectMode,E=c.getDocumentPosition(),x=g.getCursor(),A=c.inSelection()||g.isEmpty()&&h(E,x),S=c.x,f=c.y,L=function(O){S=O.clientX,f=O.clientY},$=u.session,C=u.renderer.pixelToScreenCoordinates(S,f),_=C,y;if(u.$mouseHandler.$enableJumpToDef)a&&i||n&&i?y=r?"block":"add":i&&u.$blockSelectEnabled&&(y="block");else if(n&&!i){if(y="add",!v&&r)return}else i&&u.$blockSelectEnabled&&(y="block");if(y&&m.isMac&&o.ctrlKey&&u.$mouseHandler.cancelContextMenu(),y=="add"){if(!v&&A)return;if(!v){var w=g.toOrientedRange();u.addSelectionMarker(w)}var b=g.rangeList.rangeAtPoint(E);u.inVirtualSelectionMode=!0,r&&(b=null,w=g.ranges[0]||w,u.removeSelectionMarker(w)),u.once("mouseup",function(){var O=g.toOrientedRange();b&&O.isEmpty()&&h(b.cursor,O.cursor)?g.substractPoint(O.cursor):(r?g.substractPoint(w.cursor):w&&(u.removeSelectionMarker(w),g.addRange(w)),g.addRange(O)),u.inVirtualSelectionMode=!1})}else if(y=="block"){c.stop(),u.inVirtualSelectionMode=!0;var k,T=[],M=function(){var O=u.renderer.pixelToScreenCoordinates(S,f),N=$.screenToDocumentPosition(O.row,O.column,O.offsetX);h(_,O)&&h(N,g.lead)||(_=O,u.selection.moveToPosition(N),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(T),T=g.rectangularRangeBlock(_,C),u.$mouseHandler.$clickSelection&&T.length==1&&T[0].isEmpty()&&(T[0]=u.$mouseHandler.$clickSelection.clone()),T.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};v&&!n?g.toSingleRange():!v&&n&&(k=g.toOrientedRange(),u.addSelectionMarker(k)),r?C=$.documentToScreenPosition(g.lead):g.moveToPosition(E),_={row:-1,column:-1};var R=function(O){M(),clearInterval(D),u.removeSelectionMarkers(T),T.length||(T=[g.toOrientedRange()]),k&&(u.removeSelectionMarker(k),g.toSingleRange(k));for(var N=0;N<T.length;N++)g.addRange(T[N]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null},I=M;p.capture(u.container,L,R);var D=setInterval(function(){I()},20);return c.preventDefault()}}}t.onMouseDown=s});ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,d){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(m){m.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(m){m.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(m){m.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(m){m.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(m){m.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(m){m.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(m){m.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(m){m.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(m){m.multiSelect.rangeCount>1?m.multiSelect.joinSelections():m.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(m){m.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(m){m.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(m){m.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(m){m.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(m){return m&&m.inMultiSelectMode}}];var p=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new p(t.multiSelectCommands)});ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,d){var p=e("./range_list").RangeList,m=e("./range").Range,h=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,c=e("./lib/event"),o=e("./lib/lang"),i=e("./commands/multi_select_commands");t.commands=i.defaultCommands.concat(i.multiSelectCommands);var r=e("./search").Search,a=new r;function n(x,A,S){return a.$options.wrap=!0,a.$options.needle=A,a.$options.backwards=S==-1,a.find(x)}var l=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(l.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(x,A){if(x){if(!this.inMultiSelectMode&&this.rangeCount===0){var S=this.toOrientedRange();if(this.rangeList.add(S),this.rangeList.add(x),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),A||this.fromOrientedRange(x);this.rangeList.removeAll(),this.rangeList.add(S),this.$onAddRange(S)}x.cursor||(x.cursor=x.end);var f=this.rangeList.add(x);return this.$onAddRange(x),f.length&&this.$onRemoveRange(f),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),A||this.fromOrientedRange(x)}},this.toSingleRange=function(x){x=x||this.ranges[0];var A=this.rangeList.removeAll();A.length&&this.$onRemoveRange(A),x&&this.fromOrientedRange(x)},this.substractPoint=function(x){var A=this.rangeList.substractPoint(x);if(A)return this.$onRemoveRange(A),A[0]},this.mergeOverlappingRanges=function(){var x=this.rangeList.merge();x.length&&this.$onRemoveRange(x)},this.$onAddRange=function(x){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(x),this._signal("addRange",{range:x})},this.$onRemoveRange=function(x){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var A=this.rangeList.ranges.pop();x.push(A),this.rangeCount=0}for(var S=x.length;S--;){var f=this.ranges.indexOf(x[S]);this.ranges.splice(f,1)}this._signal("removeRange",{ranges:x}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),A=A||this.ranges[0],A&&!A.isEqual(this.getRange())&&this.fromOrientedRange(A)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new p,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var x=this.ranges.length?this.ranges:[this.getRange()],A=[],S=0;S<x.length;S++){var f=x[S],L=f.start.row,$=f.end.row;if(L===$)A.push(f.clone());else{for(A.push(new m(L,f.start.column,L,this.session.getLine(L).length));++L<$;)A.push(this.getLineRange(L,!0));A.push(new m($,0,$,f.end.column))}S==0&&!this.isBackwards()&&(A=A.reverse())}this.toSingleRange();for(var S=A.length;S--;)this.addRange(A[S])},this.joinSelections=function(){var x=this.rangeList.ranges,A=x[x.length-1],S=m.fromPoints(x[0].start,A.end);this.toSingleRange(),this.setSelectionRange(S,A.cursor==A.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var x=this.rangeList.ranges,A=x[x.length-1],S=m.fromPoints(x[0].start,A.end);this.toSingleRange(),this.setSelectionRange(S,A.cursor==A.start)}else{var f=this.session.documentToScreenPosition(this.cursor),L=this.session.documentToScreenPosition(this.anchor),$=this.rectangularRangeBlock(f,L);$.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(x,A,S){var f=[],L=x.column<A.column;if(L)var $=x.column,C=A.column,_=x.offsetX,y=A.offsetX;else var $=A.column,C=x.column,_=A.offsetX,y=x.offsetX;var w=x.row<A.row;if(w)var b=x.row,k=A.row;else var b=A.row,k=x.row;$<0&&($=0),b<0&&(b=0),b==k&&(S=!0);for(var T,M=b;M<=k;M++){var R=m.fromPoints(this.session.screenToDocumentPosition(M,$,_),this.session.screenToDocumentPosition(M,C,y));if(R.isEmpty()){if(T&&g(R.end,T))break;T=R.end}R.cursor=L?R.start:R.end,f.push(R)}if(w&&f.reverse(),!S){for(var I=f.length-1;f[I].isEmpty()&&I>0;)I--;if(I>0)for(var D=0;f[D].isEmpty();)D++;for(var O=I;O>=D;O--)f[O].isEmpty()&&f.splice(O,1)}return f}}.call(h.prototype);var u=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(x){x.cursor||(x.cursor=x.end);var A=this.getSelectionStyle();return x.marker=this.session.addMarker(x,"ace_selection",A),this.session.$selectionMarkers.push(x),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,x},this.removeSelectionMarker=function(x){if(x.marker){this.session.removeMarker(x.marker);var A=this.session.$selectionMarkers.indexOf(x);A!=-1&&this.session.$selectionMarkers.splice(A,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(x){for(var A=this.session.$selectionMarkers,S=x.length;S--;){var f=x[S];if(f.marker){this.session.removeMarker(f.marker);var L=A.indexOf(f);L!=-1&&A.splice(L,1)}}this.session.selectionMarkerCount=A.length},this.$onAddRange=function(x){this.addSelectionMarker(x.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(x){this.removeSelectionMarkers(x.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(x){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(i.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(x){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(i.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(x){var A=x.command,S=x.editor;if(S.multiSelect){if(A.multiSelectAction)A.multiSelectAction=="forEach"?f=S.forEachSelection(A,x.args):A.multiSelectAction=="forEachLine"?f=S.forEachSelection(A,x.args,!0):A.multiSelectAction=="single"?(S.exitMultiSelectMode(),f=A.exec(S,x.args||{})):f=A.multiSelectAction(S,x.args||{});else{var f=A.exec(S,x.args||{});S.multiSelect.addRange(S.multiSelect.toOrientedRange()),S.multiSelect.mergeOverlappingRanges()}return f}},this.forEachSelection=function(x,A,S){if(!this.inVirtualSelectionMode){var f=S&&S.keepOrder,L=S==!0||S&&S.$byLines,$=this.session,C=this.selection,_=C.rangeList,y=(f?C:_).ranges,w;if(!y.length)return x.exec?x.exec(this,A||{}):x(this,A||{});var b=C._eventRegistry;C._eventRegistry={};var k=new h($);this.inVirtualSelectionMode=!0;for(var T=y.length;T--;){if(L)for(;T>0&&y[T].start.row==y[T-1].end.row;)T--;k.fromOrientedRange(y[T]),k.index=T,this.selection=$.selection=k;var M=x.exec?x.exec(this,A||{}):x(this,A||{});!w&&M!==void 0&&(w=M),k.toOrientedRange(y[T])}k.detach(),this.selection=$.selection=C,this.inVirtualSelectionMode=!1,C._eventRegistry=b,C.mergeOverlappingRanges(),C.ranges[0]&&C.fromOrientedRange(C.ranges[0]);var R=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),R&&R.from==R.to&&this.renderer.animateScrolling(R.from),w}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var x="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var A=this.multiSelect.rangeList.ranges,S=[],f=0;f<A.length;f++)S.push(this.session.getTextRange(A[f]));var L=this.session.getDocument().getNewLineCharacter();x=S.join(L),x.length==(S.length-1)*L.length&&(x="")}else this.selection.isEmpty()||(x=this.session.getTextRange(this.getSelectionRange()));return x},this.$checkMultiselectChange=function(x,A){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var S=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&A==this.multiSelect.anchor)return;var f=A==this.multiSelect.anchor?S.cursor==S.start?S.end:S.start:S.cursor;f.row!=A.row||this.session.$clipPositionToDocument(f.row,f.column).column!=A.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(x,A,S){if(A=A||{},A.needle=x||A.needle,A.needle==null){var f=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();A.needle=this.session.getTextRange(f)}this.$search.set(A);var L=this.$search.findAll(this.session);if(!L.length)return 0;var $=this.multiSelect;S||$.toSingleRange(L[0]);for(var C=L.length;C--;)$.addRange(L[C],!0);return f&&$.rangeList.rangeAtPoint(f.start)&&$.addRange(f,!0),L.length},this.selectMoreLines=function(x,A){var S=this.selection.toOrientedRange(),f=S.cursor==S.end,L=this.session.documentToScreenPosition(S.cursor);this.selection.$desiredColumn&&(L.column=this.selection.$desiredColumn);var $=this.session.screenToDocumentPosition(L.row+x,L.column);if(S.isEmpty())var _=$;else var C=this.session.documentToScreenPosition(f?S.end:S.start),_=this.session.screenToDocumentPosition(C.row+x,C.column);if(f){var y=m.fromPoints($,_);y.cursor=y.start}else{var y=m.fromPoints(_,$);y.cursor=y.end}if(y.desiredColumn=L.column,!this.selection.inMultiSelectMode)this.selection.addRange(S);else if(A)var w=S.cursor;this.selection.addRange(y),w&&this.selection.substractPoint(w)},this.transposeSelections=function(x){for(var A=this.session,S=A.multiSelect,f=S.ranges,L=f.length;L--;){var $=f[L];if($.isEmpty()){var C=A.getWordRange($.start.row,$.start.column);$.start.row=C.start.row,$.start.column=C.start.column,$.end.row=C.end.row,$.end.column=C.end.column}}S.mergeOverlappingRanges();for(var _=[],L=f.length;L--;){var $=f[L];_.unshift(A.getTextRange($))}x<0?_.unshift(_.pop()):_.push(_.shift());for(var L=f.length;L--;){var $=f[L],y=$.clone();A.replace($,_[L]),$.start.row=y.start.row,$.start.column=y.start.column}S.fromOrientedRange(S.ranges[0])},this.selectMore=function(x,A,S){var f=this.session,L=f.multiSelect,$=L.toOrientedRange();if(!($.isEmpty()&&($=f.getWordRange($.start.row,$.start.column),$.cursor=x==-1?$.start:$.end,this.multiSelect.addRange($),S))){var C=f.getTextRange($),_=n(f,C,x);_&&(_.cursor=x==-1?_.start:_.end,this.session.unfold(_),this.multiSelect.addRange(_),this.renderer.scrollCursorIntoView(null,.5)),A&&this.multiSelect.substractPoint($.cursor)}},this.alignCursors=function(){var x=this.session,A=x.multiSelect,S=A.ranges,f=-1,L=S.filter(function(I){if(I.cursor.row==f)return!0;f=I.cursor.row});if(!S.length||L.length==S.length-1){var $=this.selection.getRange(),C=$.start.row,_=$.end.row,y=C==_;if(y){var w=this.session.getLength(),b;do b=this.session.getLine(_);while(/[=:]/.test(b)&&++_<w);do b=this.session.getLine(C);while(/[=:]/.test(b)&&--C>0);C<0&&(C=0),_>=w&&(_=w-1)}var k=this.session.removeFullLines(C,_);k=this.$reAlignText(k,y),this.session.insert({row:C,column:0},k.join(`
`)+`
`),y||($.start.column=0,$.end.column=k[k.length-1].length),this.selection.setRange($)}else{L.forEach(function(I){A.substractPoint(I.cursor)});var T=0,M=1/0,R=S.map(function(I){var D=I.cursor,O=x.getLine(D.row),N=O.substr(D.column).search(/\S/g);return N==-1&&(N=0),D.column>T&&(T=D.column),N<M&&(M=N),N});S.forEach(function(I,D){var O=I.cursor,N=T-O.column,P=R[D]-M;N>P?x.insert(O,o.stringRepeat(" ",N-P)):x.remove(new m(O.row,O.column,O.row,O.column-N+P)),I.start.column=I.end.column=T,I.start.row=I.end.row=O.row,I.cursor=I.end}),A.fromOrientedRange(S[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(x,A){var S=!0,f=!0,L,$,C;return x.map(function(k){var T=k.match(/(\s*)(.*?)(\s*)([=:].*)/);return T?L==null?(L=T[1].length,$=T[2].length,C=T[3].length,T):(L+$+C!=T[1].length+T[2].length+T[3].length&&(f=!1),L!=T[1].length&&(S=!1),L>T[1].length&&(L=T[1].length),$<T[2].length&&($=T[2].length),C>T[3].length&&(C=T[3].length),T):[k]}).map(A?y:S?f?w:y:b);function _(k){return o.stringRepeat(" ",k)}function y(k){return k[2]?_(L)+k[2]+_($-k[2].length+C)+k[4].replace(/^([=:])\s+/,"$1 "):k[0]}function w(k){return k[2]?_(L+$-k[2].length)+k[2]+_(C)+k[4].replace(/^([=:])\s+/,"$1 "):k[0]}function b(k){return k[2]?_(L)+k[2]+_(C)+k[4].replace(/^([=:])\s+/,"$1 "):k[0]}}}).call(u.prototype);function g(x,A){return x.row==A.row&&x.column==A.column}t.onSessionChange=function(x){var A=x.session;A&&!A.multiSelect&&(A.$selectionMarkers=[],A.selection.$initRangeList(),A.multiSelect=A.selection),this.multiSelect=A&&A.multiSelect;var S=x.oldSession;S&&(S.multiSelect.off("addRange",this.$onAddRange),S.multiSelect.off("removeRange",this.$onRemoveRange),S.multiSelect.off("multiSelect",this.$onMultiSelect),S.multiSelect.off("singleSelect",this.$onSingleSelect),S.multiSelect.lead.off("change",this.$checkMultiselectChange),S.multiSelect.anchor.off("change",this.$checkMultiselectChange)),A&&(A.multiSelect.on("addRange",this.$onAddRange),A.multiSelect.on("removeRange",this.$onRemoveRange),A.multiSelect.on("multiSelect",this.$onMultiSelect),A.multiSelect.on("singleSelect",this.$onSingleSelect),A.multiSelect.lead.on("change",this.$checkMultiselectChange),A.multiSelect.anchor.on("change",this.$checkMultiselectChange)),A&&this.inMultiSelectMode!=A.selection.inMultiSelectMode&&(A.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function v(x){x.$multiselectOnSessionChange||(x.$onAddRange=x.$onAddRange.bind(x),x.$onRemoveRange=x.$onRemoveRange.bind(x),x.$onMultiSelect=x.$onMultiSelect.bind(x),x.$onSingleSelect=x.$onSingleSelect.bind(x),x.$multiselectOnSessionChange=t.onSessionChange.bind(x),x.$checkMultiselectChange=x.$checkMultiselectChange.bind(x),x.$multiselectOnSessionChange(x),x.on("changeSession",x.$multiselectOnSessionChange),x.on("mousedown",s),x.commands.addCommands(i.defaultCommands),E(x))}function E(x){if(!x.textInput)return;var A=x.textInput.getElement(),S=!1;c.addListener(A,"keydown",function(L){var $=L.keyCode==18&&!(L.ctrlKey||L.shiftKey||L.metaKey);x.$blockSelectEnabled&&$?S||(x.renderer.setMouseCursor("crosshair"),S=!0):S&&f()},x),c.addListener(A,"keyup",f,x),c.addListener(A,"blur",f,x);function f(L){S&&(x.renderer.setMouseCursor(""),S=!1)}}t.MultiSelect=v,e("./config").defineOptions(u.prototype,"editor",{enableMultiselect:{set:function(x){v(this),x?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(x){this.$blockSelectEnabled=x},value:!0}})});ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,d){"use strict";var p=e("../../range").Range,m=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(h,s,c){var o=h.getLine(c);return this.foldingStartMarker.test(o)?"start":s=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(o)?"end":""},this.getFoldWidgetRange=function(h,s,c){return null},this.indentationBlock=function(h,s,c){var o=/\S/,i=h.getLine(s),r=i.search(o);if(r!=-1){for(var a=c||i.length,n=h.getLength(),l=s,u=s;++s<n;){var g=h.getLine(s).search(o);if(g!=-1){if(g<=r){var v=h.getTokenAt(s,0);if(!v||v.type!=="string")break}u=s}}if(u>l){var E=h.getLine(u).length;return new p(l,a,u,E)}}},this.openingBracketBlock=function(h,s,c,o,i){var r={row:c,column:o+1},a=h.$findClosingBracket(s,r,i);if(a){var n=h.foldWidgets[a.row];return n==null&&(n=h.getFoldWidget(a.row)),n=="start"&&a.row>r.row&&(a.row--,a.column=h.getLine(a.row).length),p.fromPoints(r,a)}},this.closingBracketBlock=function(h,s,c,o,i){var r={row:c,column:o},a=h.$findOpeningBracket(s,r);if(a)return a.column++,r.column--,p.fromPoints(a,r)}}).call(m.prototype)});ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(e,t,d){"use strict";var p=e("../line_widgets").LineWidgets,m=e("../lib/dom"),h=e("../range").Range,s=e("../config").nls;function c(i,r,a){for(var n=0,l=i.length-1;n<=l;){var u=n+l>>1,g=a(r,i[u]);if(g>0)n=u+1;else if(g<0)l=u-1;else return u}return-(n+1)}function o(i,r,a){var n=i.getAnnotations().sort(h.comparePoints);if(n.length){var l=c(n,{row:r,column:-1},h.comparePoints);l<0&&(l=-l-1),l>=n.length?l=a>0?0:n.length-1:l===0&&a<0&&(l=n.length-1);var u=n[l];if(!(!u||!a)){if(u.row===r){do u=n[l+=a];while(u&&u.row===r);if(!u)return n.slice()}var g=[];r=u.row;do g[a<0?"unshift":"push"](u),u=n[l+=a];while(u&&u.row==r);return g.length&&g}}}t.showErrorMarker=function(i,r){var a=i.session;a.widgetManager||(a.widgetManager=new p(a),a.widgetManager.attach(i));var n=i.getCursorPosition(),l=n.row,u=a.widgetManager.getWidgetsAtRow(l).filter(function($){return $.type=="errorMarker"})[0];u?u.destroy():l-=r;var g=o(a,l,r),v;if(g){var E=g[0];n.column=(E.pos&&typeof E.column!="number"?E.pos.sc:E.column)||0,n.row=E.row,v=i.renderer.$gutterLayer.$annotations[n.row]}else{if(u)return;v={displayText:[s("error-marker.good-state","Looks good!")],className:"ace_ok"}}i.session.unfold(n.row),i.selection.moveToPosition(n);var x={row:n.row,fixedWidth:!0,coverGutter:!0,el:m.createElement("div"),type:"errorMarker"},A=x.el.appendChild(m.createElement("div")),S=x.el.appendChild(m.createElement("div"));S.className="error_widget_arrow "+v.className;var f=i.renderer.$cursorLayer.getPixelPosition(n).left;S.style.left=f+i.renderer.gutterWidth-5+"px",x.el.className="error_widget_wrapper",A.className="error_widget "+v.className,v.displayText.forEach(function($,C){A.appendChild(m.createTextNode($)),C<v.displayText.length-1&&A.appendChild(m.createElement("br"))}),A.appendChild(m.createElement("div"));var L=function($,C,_){if(C===0&&(_==="esc"||_==="return"))return x.destroy(),{command:"null"}};x.destroy=function(){i.$mouseHandler.isMousePressed||(i.keyBinding.removeKeyboardHandler(L),a.widgetManager.removeLineWidget(x),i.off("changeSelection",x.destroy),i.off("changeSession",x.destroy),i.off("mouseup",x.destroy),i.off("change",x.destroy))},i.keyBinding.addKeyboardHandler(L),i.on("changeSelection",x.destroy),i.on("changeSession",x.destroy),i.on("mouseup",x.destroy),i.on("change",x.destroy),i.session.widgetManager.addLineWidget(x),x.el.onmousedown=i.focus.bind(i),i.renderer.scrollCursorIntoView(null,.5,{bottom:x.el.offsetHeight})},m.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)});ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(e,t,d){"use strict";e("./loader_build")(t);var p=e("./lib/dom"),m=e("./range").Range,h=e("./editor").Editor,s=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,o=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(i,r){if(typeof i=="string"){var a=i;if(i=document.getElementById(a),!i)throw new Error("ace.edit can't find div #"+a)}if(i&&i.env&&i.env.editor instanceof h)return i.env.editor;var n="";if(i&&/input|textarea/i.test(i.tagName)){var l=i;n=l.value,i=p.createElement("pre"),l.parentNode.replaceChild(i,l)}else i&&(n=i.textContent,i.innerHTML="");var u=t.createEditSession(n),g=new h(new o(i),u,r),v={document:u,editor:g,onResize:g.resize.bind(g,null)};return l&&(v.textarea=l),g.on("destroy",function(){v.editor.container.env=null}),g.container.env=g.env=v,g},t.createEditSession=function(i,r){var a=new s(i,r);return a.setUndoManager(new c),a},t.Range=m,t.Editor=h,t.EditSession=s,t.UndoManager=c,t.VirtualRenderer=o,t.version=t.config.version});(function(){ace.require(["ace/ace"],function(e){e&&(e.config.init(!0),e.define=ace.define);var t=function(){return this}();!t&&typeof window<"u"&&(t=window),!t&&typeof self<"u"&&(t=self),t.ace||(t.ace=e);for(var d in e)e.hasOwnProperty(d)&&(t.ace[d]=e[d]);t.ace.default=t.ace,typeof Jn=="object"&&typeof bc=="object"&&Jn&&(Jn.exports=t.ace)})})()});var fc=vn((ys,ws)=>{(function(e,t){typeof ys=="object"&&typeof ws<"u"?ws.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.DOMPurify=t())})(ys,function(){"use strict";let{entries:e,setPrototypeOf:t,isFrozen:d,getPrototypeOf:p,getOwnPropertyDescriptor:m}=Object,{freeze:h,seal:s,create:c}=Object,{apply:o,construct:i}=typeof Reflect<"u"&&Reflect;h||(h=function(G){return G}),s||(s=function(G){return G}),o||(o=function(G,st,it){return G.apply(st,it)}),i||(i=function(G,st){return new G(...st)});let r=L(Array.prototype.forEach),a=L(Array.prototype.pop),n=L(Array.prototype.push),l=L(String.prototype.toLowerCase),u=L(String.prototype.toString),g=L(String.prototype.match),v=L(String.prototype.replace),E=L(String.prototype.indexOf),x=L(String.prototype.trim),A=L(Object.prototype.hasOwnProperty),S=L(RegExp.prototype.test),f=$(TypeError);function L(Y){return function(G){for(var st=arguments.length,it=new Array(st>1?st-1:0),ht=1;ht<st;ht++)it[ht-1]=arguments[ht];return o(Y,G,it)}}function $(Y){return function(){for(var G=arguments.length,st=new Array(G),it=0;it<G;it++)st[it]=arguments[it];return i(Y,st)}}function C(Y,G){let st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l;t&&t(Y,null);let it=G.length;for(;it--;){let ht=G[it];if(typeof ht=="string"){let j=st(ht);j!==ht&&(d(G)||(G[it]=j),ht=j)}Y[ht]=!0}return Y}function _(Y){for(let G=0;G<Y.length;G++)A(Y,G)||(Y[G]=null);return Y}function y(Y){let G=c(null);for(let[st,it]of e(Y))A(Y,st)&&(Array.isArray(it)?G[st]=_(it):it&&typeof it=="object"&&it.constructor===Object?G[st]=y(it):G[st]=it);return G}function w(Y,G){for(;Y!==null;){let it=m(Y,G);if(it){if(it.get)return L(it.get);if(typeof it.value=="function")return L(it.value)}Y=p(Y)}function st(){return null}return st}let b=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=h(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),I=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=h(["#text"]),O=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),N=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),z=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=s(/<%[\w\W]*|[\w\W]*%>/gm),W=s(/\${[\w\W]*}/gm),q=s(/^data-[\-\w.\u00B7-\uFFFF]/),X=s(/^aria-[\-\w]+$/),Z=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nt=s(/^(?:\w+script|data):/i),ot=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yt=s(/^html$/i),Et=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var vt=Object.freeze({__proto__:null,MUSTACHE_EXPR:z,ERB_EXPR:U,TMPLIT_EXPR:W,DATA_ATTR:q,ARIA_ATTR:X,IS_ALLOWED_URI:Z,IS_SCRIPT_OR_DATA:nt,ATTR_WHITESPACE:ot,DOCTYPE_NAME:yt,CUSTOM_ELEMENT:Et});let H={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},J=function(){return typeof window>"u"?null:window},at=function(G,st){if(typeof G!="object"||typeof G.createPolicy!="function")return null;let it=null,ht="data-tt-policy-suffix";st&&st.hasAttribute(ht)&&(it=st.getAttribute(ht));let j="dompurify"+(it?"#"+it:"");try{return G.createPolicy(j,{createHTML(K){return K},createScriptURL(K){return K}})}catch{return console.warn("TrustedTypes policy "+j+" could not be created."),null}};function tt(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J(),G=ut=>tt(ut);if(G.version="3.1.6",G.removed=[],!Y||!Y.document||Y.document.nodeType!==H.document)return G.isSupported=!1,G;let{document:st}=Y,it=st,ht=it.currentScript,{DocumentFragment:j,HTMLTemplateElement:K,Node:rt,Element:ft,NodeFilter:xt,NamedNodeMap:$t=Y.NamedNodeMap||Y.MozNamedAttrMap,HTMLFormElement:Mt,DOMParser:It,trustedTypes:Ot}=Y,At=ft.prototype,Gt=w(At,"cloneNode"),Ze=w(At,"remove"),pe=w(At,"nextSibling"),Ti=w(At,"childNodes"),qe=w(At,"parentNode");if(typeof K=="function"){let ut=st.createElement("template");ut.content&&ut.content.ownerDocument&&(st=ut.content.ownerDocument)}let Se,go="",{implementation:Wo,createNodeIterator:Ci,createDocumentFragment:bo,getElementsByTagName:ue}=st,{importNode:oe}=it,Qt={};G.isSupported=typeof e=="function"&&typeof qe=="function"&&Wo&&Wo.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:_e,ERB_EXPR:he,TMPLIT_EXPR:ie,DATA_ATTR:pr,ARIA_ATTR:ur,IS_SCRIPT_OR_DATA:Zr,ATTR_WHITESPACE:yl,CUSTOM_ELEMENT:Cu}=vt,{IS_ALLOWED_URI:wl}=vt,ve=null,xl=C({},[...b,...k,...T,...R,...D]),ye=null,kl=C({},[...O,...N,...P,...F]),ne=Object.seal(c(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Si=null,ya=null,El=!0,wa=!0,Tl=!1,Cl=!0,Uo=!1,xa=!0,ho=!1,ka=!1,Ea=!1,Vo=!1,mn=!1,gn=!1,Sl=!0,_l=!1,Su="user-content-",Ta=!0,_i=!1,Go={},Ko=null,Al=C({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ll=null,$l=C({},["audio","video","img","source","image","track"]),Ca=null,Ml=C({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),bn="http://www.w3.org/1998/Math/MathML",hn="http://www.w3.org/2000/svg",Pr="http://www.w3.org/1999/xhtml",Yo=Pr,Sa=!1,_a=null,_u=C({},[bn,hn,Pr],u),Ai=null,Au=["application/xhtml+xml","text/html"],Lu="text/html",we=null,Xo=null,$u=st.createElement("form"),Rl=function(B){return B instanceof RegExp||B instanceof Function},Aa=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Xo&&Xo===B)){if((!B||typeof B!="object")&&(B={}),B=y(B),Ai=Au.indexOf(B.PARSER_MEDIA_TYPE)===-1?Lu:B.PARSER_MEDIA_TYPE,we=Ai==="application/xhtml+xml"?u:l,ve=A(B,"ALLOWED_TAGS")?C({},B.ALLOWED_TAGS,we):xl,ye=A(B,"ALLOWED_ATTR")?C({},B.ALLOWED_ATTR,we):kl,_a=A(B,"ALLOWED_NAMESPACES")?C({},B.ALLOWED_NAMESPACES,u):_u,Ca=A(B,"ADD_URI_SAFE_ATTR")?C(y(Ml),B.ADD_URI_SAFE_ATTR,we):Ml,Ll=A(B,"ADD_DATA_URI_TAGS")?C(y($l),B.ADD_DATA_URI_TAGS,we):$l,Ko=A(B,"FORBID_CONTENTS")?C({},B.FORBID_CONTENTS,we):Al,Si=A(B,"FORBID_TAGS")?C({},B.FORBID_TAGS,we):{},ya=A(B,"FORBID_ATTR")?C({},B.FORBID_ATTR,we):{},Go=A(B,"USE_PROFILES")?B.USE_PROFILES:!1,El=B.ALLOW_ARIA_ATTR!==!1,wa=B.ALLOW_DATA_ATTR!==!1,Tl=B.ALLOW_UNKNOWN_PROTOCOLS||!1,Cl=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Uo=B.SAFE_FOR_TEMPLATES||!1,xa=B.SAFE_FOR_XML!==!1,ho=B.WHOLE_DOCUMENT||!1,Vo=B.RETURN_DOM||!1,mn=B.RETURN_DOM_FRAGMENT||!1,gn=B.RETURN_TRUSTED_TYPE||!1,Ea=B.FORCE_BODY||!1,Sl=B.SANITIZE_DOM!==!1,_l=B.SANITIZE_NAMED_PROPS||!1,Ta=B.KEEP_CONTENT!==!1,_i=B.IN_PLACE||!1,wl=B.ALLOWED_URI_REGEXP||Z,Yo=B.NAMESPACE||Pr,ne=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&Rl(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ne.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&Rl(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ne.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ne.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Uo&&(wa=!1),mn&&(Vo=!0),Go&&(ve=C({},D),ye=[],Go.html===!0&&(C(ve,b),C(ye,O)),Go.svg===!0&&(C(ve,k),C(ye,N),C(ye,F)),Go.svgFilters===!0&&(C(ve,T),C(ye,N),C(ye,F)),Go.mathMl===!0&&(C(ve,R),C(ye,P),C(ye,F))),B.ADD_TAGS&&(ve===xl&&(ve=y(ve)),C(ve,B.ADD_TAGS,we)),B.ADD_ATTR&&(ye===kl&&(ye=y(ye)),C(ye,B.ADD_ATTR,we)),B.ADD_URI_SAFE_ATTR&&C(Ca,B.ADD_URI_SAFE_ATTR,we),B.FORBID_CONTENTS&&(Ko===Al&&(Ko=y(Ko)),C(Ko,B.FORBID_CONTENTS,we)),Ta&&(ve["#text"]=!0),ho&&C(ve,["html","head","body"]),ve.table&&(C(ve,["tbody"]),delete Si.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw f('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw f('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Se=B.TRUSTED_TYPES_POLICY,go=Se.createHTML("")}else Se===void 0&&(Se=at(Ot,ht)),Se!==null&&typeof go=="string"&&(go=Se.createHTML(""));h&&h(B),Xo=B}},Il=C({},["mi","mo","mn","ms","mtext"]),Ol=C({},["foreignobject","annotation-xml"]),Mu=C({},["title","style","font","a","script"]),Dl=C({},[...k,...T,...M]),Pl=C({},[...R,...I]),Ru=function(B){let et=qe(B);(!et||!et.tagName)&&(et={namespaceURI:Yo,tagName:"template"});let dt=l(B.tagName),Kt=l(et.tagName);return _a[B.namespaceURI]?B.namespaceURI===hn?et.namespaceURI===Pr?dt==="svg":et.namespaceURI===bn?dt==="svg"&&(Kt==="annotation-xml"||Il[Kt]):!!Dl[dt]:B.namespaceURI===bn?et.namespaceURI===Pr?dt==="math":et.namespaceURI===hn?dt==="math"&&Ol[Kt]:!!Pl[dt]:B.namespaceURI===Pr?et.namespaceURI===hn&&!Ol[Kt]||et.namespaceURI===bn&&!Il[Kt]?!1:!Pl[dt]&&(Mu[dt]||!Dl[dt]):!!(Ai==="application/xhtml+xml"&&_a[B.namespaceURI]):!1},Cr=function(B){n(G.removed,{element:B});try{qe(B).removeChild(B)}catch{Ze(B)}},fn=function(B,et){try{n(G.removed,{attribute:et.getAttributeNode(B),from:et})}catch{n(G.removed,{attribute:null,from:et})}if(et.removeAttribute(B),B==="is"&&!ye[B])if(Vo||mn)try{Cr(et)}catch{}else try{et.setAttribute(B,"")}catch{}},Nl=function(B){let et=null,dt=null;if(Ea)B="<remove></remove>"+B;else{let Ae=g(B,/^[\r\n\t ]+/);dt=Ae&&Ae[0]}Ai==="application/xhtml+xml"&&Yo===Pr&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");let Kt=Se?Se.createHTML(B):B;if(Yo===Pr)try{et=new It().parseFromString(Kt,Ai)}catch{}if(!et||!et.documentElement){et=Wo.createDocument(Yo,"template",null);try{et.documentElement.innerHTML=Sa?go:Kt}catch{}}let Me=et.body||et.documentElement;return B&&dt&&Me.insertBefore(st.createTextNode(dt),Me.childNodes[0]||null),Yo===Pr?ue.call(et,ho?"html":"body")[0]:ho?et.documentElement:Me},Fl=function(B){return Ci.call(B.ownerDocument||B,B,xt.SHOW_ELEMENT|xt.SHOW_COMMENT|xt.SHOW_TEXT|xt.SHOW_PROCESSING_INSTRUCTION|xt.SHOW_CDATA_SECTION,null)},zl=function(B){return B instanceof Mt&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof $t)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},Bl=function(B){return typeof rt=="function"&&B instanceof rt},Nr=function(B,et,dt){Qt[B]&&r(Qt[B],Kt=>{Kt.call(G,et,dt,Xo)})},Hl=function(B){let et=null;if(Nr("beforeSanitizeElements",B,null),zl(B))return Cr(B),!0;let dt=we(B.nodeName);if(Nr("uponSanitizeElement",B,{tagName:dt,allowedTags:ve}),B.hasChildNodes()&&!Bl(B.firstElementChild)&&S(/<[/\w]/g,B.innerHTML)&&S(/<[/\w]/g,B.textContent)||B.nodeType===H.progressingInstruction||xa&&B.nodeType===H.comment&&S(/<[/\w]/g,B.data))return Cr(B),!0;if(!ve[dt]||Si[dt]){if(!Si[dt]&&Wl(dt)&&(ne.tagNameCheck instanceof RegExp&&S(ne.tagNameCheck,dt)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(dt)))return!1;if(Ta&&!Ko[dt]){let Kt=qe(B)||B.parentNode,Me=Ti(B)||B.childNodes;if(Me&&Kt){let Ae=Me.length;for(let Be=Ae-1;Be>=0;--Be){let Sr=Gt(Me[Be],!0);Sr.__removalCount=(B.__removalCount||0)+1,Kt.insertBefore(Sr,pe(B))}}}return Cr(B),!0}return B instanceof ft&&!Ru(B)||(dt==="noscript"||dt==="noembed"||dt==="noframes")&&S(/<\/no(script|embed|frames)/i,B.innerHTML)?(Cr(B),!0):(Uo&&B.nodeType===H.text&&(et=B.textContent,r([_e,he,ie],Kt=>{et=v(et,Kt," ")}),B.textContent!==et&&(n(G.removed,{element:B.cloneNode()}),B.textContent=et)),Nr("afterSanitizeElements",B,null),!1)},jl=function(B,et,dt){if(Sl&&(et==="id"||et==="name")&&(dt in st||dt in $u))return!1;if(!(wa&&!ya[et]&&S(pr,et))){if(!(El&&S(ur,et))){if(!ye[et]||ya[et]){if(!(Wl(B)&&(ne.tagNameCheck instanceof RegExp&&S(ne.tagNameCheck,B)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(B))&&(ne.attributeNameCheck instanceof RegExp&&S(ne.attributeNameCheck,et)||ne.attributeNameCheck instanceof Function&&ne.attributeNameCheck(et))||et==="is"&&ne.allowCustomizedBuiltInElements&&(ne.tagNameCheck instanceof RegExp&&S(ne.tagNameCheck,dt)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(dt))))return!1}else if(!Ca[et]){if(!S(wl,v(dt,yl,""))){if(!((et==="src"||et==="xlink:href"||et==="href")&&B!=="script"&&E(dt,"data:")===0&&Ll[B])){if(!(Tl&&!S(Zr,v(dt,yl,"")))){if(dt)return!1}}}}}}return!0},Wl=function(B){return B!=="annotation-xml"&&g(B,Cu)},Ul=function(B){Nr("beforeSanitizeAttributes",B,null);let{attributes:et}=B;if(!et)return;let dt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye},Kt=et.length;for(;Kt--;){let Me=et[Kt],{name:Ae,namespaceURI:Be,value:Sr}=Me,Li=we(Ae),Pe=Ae==="value"?Sr:x(Sr);if(dt.attrName=Li,dt.attrValue=Pe,dt.keepAttr=!0,dt.forceKeepAttr=void 0,Nr("uponSanitizeAttribute",B,dt),Pe=dt.attrValue,xa&&S(/((--!?|])>)|<\/(style|title)/i,Pe)){fn(Ae,B);continue}if(dt.forceKeepAttr||(fn(Ae,B),!dt.keepAttr))continue;if(!Cl&&S(/\/>/i,Pe)){fn(Ae,B);continue}Uo&&r([_e,he,ie],Gl=>{Pe=v(Pe,Gl," ")});let Vl=we(B.nodeName);if(jl(Vl,Li,Pe)){if(_l&&(Li==="id"||Li==="name")&&(fn(Ae,B),Pe=Su+Pe),Se&&typeof Ot=="object"&&typeof Ot.getAttributeType=="function"&&!Be)switch(Ot.getAttributeType(Vl,Li)){case"TrustedHTML":{Pe=Se.createHTML(Pe);break}case"TrustedScriptURL":{Pe=Se.createScriptURL(Pe);break}}try{Be?B.setAttributeNS(Be,Ae,Pe):B.setAttribute(Ae,Pe),zl(B)?Cr(B):a(G.removed)}catch{}}}Nr("afterSanitizeAttributes",B,null)},Iu=function ut(B){let et=null,dt=Fl(B);for(Nr("beforeSanitizeShadowDOM",B,null);et=dt.nextNode();)Nr("uponSanitizeShadowNode",et,null),!Hl(et)&&(et.content instanceof j&&ut(et.content),Ul(et));Nr("afterSanitizeShadowDOM",B,null)};return G.sanitize=function(ut){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=null,dt=null,Kt=null,Me=null;if(Sa=!ut,Sa&&(ut="<!-->"),typeof ut!="string"&&!Bl(ut))if(typeof ut.toString=="function"){if(ut=ut.toString(),typeof ut!="string")throw f("dirty is not a string, aborting")}else throw f("toString is not a function");if(!G.isSupported)return ut;if(ka||Aa(B),G.removed=[],typeof ut=="string"&&(_i=!1),_i){if(ut.nodeName){let Sr=we(ut.nodeName);if(!ve[Sr]||Si[Sr])throw f("root node is forbidden and cannot be sanitized in-place")}}else if(ut instanceof rt)et=Nl("<!---->"),dt=et.ownerDocument.importNode(ut,!0),dt.nodeType===H.element&&dt.nodeName==="BODY"||dt.nodeName==="HTML"?et=dt:et.appendChild(dt);else{if(!Vo&&!Uo&&!ho&&ut.indexOf("<")===-1)return Se&&gn?Se.createHTML(ut):ut;if(et=Nl(ut),!et)return Vo?null:gn?go:""}et&&Ea&&Cr(et.firstChild);let Ae=Fl(_i?ut:et);for(;Kt=Ae.nextNode();)Hl(Kt)||(Kt.content instanceof j&&Iu(Kt.content),Ul(Kt));if(_i)return ut;if(Vo){if(mn)for(Me=bo.call(et.ownerDocument);et.firstChild;)Me.appendChild(et.firstChild);else Me=et;return(ye.shadowroot||ye.shadowrootmode)&&(Me=oe.call(it,Me,!0)),Me}let Be=ho?et.outerHTML:et.innerHTML;return ho&&ve["!doctype"]&&et.ownerDocument&&et.ownerDocument.doctype&&et.ownerDocument.doctype.name&&S(yt,et.ownerDocument.doctype.name)&&(Be="<!DOCTYPE "+et.ownerDocument.doctype.name+`>
`+Be),Uo&&r([_e,he,ie],Sr=>{Be=v(Be,Sr," ")}),Se&&gn?Se.createHTML(Be):Be},G.setConfig=function(){let ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Aa(ut),ka=!0},G.clearConfig=function(){Xo=null,ka=!1},G.isValidAttribute=function(ut,B,et){Xo||Aa({});let dt=we(ut),Kt=we(B);return jl(dt,Kt,et)},G.addHook=function(ut,B){typeof B=="function"&&(Qt[ut]=Qt[ut]||[],n(Qt[ut],B))},G.removeHook=function(ut){if(Qt[ut])return a(Qt[ut])},G.removeHooks=function(ut){Qt[ut]&&(Qt[ut]=[])},G.removeAllHooks=function(){Qt={}},G}var ct=tt();return ct})});var Ln={};zu(Ln,{afterMain:()=>Zl,afterRead:()=>Xl,afterWrite:()=>ed,applyStyles:()=>Qo,arrow:()=>xn,auto:()=>$i,basePlacements:()=>Fr,beforeMain:()=>Jl,beforeRead:()=>Kl,beforeWrite:()=>ql,bottom:()=>me,clippingParents:()=>$a,computeStyles:()=>qo,createPopper:()=>zi,createPopperBase:()=>cd,createPopperLite:()=>pd,detectOverflow:()=>Fe,end:()=>qr,eventListeners:()=>ti,flip:()=>Cn,hide:()=>Sn,left:()=>re,main:()=>Ql,modifierPhases:()=>Ra,offset:()=>_n,placements:()=>Ri,popper:()=>fo,popperGenerator:()=>Co,popperOffsets:()=>oi,preventOverflow:()=>An,read:()=>Yl,reference:()=>Ma,right:()=>ae,start:()=>_r,top:()=>ee,variationPlacements:()=>wn,viewport:()=>Mi,write:()=>td});var ee="top",me="bottom",ae="right",re="left",$i="auto",Fr=[ee,me,ae,re],_r="start",qr="end",$a="clippingParents",Mi="viewport",fo="popper",Ma="reference",wn=Fr.reduce(function(e,t){return e.concat([t+"-"+_r,t+"-"+qr])},[]),Ri=[].concat(Fr,[$i]).reduce(function(e,t){return e.concat([t,t+"-"+_r,t+"-"+qr])},[]),Kl="beforeRead",Yl="read",Xl="afterRead",Jl="beforeMain",Ql="main",Zl="afterMain",ql="beforeWrite",td="write",ed="afterWrite",Ra=[Kl,Yl,Xl,Jl,Ql,Zl,ql,td,ed];function xe(e){return e?(e.nodeName||"").toLowerCase():null}function Zt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function tr(e){var t=Zt(e).Element;return e instanceof t||e instanceof Element}function fe(e){var t=Zt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Jo(e){if(typeof ShadowRoot>"u")return!1;var t=Zt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Hu(e){var t=e.state;Object.keys(t.elements).forEach(function(d){var p=t.styles[d]||{},m=t.attributes[d]||{},h=t.elements[d];!fe(h)||!xe(h)||(Object.assign(h.style,p),Object.keys(m).forEach(function(s){var c=m[s];c===!1?h.removeAttribute(s):h.setAttribute(s,c===!0?"":c)}))})}function ju(e){var t=e.state,d={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,d.popper),t.styles=d,t.elements.arrow&&Object.assign(t.elements.arrow.style,d.arrow),function(){Object.keys(t.elements).forEach(function(p){var m=t.elements[p],h=t.attributes[p]||{},s=Object.keys(t.styles.hasOwnProperty(p)?t.styles[p]:d[p]),c=s.reduce(function(o,i){return o[i]="",o},{});!fe(m)||!xe(m)||(Object.assign(m.style,c),Object.keys(h).forEach(function(o){m.removeAttribute(o)}))})}}var Qo={name:"applyStyles",enabled:!0,phase:"write",fn:Hu,effect:ju,requires:["computeStyles"]};function ke(e){return e.split("-")[0]}var mr=Math.max,vo=Math.min,zr=Math.round;function Zo(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ii(){return!/^((?!chrome|android).)*safari/i.test(Zo())}function er(e,t,d){t===void 0&&(t=!1),d===void 0&&(d=!1);var p=e.getBoundingClientRect(),m=1,h=1;t&&fe(e)&&(m=e.offsetWidth>0&&zr(p.width)/e.offsetWidth||1,h=e.offsetHeight>0&&zr(p.height)/e.offsetHeight||1);var s=tr(e)?Zt(e):window,c=s.visualViewport,o=!Ii()&&d,i=(p.left+(o&&c?c.offsetLeft:0))/m,r=(p.top+(o&&c?c.offsetTop:0))/h,a=p.width/m,n=p.height/h;return{width:a,height:n,top:r,right:i+a,bottom:r+n,left:i,x:i,y:r}}function yo(e){var t=er(e),d=e.offsetWidth,p=e.offsetHeight;return Math.abs(t.width-d)<=1&&(d=t.width),Math.abs(t.height-p)<=1&&(p=t.height),{x:e.offsetLeft,y:e.offsetTop,width:d,height:p}}function Oi(e,t){var d=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(d&&Jo(d)){var p=t;do{if(p&&e.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function Ne(e){return Zt(e).getComputedStyle(e)}function Ia(e){return["table","td","th"].indexOf(xe(e))>=0}function Le(e){return((tr(e)?e.ownerDocument:e.document)||window.document).documentElement}function Br(e){return xe(e)==="html"?e:e.assignedSlot||e.parentNode||(Jo(e)?e.host:null)||Le(e)}function rd(e){return!fe(e)||Ne(e).position==="fixed"?null:e.offsetParent}function Wu(e){var t=/firefox/i.test(Zo()),d=/Trident/i.test(Zo());if(d&&fe(e)){var p=Ne(e);if(p.position==="fixed")return null}var m=Br(e);for(Jo(m)&&(m=m.host);fe(m)&&["html","body"].indexOf(xe(m))<0;){var h=Ne(m);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||t&&h.willChange==="filter"||t&&h.filter&&h.filter!=="none")return m;m=m.parentNode}return null}function gr(e){for(var t=Zt(e),d=rd(e);d&&Ia(d)&&Ne(d).position==="static";)d=rd(d);return d&&(xe(d)==="html"||xe(d)==="body"&&Ne(d).position==="static")?t:d||Wu(e)||t}function wo(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function xo(e,t,d){return mr(e,vo(t,d))}function od(e,t,d){var p=xo(e,t,d);return p>d?d:p}function Di(){return{top:0,right:0,bottom:0,left:0}}function Pi(e){return Object.assign({},Di(),e)}function Ni(e,t){return t.reduce(function(d,p){return d[p]=e,d},{})}var Uu=function(t,d){return t=typeof t=="function"?t(Object.assign({},d.rects,{placement:d.placement})):t,Pi(typeof t!="number"?t:Ni(t,Fr))};function Vu(e){var t,d=e.state,p=e.name,m=e.options,h=d.elements.arrow,s=d.modifiersData.popperOffsets,c=ke(d.placement),o=wo(c),i=[re,ae].indexOf(c)>=0,r=i?"height":"width";if(!(!h||!s)){var a=Uu(m.padding,d),n=yo(h),l=o==="y"?ee:re,u=o==="y"?me:ae,g=d.rects.reference[r]+d.rects.reference[o]-s[o]-d.rects.popper[r],v=s[o]-d.rects.reference[o],E=gr(h),x=E?o==="y"?E.clientHeight||0:E.clientWidth||0:0,A=g/2-v/2,S=a[l],f=x-n[r]-a[u],L=x/2-n[r]/2+A,$=xo(S,L,f),C=o;d.modifiersData[p]=(t={},t[C]=$,t.centerOffset=$-L,t)}}function Gu(e){var t=e.state,d=e.options,p=d.element,m=p===void 0?"[data-popper-arrow]":p;m!=null&&(typeof m=="string"&&(m=t.elements.popper.querySelector(m),!m)||Oi(t.elements.popper,m)&&(t.elements.arrow=m))}var xn={name:"arrow",enabled:!0,phase:"main",fn:Vu,effect:Gu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rr(e){return e.split("-")[1]}var Ku={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yu(e,t){var d=e.x,p=e.y,m=t.devicePixelRatio||1;return{x:zr(d*m)/m||0,y:zr(p*m)/m||0}}function id(e){var t,d=e.popper,p=e.popperRect,m=e.placement,h=e.variation,s=e.offsets,c=e.position,o=e.gpuAcceleration,i=e.adaptive,r=e.roundOffsets,a=e.isFixed,n=s.x,l=n===void 0?0:n,u=s.y,g=u===void 0?0:u,v=typeof r=="function"?r({x:l,y:g}):{x:l,y:g};l=v.x,g=v.y;var E=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),A=re,S=ee,f=window;if(i){var L=gr(d),$="clientHeight",C="clientWidth";if(L===Zt(d)&&(L=Le(d),Ne(L).position!=="static"&&c==="absolute"&&($="scrollHeight",C="scrollWidth")),L=L,m===ee||(m===re||m===ae)&&h===qr){S=me;var _=a&&L===f&&f.visualViewport?f.visualViewport.height:L[$];g-=_-p.height,g*=o?1:-1}if(m===re||(m===ee||m===me)&&h===qr){A=ae;var y=a&&L===f&&f.visualViewport?f.visualViewport.width:L[C];l-=y-p.width,l*=o?1:-1}}var w=Object.assign({position:c},i&&Ku),b=r===!0?Yu({x:l,y:g},Zt(d)):{x:l,y:g};if(l=b.x,g=b.y,o){var k;return Object.assign({},w,(k={},k[S]=x?"0":"",k[A]=E?"0":"",k.transform=(f.devicePixelRatio||1)<=1?"translate("+l+"px, "+g+"px)":"translate3d("+l+"px, "+g+"px, 0)",k))}return Object.assign({},w,(t={},t[S]=x?g+"px":"",t[A]=E?l+"px":"",t.transform="",t))}function Xu(e){var t=e.state,d=e.options,p=d.gpuAcceleration,m=p===void 0?!0:p,h=d.adaptive,s=h===void 0?!0:h,c=d.roundOffsets,o=c===void 0?!0:c,i={placement:ke(t.placement),variation:rr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:m,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,id(Object.assign({},i,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:o})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,id(Object.assign({},i,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var qo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xu,data:{}};var kn={passive:!0};function Ju(e){var t=e.state,d=e.instance,p=e.options,m=p.scroll,h=m===void 0?!0:m,s=p.resize,c=s===void 0?!0:s,o=Zt(t.elements.popper),i=[].concat(t.scrollParents.reference,t.scrollParents.popper);return h&&i.forEach(function(r){r.addEventListener("scroll",d.update,kn)}),c&&o.addEventListener("resize",d.update,kn),function(){h&&i.forEach(function(r){r.removeEventListener("scroll",d.update,kn)}),c&&o.removeEventListener("resize",d.update,kn)}}var ti={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ju,data:{}};var Qu={left:"right",right:"left",bottom:"top",top:"bottom"};function ei(e){return e.replace(/left|right|bottom|top/g,function(t){return Qu[t]})}var Zu={start:"end",end:"start"};function En(e){return e.replace(/start|end/g,function(t){return Zu[t]})}function ko(e){var t=Zt(e),d=t.pageXOffset,p=t.pageYOffset;return{scrollLeft:d,scrollTop:p}}function Eo(e){return er(Le(e)).left+ko(e).scrollLeft}function Oa(e,t){var d=Zt(e),p=Le(e),m=d.visualViewport,h=p.clientWidth,s=p.clientHeight,c=0,o=0;if(m){h=m.width,s=m.height;var i=Ii();(i||!i&&t==="fixed")&&(c=m.offsetLeft,o=m.offsetTop)}return{width:h,height:s,x:c+Eo(e),y:o}}function Da(e){var t,d=Le(e),p=ko(e),m=(t=e.ownerDocument)==null?void 0:t.body,h=mr(d.scrollWidth,d.clientWidth,m?m.scrollWidth:0,m?m.clientWidth:0),s=mr(d.scrollHeight,d.clientHeight,m?m.scrollHeight:0,m?m.clientHeight:0),c=-p.scrollLeft+Eo(e),o=-p.scrollTop;return Ne(m||d).direction==="rtl"&&(c+=mr(d.clientWidth,m?m.clientWidth:0)-h),{width:h,height:s,x:c,y:o}}function To(e){var t=Ne(e),d=t.overflow,p=t.overflowX,m=t.overflowY;return/auto|scroll|overlay|hidden/.test(d+m+p)}function Tn(e){return["html","body","#document"].indexOf(xe(e))>=0?e.ownerDocument.body:fe(e)&&To(e)?e:Tn(Br(e))}function to(e,t){var d;t===void 0&&(t=[]);var p=Tn(e),m=p===((d=e.ownerDocument)==null?void 0:d.body),h=Zt(p),s=m?[h].concat(h.visualViewport||[],To(p)?p:[]):p,c=t.concat(s);return m?c:c.concat(to(Br(s)))}function ri(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qu(e,t){var d=er(e,!1,t==="fixed");return d.top=d.top+e.clientTop,d.left=d.left+e.clientLeft,d.bottom=d.top+e.clientHeight,d.right=d.left+e.clientWidth,d.width=e.clientWidth,d.height=e.clientHeight,d.x=d.left,d.y=d.top,d}function nd(e,t,d){return t===Mi?ri(Oa(e,d)):tr(t)?qu(t,d):ri(Da(Le(e)))}function tm(e){var t=to(Br(e)),d=["absolute","fixed"].indexOf(Ne(e).position)>=0,p=d&&fe(e)?gr(e):e;return tr(p)?t.filter(function(m){return tr(m)&&Oi(m,p)&&xe(m)!=="body"}):[]}function Pa(e,t,d,p){var m=t==="clippingParents"?tm(e):[].concat(t),h=[].concat(m,[d]),s=h[0],c=h.reduce(function(o,i){var r=nd(e,i,p);return o.top=mr(r.top,o.top),o.right=vo(r.right,o.right),o.bottom=vo(r.bottom,o.bottom),o.left=mr(r.left,o.left),o},nd(e,s,p));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Fi(e){var t=e.reference,d=e.element,p=e.placement,m=p?ke(p):null,h=p?rr(p):null,s=t.x+t.width/2-d.width/2,c=t.y+t.height/2-d.height/2,o;switch(m){case ee:o={x:s,y:t.y-d.height};break;case me:o={x:s,y:t.y+t.height};break;case ae:o={x:t.x+t.width,y:c};break;case re:o={x:t.x-d.width,y:c};break;default:o={x:t.x,y:t.y}}var i=m?wo(m):null;if(i!=null){var r=i==="y"?"height":"width";switch(h){case _r:o[i]=o[i]-(t[r]/2-d[r]/2);break;case qr:o[i]=o[i]+(t[r]/2-d[r]/2);break;default:}}return o}function Fe(e,t){t===void 0&&(t={});var d=t,p=d.placement,m=p===void 0?e.placement:p,h=d.strategy,s=h===void 0?e.strategy:h,c=d.boundary,o=c===void 0?$a:c,i=d.rootBoundary,r=i===void 0?Mi:i,a=d.elementContext,n=a===void 0?fo:a,l=d.altBoundary,u=l===void 0?!1:l,g=d.padding,v=g===void 0?0:g,E=Pi(typeof v!="number"?v:Ni(v,Fr)),x=n===fo?Ma:fo,A=e.rects.popper,S=e.elements[u?x:n],f=Pa(tr(S)?S:S.contextElement||Le(e.elements.popper),o,r,s),L=er(e.elements.reference),$=Fi({reference:L,element:A,strategy:"absolute",placement:m}),C=ri(Object.assign({},A,$)),_=n===fo?C:L,y={top:f.top-_.top+E.top,bottom:_.bottom-f.bottom+E.bottom,left:f.left-_.left+E.left,right:_.right-f.right+E.right},w=e.modifiersData.offset;if(n===fo&&w){var b=w[m];Object.keys(y).forEach(function(k){var T=[ae,me].indexOf(k)>=0?1:-1,M=[ee,me].indexOf(k)>=0?"y":"x";y[k]+=b[M]*T})}return y}function Na(e,t){t===void 0&&(t={});var d=t,p=d.placement,m=d.boundary,h=d.rootBoundary,s=d.padding,c=d.flipVariations,o=d.allowedAutoPlacements,i=o===void 0?Ri:o,r=rr(p),a=r?c?wn:wn.filter(function(u){return rr(u)===r}):Fr,n=a.filter(function(u){return i.indexOf(u)>=0});n.length===0&&(n=a);var l=n.reduce(function(u,g){return u[g]=Fe(e,{placement:g,boundary:m,rootBoundary:h,padding:s})[ke(g)],u},{});return Object.keys(l).sort(function(u,g){return l[u]-l[g]})}function em(e){if(ke(e)===$i)return[];var t=ei(e);return[En(e),t,En(t)]}function rm(e){var t=e.state,d=e.options,p=e.name;if(!t.modifiersData[p]._skip){for(var m=d.mainAxis,h=m===void 0?!0:m,s=d.altAxis,c=s===void 0?!0:s,o=d.fallbackPlacements,i=d.padding,r=d.boundary,a=d.rootBoundary,n=d.altBoundary,l=d.flipVariations,u=l===void 0?!0:l,g=d.allowedAutoPlacements,v=t.options.placement,E=ke(v),x=E===v,A=o||(x||!u?[ei(v)]:em(v)),S=[v].concat(A).reduce(function(U,W){return U.concat(ke(W)===$i?Na(t,{placement:W,boundary:r,rootBoundary:a,padding:i,flipVariations:u,allowedAutoPlacements:g}):W)},[]),f=t.rects.reference,L=t.rects.popper,$=new Map,C=!0,_=S[0],y=0;y<S.length;y++){var w=S[y],b=ke(w),k=rr(w)===_r,T=[ee,me].indexOf(b)>=0,M=T?"width":"height",R=Fe(t,{placement:w,boundary:r,rootBoundary:a,altBoundary:n,padding:i}),I=T?k?ae:re:k?me:ee;f[M]>L[M]&&(I=ei(I));var D=ei(I),O=[];if(h&&O.push(R[b]<=0),c&&O.push(R[I]<=0,R[D]<=0),O.every(function(U){return U})){_=w,C=!1;break}$.set(w,O)}if(C)for(var N=u?3:1,P=function(W){var q=S.find(function(X){var Z=$.get(X);if(Z)return Z.slice(0,W).every(function(nt){return nt})});if(q)return _=q,"break"},F=N;F>0;F--){var z=P(F);if(z==="break")break}t.placement!==_&&(t.modifiersData[p]._skip=!0,t.placement=_,t.reset=!0)}}var Cn={name:"flip",enabled:!0,phase:"main",fn:rm,requiresIfExists:["offset"],data:{_skip:!1}};function ad(e,t,d){return d===void 0&&(d={x:0,y:0}),{top:e.top-t.height-d.y,right:e.right-t.width+d.x,bottom:e.bottom-t.height+d.y,left:e.left-t.width-d.x}}function sd(e){return[ee,ae,me,re].some(function(t){return e[t]>=0})}function om(e){var t=e.state,d=e.name,p=t.rects.reference,m=t.rects.popper,h=t.modifiersData.preventOverflow,s=Fe(t,{elementContext:"reference"}),c=Fe(t,{altBoundary:!0}),o=ad(s,p),i=ad(c,m,h),r=sd(o),a=sd(i);t.modifiersData[d]={referenceClippingOffsets:o,popperEscapeOffsets:i,isReferenceHidden:r,hasPopperEscaped:a},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":r,"data-popper-escaped":a})}var Sn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:om};function im(e,t,d){var p=ke(e),m=[re,ee].indexOf(p)>=0?-1:1,h=typeof d=="function"?d(Object.assign({},t,{placement:e})):d,s=h[0],c=h[1];return s=s||0,c=(c||0)*m,[re,ae].indexOf(p)>=0?{x:c,y:s}:{x:s,y:c}}function nm(e){var t=e.state,d=e.options,p=e.name,m=d.offset,h=m===void 0?[0,0]:m,s=Ri.reduce(function(r,a){return r[a]=im(a,t.rects,h),r},{}),c=s[t.placement],o=c.x,i=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=o,t.modifiersData.popperOffsets.y+=i),t.modifiersData[p]=s}var _n={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nm};function am(e){var t=e.state,d=e.name;t.modifiersData[d]=Fi({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var oi={name:"popperOffsets",enabled:!0,phase:"read",fn:am,data:{}};function Fa(e){return e==="x"?"y":"x"}function sm(e){var t=e.state,d=e.options,p=e.name,m=d.mainAxis,h=m===void 0?!0:m,s=d.altAxis,c=s===void 0?!1:s,o=d.boundary,i=d.rootBoundary,r=d.altBoundary,a=d.padding,n=d.tether,l=n===void 0?!0:n,u=d.tetherOffset,g=u===void 0?0:u,v=Fe(t,{boundary:o,rootBoundary:i,padding:a,altBoundary:r}),E=ke(t.placement),x=rr(t.placement),A=!x,S=wo(E),f=Fa(S),L=t.modifiersData.popperOffsets,$=t.rects.reference,C=t.rects.popper,_=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,y=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),w=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,b={x:0,y:0};if(L){if(h){var k,T=S==="y"?ee:re,M=S==="y"?me:ae,R=S==="y"?"height":"width",I=L[S],D=I+v[T],O=I-v[M],N=l?-C[R]/2:0,P=x===_r?$[R]:C[R],F=x===_r?-C[R]:-$[R],z=t.elements.arrow,U=l&&z?yo(z):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Di(),q=W[T],X=W[M],Z=xo(0,$[R],U[R]),nt=A?$[R]/2-N-Z-q-y.mainAxis:P-Z-q-y.mainAxis,ot=A?-$[R]/2+N+Z+X+y.mainAxis:F+Z+X+y.mainAxis,yt=t.elements.arrow&&gr(t.elements.arrow),Et=yt?S==="y"?yt.clientTop||0:yt.clientLeft||0:0,vt=(k=w?.[S])!=null?k:0,H=I+nt-vt-Et,J=I+ot-vt,at=xo(l?vo(D,H):D,I,l?mr(O,J):O);L[S]=at,b[S]=at-I}if(c){var tt,ct=S==="x"?ee:re,Y=S==="x"?me:ae,G=L[f],st=f==="y"?"height":"width",it=G+v[ct],ht=G-v[Y],j=[ee,re].indexOf(E)!==-1,K=(tt=w?.[f])!=null?tt:0,rt=j?it:G-$[st]-C[st]-K+y.altAxis,ft=j?G+$[st]+C[st]-K-y.altAxis:ht,xt=l&&j?od(rt,G,ft):xo(l?rt:it,G,l?ft:ht);L[f]=xt,b[f]=xt-G}t.modifiersData[p]=b}}var An={name:"preventOverflow",enabled:!0,phase:"main",fn:sm,requiresIfExists:["offset"]};function za(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ba(e){return e===Zt(e)||!fe(e)?ko(e):za(e)}function lm(e){var t=e.getBoundingClientRect(),d=zr(t.width)/e.offsetWidth||1,p=zr(t.height)/e.offsetHeight||1;return d!==1||p!==1}function Ha(e,t,d){d===void 0&&(d=!1);var p=fe(t),m=fe(t)&&lm(t),h=Le(t),s=er(e,m,d),c={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(p||!p&&!d)&&((xe(t)!=="body"||To(h))&&(c=Ba(t)),fe(t)?(o=er(t,!0),o.x+=t.clientLeft,o.y+=t.clientTop):h&&(o.x=Eo(h))),{x:s.left+c.scrollLeft-o.x,y:s.top+c.scrollTop-o.y,width:s.width,height:s.height}}function dm(e){var t=new Map,d=new Set,p=[];e.forEach(function(h){t.set(h.name,h)});function m(h){d.add(h.name);var s=[].concat(h.requires||[],h.requiresIfExists||[]);s.forEach(function(c){if(!d.has(c)){var o=t.get(c);o&&m(o)}}),p.push(h)}return e.forEach(function(h){d.has(h.name)||m(h)}),p}function ja(e){var t=dm(e);return Ra.reduce(function(d,p){return d.concat(t.filter(function(m){return m.phase===p}))},[])}function Wa(e){var t;return function(){return t||(t=new Promise(function(d){Promise.resolve().then(function(){t=void 0,d(e())})})),t}}function Ua(e){var t=e.reduce(function(d,p){var m=d[p.name];return d[p.name]=m?Object.assign({},m,p,{options:Object.assign({},m.options,p.options),data:Object.assign({},m.data,p.data)}):p,d},{});return Object.keys(t).map(function(d){return t[d]})}var ld={placement:"bottom",modifiers:[],strategy:"absolute"};function dd(){for(var e=arguments.length,t=new Array(e),d=0;d<e;d++)t[d]=arguments[d];return!t.some(function(p){return!(p&&typeof p.getBoundingClientRect=="function")})}function Co(e){e===void 0&&(e={});var t=e,d=t.defaultModifiers,p=d===void 0?[]:d,m=t.defaultOptions,h=m===void 0?ld:m;return function(c,o,i){i===void 0&&(i=h);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},ld,h),modifiersData:{},elements:{reference:c,popper:o},attributes:{},styles:{}},a=[],n=!1,l={state:r,setOptions:function(E){var x=typeof E=="function"?E(r.options):E;g(),r.options=Object.assign({},h,r.options,x),r.scrollParents={reference:tr(c)?to(c):c.contextElement?to(c.contextElement):[],popper:to(o)};var A=ja(Ua([].concat(p,r.options.modifiers)));return r.orderedModifiers=A.filter(function(S){return S.enabled}),u(),l.update()},forceUpdate:function(){if(!n){var E=r.elements,x=E.reference,A=E.popper;if(dd(x,A)){r.rects={reference:Ha(x,gr(A),r.options.strategy==="fixed"),popper:yo(A)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach(function(y){return r.modifiersData[y.name]=Object.assign({},y.data)});for(var S=0;S<r.orderedModifiers.length;S++){if(r.reset===!0){r.reset=!1,S=-1;continue}var f=r.orderedModifiers[S],L=f.fn,$=f.options,C=$===void 0?{}:$,_=f.name;typeof L=="function"&&(r=L({state:r,options:C,name:_,instance:l})||r)}}}},update:Wa(function(){return new Promise(function(v){l.forceUpdate(),v(r)})}),destroy:function(){g(),n=!0}};if(!dd(c,o))return l;l.setOptions(i).then(function(v){!n&&i.onFirstUpdate&&i.onFirstUpdate(v)});function u(){r.orderedModifiers.forEach(function(v){var E=v.name,x=v.options,A=x===void 0?{}:x,S=v.effect;if(typeof S=="function"){var f=S({state:r,name:E,instance:l,options:A}),L=function(){};a.push(f||L)}})}function g(){a.forEach(function(v){return v()}),a=[]}return l}}var cd=Co();var cm=[ti,oi,qo,Qo],pd=Co({defaultModifiers:cm});var pm=[ti,oi,qo,Qo,_n,Cn,An,xn,Sn],zi=Co({defaultModifiers:pm});var eo=new Map,Va={set(e,t,d){eo.has(e)||eo.set(e,new Map);let p=eo.get(e);if(!p.has(t)&&p.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`);return}p.set(t,d)},get(e,t){return eo.has(e)&&eo.get(e).get(t)||null},remove(e,t){if(!eo.has(e))return;let d=eo.get(e);d.delete(t),d.size===0&&eo.delete(e)}},um=1e6,mm=1e3,as="transitionend",Bd=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,d)=>`#${CSS.escape(d)}`)),e),gm=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),bm=e=>{do e+=Math.floor(Math.random()*um);while(document.getElementById(e));return e},hm=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:d}=window.getComputedStyle(e),p=Number.parseFloat(t),m=Number.parseFloat(d);return!p&&!m?0:(t=t.split(",")[0],d=d.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(d))*mm)},Hd=e=>{e.dispatchEvent(new Event(as))},Hr=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),ro=e=>Hr(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(Bd(e)):null,pi=e=>{if(!Hr(e)||e.getClientRects().length===0)return!1;let t=getComputedStyle(e).getPropertyValue("visibility")==="visible",d=e.closest("details:not([open])");if(!d)return t;if(d!==e){let p=e.closest("summary");if(p&&p.parentNode!==d||p===null)return!1}return t},oo=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",jd=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?jd(e.parentNode):null},Fn=()=>{},Vi=e=>{e.offsetHeight},Wd=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ga=[],fm=e=>{document.readyState==="loading"?(Ga.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of Ga)t()}),Ga.push(e)):e()},or=()=>document.documentElement.dir==="rtl",nr=e=>{fm(()=>{let t=Wd();if(t){let d=e.NAME,p=t.fn[d];t.fn[d]=e.jQueryInterface,t.fn[d].Constructor=e,t.fn[d].noConflict=()=>(t.fn[d]=p,e.jQueryInterface)}})},He=(e,t=[],d=e)=>typeof e=="function"?e(...t):d,Ud=(e,t,d=!0)=>{if(!d){He(e);return}let m=hm(t)+5,h=!1,s=({target:c})=>{c===t&&(h=!0,t.removeEventListener(as,s),He(e))};t.addEventListener(as,s),setTimeout(()=>{h||Hd(t)},m)},ps=(e,t,d,p)=>{let m=e.length,h=e.indexOf(t);return h===-1?!d&&p?e[m-1]:e[0]:(h+=d?1:-1,p&&(h=(h+m)%m),e[Math.max(0,Math.min(h,m-1))])},vm=/[^.]*(?=\..*)\.|.*/,ym=/\..*/,wm=/::\d+$/,Ka={},ud=1,Vd={mouseenter:"mouseover",mouseleave:"mouseout"},xm=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Gd(e,t){return t&&`${t}::${ud++}`||e.uidEvent||ud++}function Kd(e){let t=Gd(e);return e.uidEvent=t,Ka[t]=Ka[t]||{},Ka[t]}function km(e,t){return function d(p){return us(p,{delegateTarget:e}),d.oneOff&&Q.off(e,p.type,t),t.apply(e,[p])}}function Em(e,t,d){return function p(m){let h=e.querySelectorAll(t);for(let{target:s}=m;s&&s!==this;s=s.parentNode)for(let c of h)if(c===s)return us(m,{delegateTarget:s}),p.oneOff&&Q.off(e,m.type,t,d),d.apply(s,[m])}}function Yd(e,t,d=null){return Object.values(e).find(p=>p.callable===t&&p.delegationSelector===d)}function Xd(e,t,d){let p=typeof t=="string",m=p?d:t||d,h=Jd(e);return xm.has(h)||(h=e),[p,m,h]}function md(e,t,d,p,m){if(typeof t!="string"||!e)return;let[h,s,c]=Xd(t,d,p);t in Vd&&(s=(u=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return u.call(this,g)})(s));let o=Kd(e),i=o[c]||(o[c]={}),r=Yd(i,s,h?d:null);if(r){r.oneOff=r.oneOff&&m;return}let a=Gd(s,t.replace(vm,"")),n=h?Em(e,d,s):km(e,s);n.delegationSelector=h?d:null,n.callable=s,n.oneOff=m,n.uidEvent=a,i[a]=n,e.addEventListener(c,n,h)}function ss(e,t,d,p,m){let h=Yd(t[d],p,m);h&&(e.removeEventListener(d,h,!!m),delete t[d][h.uidEvent])}function Tm(e,t,d,p){let m=t[d]||{};for(let[h,s]of Object.entries(m))h.includes(p)&&ss(e,t,d,s.callable,s.delegationSelector)}function Jd(e){return e=e.replace(ym,""),Vd[e]||e}var Q={on(e,t,d,p){md(e,t,d,p,!1)},one(e,t,d,p){md(e,t,d,p,!0)},off(e,t,d,p){if(typeof t!="string"||!e)return;let[m,h,s]=Xd(t,d,p),c=s!==t,o=Kd(e),i=o[s]||{},r=t.startsWith(".");if(typeof h<"u"){if(!Object.keys(i).length)return;ss(e,o,s,h,m?d:null);return}if(r)for(let a of Object.keys(o))Tm(e,o,a,t.slice(1));for(let[a,n]of Object.entries(i)){let l=a.replace(wm,"");(!c||t.includes(l))&&ss(e,o,s,n.callable,n.delegationSelector)}},trigger(e,t,d){if(typeof t!="string"||!e)return null;let p=Wd(),m=Jd(t),h=t!==m,s=null,c=!0,o=!0,i=!1;h&&p&&(s=p.Event(t,d),p(e).trigger(s),c=!s.isPropagationStopped(),o=!s.isImmediatePropagationStopped(),i=s.isDefaultPrevented());let r=us(new Event(t,{bubbles:c,cancelable:!0}),d);return i&&r.preventDefault(),o&&e.dispatchEvent(r),r.defaultPrevented&&s&&s.preventDefault(),r}};function us(e,t={}){for(let[d,p]of Object.entries(t))try{e[d]=p}catch{Object.defineProperty(e,d,{configurable:!0,get(){return p}})}return e}function gd(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Ya(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}var jr={setDataAttribute(e,t,d){e.setAttribute(`data-bs-${Ya(t)}`,d)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Ya(t)}`)},getDataAttributes(e){if(!e)return{};let t={},d=Object.keys(e.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(let p of d){let m=p.replace(/^bs/,"");m=m.charAt(0).toLowerCase()+m.slice(1,m.length),t[m]=gd(e.dataset[p])}return t},getDataAttribute(e,t){return gd(e.getAttribute(`data-bs-${Ya(t)}`))}},Ao=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,d){let p=Hr(d)?jr.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof p=="object"?p:{},...Hr(d)?jr.getDataAttributes(d):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,d=this.constructor.DefaultType){for(let[p,m]of Object.entries(d)){let h=t[p],s=Hr(h)?"element":gm(h);if(!new RegExp(m).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${s}" but expected type "${m}".`)}}},Cm="5.3.3",Ke=class extends Ao{constructor(t,d){super(),t=ro(t),t&&(this._element=t,this._config=this._getConfig(d),Va.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Va.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,d,p=!0){Ud(t,d,p)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Va.get(ro(t),this.DATA_KEY)}static getOrCreateInstance(t,d={}){return this.getInstance(t)||new this(t,typeof d=="object"?d:null)}static get VERSION(){return Cm}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}},Xa=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let d=e.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),t=d&&d!=="#"?d.trim():null}return t?t.split(",").map(d=>Bd(d)).join(","):null},gt={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(d=>d.matches(t))},parents(e,t){let d=[],p=e.parentNode.closest(t);for(;p;)d.push(p),p=p.parentNode.closest(t);return d},prev(e,t){let d=e.previousElementSibling;for(;d;){if(d.matches(t))return[d];d=d.previousElementSibling}return[]},next(e,t){let d=e.nextElementSibling;for(;d;){if(d.matches(t))return[d];d=d.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(d=>!oo(d)&&pi(d))},getSelectorFromElement(e){let t=Xa(e);return t&&gt.findOne(t)?t:null},getElementFromSelector(e){let t=Xa(e);return t?gt.findOne(t):null},getMultipleElementsFromSelector(e){let t=Xa(e);return t?gt.find(t):[]}},Kn=(e,t="hide")=>{let d=`click.dismiss${e.EVENT_KEY}`,p=e.NAME;Q.on(document,d,`[data-bs-dismiss="${p}"]`,function(m){if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),oo(this))return;let h=gt.getElementFromSelector(this)||this.closest(`.${p}`);e.getOrCreateInstance(h)[t]()})},Sm="alert",_m="bs.alert",Qd=`.${_m}`,Am=`close${Qd}`,Lm=`closed${Qd}`,$m="fade",Mm="show",zn=class e extends Ke{static get NAME(){return Sm}close(){if(Q.trigger(this._element,Am).defaultPrevented)return;this._element.classList.remove(Mm);let d=this._element.classList.contains($m);this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),Q.trigger(this._element,Lm),this.dispose()}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this);if(typeof t=="string"){if(d[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);d[t](this)}})}};Kn(zn,"close");nr(zn);var Rm="button",Im="bs.button",Om=`.${Im}`,Dm=".data-api",Pm="active",bd='[data-bs-toggle="button"]',Nm=`click${Om}${Dm}`,Bn=class e extends Ke{static get NAME(){return Rm}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Pm))}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this);t==="toggle"&&d[t]()})}};Q.on(document,Nm,bd,e=>{e.preventDefault();let t=e.target.closest(bd);Bn.getOrCreateInstance(t).toggle()});nr(Bn);var Fm="swipe",ui=".bs.swipe",zm=`touchstart${ui}`,Bm=`touchmove${ui}`,Hm=`touchend${ui}`,jm=`pointerdown${ui}`,Wm=`pointerup${ui}`,Um="touch",Vm="pen",Gm="pointer-event",Km=40,Ym={endCallback:null,leftCallback:null,rightCallback:null},Xm={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},Hn=class e extends Ao{constructor(t,d){super(),this._element=t,!(!t||!e.isSupported())&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ym}static get DefaultType(){return Xm}static get NAME(){return Fm}dispose(){Q.off(this._element,ui)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),He(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=Km)return;let d=t/this._deltaX;this._deltaX=0,d&&He(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,jm,t=>this._start(t)),Q.on(this._element,Wm,t=>this._end(t)),this._element.classList.add(Gm)):(Q.on(this._element,zm,t=>this._start(t)),Q.on(this._element,Bm,t=>this._move(t)),Q.on(this._element,Hm,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Vm||t.pointerType===Um)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},Jm="carousel",Qm="bs.carousel",no=`.${Qm}`,Zd=".data-api",Zm="ArrowLeft",qm="ArrowRight",tg=500,Bi="next",ii="prev",ai="left",Pn="right",eg=`slide${no}`,Ja=`slid${no}`,rg=`keydown${no}`,og=`mouseenter${no}`,ig=`mouseleave${no}`,ng=`dragstart${no}`,ag=`load${no}${Zd}`,sg=`click${no}${Zd}`,qd="carousel",$n="active",lg="slide",dg="carousel-item-end",cg="carousel-item-start",pg="carousel-item-next",ug="carousel-item-prev",tc=".active",ec=".carousel-item",mg=tc+ec,gg=".carousel-item img",bg=".carousel-indicators",hg="[data-bs-slide], [data-bs-slide-to]",fg='[data-bs-ride="carousel"]',vg={[Zm]:Pn,[qm]:ai},yg={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},wg={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},ji=class e extends Ke{constructor(t,d){super(t,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=gt.findOne(bg,this._element),this._addEventListeners(),this._config.ride===qd&&this.cycle()}static get Default(){return yg}static get DefaultType(){return wg}static get NAME(){return Jm}next(){this._slide(Bi)}nextWhenVisible(){!document.hidden&&pi(this._element)&&this.next()}prev(){this._slide(ii)}pause(){this._isSliding&&Hd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Q.one(this._element,Ja,()=>this.cycle());return}this.cycle()}}to(t){let d=this._getItems();if(t>d.length-1||t<0)return;if(this._isSliding){Q.one(this._element,Ja,()=>this.to(t));return}let p=this._getItemIndex(this._getActive());if(p===t)return;let m=t>p?Bi:ii;this._slide(m,d[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Q.on(this._element,rg,t=>this._keydown(t)),this._config.pause==="hover"&&(Q.on(this._element,og,()=>this.pause()),Q.on(this._element,ig,()=>this._maybeEnableCycle())),this._config.touch&&Hn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let p of gt.find(gg,this._element))Q.on(p,ng,m=>m.preventDefault());let d={leftCallback:()=>this._slide(this._directionToOrder(ai)),rightCallback:()=>this._slide(this._directionToOrder(Pn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),tg+this._config.interval))}};this._swipeHelper=new Hn(this._element,d)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let d=vg[t.key];d&&(t.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let d=gt.findOne(tc,this._indicatorsElement);d.classList.remove($n),d.removeAttribute("aria-current");let p=gt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);p&&(p.classList.add($n),p.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let d=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(t,d=null){if(this._isSliding)return;let p=this._getActive(),m=t===Bi,h=d||ps(this._getItems(),p,m,this._config.wrap);if(h===p)return;let s=this._getItemIndex(h),c=l=>Q.trigger(this._element,l,{relatedTarget:h,direction:this._orderToDirection(t),from:this._getItemIndex(p),to:s});if(c(eg).defaultPrevented||!p||!h)return;let i=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=h;let r=m?cg:dg,a=m?pg:ug;h.classList.add(a),Vi(h),p.classList.add(r),h.classList.add(r);let n=()=>{h.classList.remove(r,a),h.classList.add($n),p.classList.remove($n,a,r),this._isSliding=!1,c(Ja)};this._queueCallback(n,p,this._isAnimated()),i&&this.cycle()}_isAnimated(){return this._element.classList.contains(lg)}_getActive(){return gt.findOne(mg,this._element)}_getItems(){return gt.find(ec,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return or()?t===ai?ii:Bi:t===ai?Bi:ii}_orderToDirection(t){return or()?t===ii?ai:Pn:t===ii?Pn:ai}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this,t);if(typeof t=="number"){d.to(t);return}if(typeof t=="string"){if(d[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);d[t]()}})}};Q.on(document,sg,hg,function(e){let t=gt.getElementFromSelector(this);if(!t||!t.classList.contains(qd))return;e.preventDefault();let d=ji.getOrCreateInstance(t),p=this.getAttribute("data-bs-slide-to");if(p){d.to(p),d._maybeEnableCycle();return}if(jr.getDataAttribute(this,"slide")==="next"){d.next(),d._maybeEnableCycle();return}d.prev(),d._maybeEnableCycle()});Q.on(window,ag,()=>{let e=gt.find(fg);for(let t of e)ji.getOrCreateInstance(t)});nr(ji);var xg="collapse",kg="bs.collapse",Gi=`.${kg}`,Eg=".data-api",Tg=`show${Gi}`,Cg=`shown${Gi}`,Sg=`hide${Gi}`,_g=`hidden${Gi}`,Ag=`click${Gi}${Eg}`,Qa="show",li="collapse",Mn="collapsing",Lg="collapsed",$g=`:scope .${li} .${li}`,Mg="collapse-horizontal",Rg="width",Ig="height",Og=".collapse.show, .collapse.collapsing",ls='[data-bs-toggle="collapse"]',Dg={parent:null,toggle:!0},Pg={parent:"(null|element)",toggle:"boolean"},jn=class e extends Ke{constructor(t,d){super(t,d),this._isTransitioning=!1,this._triggerArray=[];let p=gt.find(ls);for(let m of p){let h=gt.getSelectorFromElement(m),s=gt.find(h).filter(c=>c===this._element);h!==null&&s.length&&this._triggerArray.push(m)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Dg}static get DefaultType(){return Pg}static get NAME(){return xg}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Og).filter(c=>c!==this._element).map(c=>e.getOrCreateInstance(c,{toggle:!1}))),t.length&&t[0]._isTransitioning||Q.trigger(this._element,Tg).defaultPrevented)return;for(let c of t)c.hide();let p=this._getDimension();this._element.classList.remove(li),this._element.classList.add(Mn),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let m=()=>{this._isTransitioning=!1,this._element.classList.remove(Mn),this._element.classList.add(li,Qa),this._element.style[p]="",Q.trigger(this._element,Cg)},s=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(m,this._element,!0),this._element.style[p]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||Q.trigger(this._element,Sg).defaultPrevented)return;let d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,Vi(this._element),this._element.classList.add(Mn),this._element.classList.remove(li,Qa);for(let m of this._triggerArray){let h=gt.getElementFromSelector(m);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([m],!1)}this._isTransitioning=!0;let p=()=>{this._isTransitioning=!1,this._element.classList.remove(Mn),this._element.classList.add(li),Q.trigger(this._element,_g)};this._element.style[d]="",this._queueCallback(p,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Qa)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=ro(t.parent),t}_getDimension(){return this._element.classList.contains(Mg)?Rg:Ig}_initializeChildren(){if(!this._config.parent)return;let t=this._getFirstLevelChildren(ls);for(let d of t){let p=gt.getElementFromSelector(d);p&&this._addAriaAndCollapsedClass([d],this._isShown(p))}}_getFirstLevelChildren(t){let d=gt.find($g,this._config.parent);return gt.find(t,this._config.parent).filter(p=>!d.includes(p))}_addAriaAndCollapsedClass(t,d){if(t.length)for(let p of t)p.classList.toggle(Lg,!d),p.setAttribute("aria-expanded",d)}static jQueryInterface(t){let d={};return typeof t=="string"&&/show|hide/.test(t)&&(d.toggle=!1),this.each(function(){let p=e.getOrCreateInstance(this,d);if(typeof t=="string"){if(typeof p[t]>"u")throw new TypeError(`No method named "${t}"`);p[t]()}})}};Q.on(document,Ag,ls,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(let t of gt.getMultipleElementsFromSelector(this))jn.getOrCreateInstance(t,{toggle:!1}).toggle()});nr(jn);var hd="dropdown",Ng="bs.dropdown",Lo=`.${Ng}`,ms=".data-api",Fg="Escape",fd="Tab",zg="ArrowUp",vd="ArrowDown",Bg=2,Hg=`hide${Lo}`,jg=`hidden${Lo}`,Wg=`show${Lo}`,Ug=`shown${Lo}`,rc=`click${Lo}${ms}`,oc=`keydown${Lo}${ms}`,Vg=`keyup${Lo}${ms}`,si="show",Gg="dropup",Kg="dropend",Yg="dropstart",Xg="dropup-center",Jg="dropdown-center",So='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Qg=`${So}.${si}`,Nn=".dropdown-menu",Zg=".navbar",qg=".navbar-nav",tb=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",eb=or()?"top-end":"top-start",rb=or()?"top-start":"top-end",ob=or()?"bottom-end":"bottom-start",ib=or()?"bottom-start":"bottom-end",nb=or()?"left-start":"right-start",ab=or()?"right-start":"left-start",sb="top",lb="bottom",db={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},cb={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Ar=class e extends Ke{constructor(t,d){super(t,d),this._popper=null,this._parent=this._element.parentNode,this._menu=gt.next(this._element,Nn)[0]||gt.prev(this._element,Nn)[0]||gt.findOne(Nn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return db}static get DefaultType(){return cb}static get NAME(){return hd}toggle(){return this._isShown()?this.hide():this.show()}show(){if(oo(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!Q.trigger(this._element,Wg,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(qg))for(let p of[].concat(...document.body.children))Q.on(p,"mouseover",Fn);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(si),this._element.classList.add(si),Q.trigger(this._element,Ug,t)}}hide(){if(oo(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Q.trigger(this._element,Hg,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let p of[].concat(...document.body.children))Q.off(p,"mouseover",Fn);this._popper&&this._popper.destroy(),this._menu.classList.remove(si),this._element.classList.remove(si),this._element.setAttribute("aria-expanded","false"),jr.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,jg,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Hr(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${hd.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Ln>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Hr(this._config.reference)?t=ro(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let d=this._getPopperConfig();this._popper=zi(t,this._menu,d)}_isShown(){return this._menu.classList.contains(si)}_getPlacement(){let t=this._parent;if(t.classList.contains(Kg))return nb;if(t.classList.contains(Yg))return ab;if(t.classList.contains(Xg))return sb;if(t.classList.contains(Jg))return lb;let d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Gg)?d?rb:eb:d?ib:ob}_detectNavbar(){return this._element.closest(Zg)!==null}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(d=>Number.parseInt(d,10)):typeof t=="function"?d=>t(d,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(jr.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...He(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:d}){let p=gt.find(tb,this._menu).filter(m=>pi(m));p.length&&ps(p,d,t===vd,!p.includes(d)).focus()}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof d[t]>"u")throw new TypeError(`No method named "${t}"`);d[t]()}})}static clearMenus(t){if(t.button===Bg||t.type==="keyup"&&t.key!==fd)return;let d=gt.find(Qg);for(let p of d){let m=e.getInstance(p);if(!m||m._config.autoClose===!1)continue;let h=t.composedPath(),s=h.includes(m._menu);if(h.includes(m._element)||m._config.autoClose==="inside"&&!s||m._config.autoClose==="outside"&&s||m._menu.contains(t.target)&&(t.type==="keyup"&&t.key===fd||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let c={relatedTarget:m._element};t.type==="click"&&(c.clickEvent=t),m._completeHide(c)}}static dataApiKeydownHandler(t){let d=/input|textarea/i.test(t.target.tagName),p=t.key===Fg,m=[zg,vd].includes(t.key);if(!m&&!p||d&&!p)return;t.preventDefault();let h=this.matches(So)?this:gt.prev(this,So)[0]||gt.next(this,So)[0]||gt.findOne(So,t.delegateTarget.parentNode),s=e.getOrCreateInstance(h);if(m){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),h.focus())}};Q.on(document,oc,So,Ar.dataApiKeydownHandler);Q.on(document,oc,Nn,Ar.dataApiKeydownHandler);Q.on(document,rc,Ar.clearMenus);Q.on(document,Vg,Ar.clearMenus);Q.on(document,rc,So,function(e){e.preventDefault(),Ar.getOrCreateInstance(this).toggle()});nr(Ar);var ic="backdrop",pb="fade",yd="show",wd=`mousedown.bs.${ic}`,ub={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},mb={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Wn=class extends Ao{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return ub}static get DefaultType(){return mb}static get NAME(){return ic}show(t){if(!this._config.isVisible){He(t);return}this._append();let d=this._getElement();this._config.isAnimated&&Vi(d),d.classList.add(yd),this._emulateAnimation(()=>{He(t)})}hide(t){if(!this._config.isVisible){He(t);return}this._getElement().classList.remove(yd),this._emulateAnimation(()=>{this.dispose(),He(t)})}dispose(){this._isAppended&&(Q.off(this._element,wd),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(pb),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=ro(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),Q.on(t,wd,()=>{He(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Ud(t,this._getElement(),this._config.isAnimated)}},gb="focustrap",bb="bs.focustrap",Un=`.${bb}`,hb=`focusin${Un}`,fb=`keydown.tab${Un}`,vb="Tab",yb="forward",xd="backward",wb={autofocus:!0,trapElement:null},xb={autofocus:"boolean",trapElement:"element"},Vn=class extends Ao{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return wb}static get DefaultType(){return xb}static get NAME(){return gb}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,Un),Q.on(document,hb,t=>this._handleFocusin(t)),Q.on(document,fb,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,Un))}_handleFocusin(t){let{trapElement:d}=this._config;if(t.target===document||t.target===d||d.contains(t.target))return;let p=gt.focusableChildren(d);p.length===0?d.focus():this._lastTabNavDirection===xd?p[p.length-1].focus():p[0].focus()}_handleKeydown(t){t.key===vb&&(this._lastTabNavDirection=t.shiftKey?xd:yb)}},kd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ed=".sticky-top",Rn="padding-right",Td="margin-right",Wi=class{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Rn,d=>d+t),this._setElementAttributes(kd,Rn,d=>d+t),this._setElementAttributes(Ed,Td,d=>d-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Rn),this._resetElementAttributes(kd,Rn),this._resetElementAttributes(Ed,Td)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,d,p){let m=this.getWidth(),h=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+m)return;this._saveInitialAttribute(s,d);let c=window.getComputedStyle(s).getPropertyValue(d);s.style.setProperty(d,`${p(Number.parseFloat(c))}px`)};this._applyManipulationCallback(t,h)}_saveInitialAttribute(t,d){let p=t.style.getPropertyValue(d);p&&jr.setDataAttribute(t,d,p)}_resetElementAttributes(t,d){let p=m=>{let h=jr.getDataAttribute(m,d);if(h===null){m.style.removeProperty(d);return}jr.removeDataAttribute(m,d),m.style.setProperty(d,h)};this._applyManipulationCallback(t,p)}_applyManipulationCallback(t,d){if(Hr(t)){d(t);return}for(let p of gt.find(t,this._element))d(p)}},kb="modal",Eb="bs.modal",ir=`.${Eb}`,Tb=".data-api",Cb="Escape",Sb=`hide${ir}`,_b=`hidePrevented${ir}`,nc=`hidden${ir}`,ac=`show${ir}`,Ab=`shown${ir}`,Lb=`resize${ir}`,$b=`click.dismiss${ir}`,Mb=`mousedown.dismiss${ir}`,Rb=`keydown.dismiss${ir}`,Ib=`click${ir}${Tb}`,Cd="modal-open",Ob="fade",Sd="show",Za="modal-static",Db=".modal.show",Pb=".modal-dialog",Nb=".modal-body",Fb='[data-bs-toggle="modal"]',zb={backdrop:!0,focus:!0,keyboard:!0},Bb={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Lr=class e extends Ke{constructor(t,d){super(t,d),this._dialog=gt.findOne(Pb,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Wi,this._addEventListeners()}static get Default(){return zb}static get DefaultType(){return Bb}static get NAME(){return kb}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Q.trigger(this._element,ac,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Cd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Q.trigger(this._element,Sb).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Sd),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Q.off(window,ir),Q.off(this._dialog,ir),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Wn({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Vn({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let d=gt.findOne(Nb,this._dialog);d&&(d.scrollTop=0),Vi(this._element),this._element.classList.add(Sd);let p=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,Ab,{relatedTarget:t})};this._queueCallback(p,this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,Rb,t=>{if(t.key===Cb){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Q.on(window,Lb,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Q.on(this._element,Mb,t=>{Q.one(this._element,$b,d=>{if(!(this._element!==t.target||this._element!==d.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Cd),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,nc)})}_isAnimated(){return this._element.classList.contains(Ob)}_triggerBackdropTransition(){if(Q.trigger(this._element,_b).defaultPrevented)return;let d=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(Za)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Za),this._queueCallback(()=>{this._element.classList.remove(Za),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),p=d>0;if(p&&!t){let m=or()?"paddingLeft":"paddingRight";this._element.style[m]=`${d}px`}if(!p&&t){let m=or()?"paddingRight":"paddingLeft";this._element.style[m]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,d){return this.each(function(){let p=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof p[t]>"u")throw new TypeError(`No method named "${t}"`);p[t](d)}})}};Q.on(document,Ib,Fb,function(e){let t=gt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Q.one(t,ac,m=>{m.defaultPrevented||Q.one(t,nc,()=>{pi(this)&&this.focus()})});let d=gt.findOne(Db);d&&Lr.getInstance(d).hide(),Lr.getOrCreateInstance(t).toggle(this)});Kn(Lr);nr(Lr);var Hb="offcanvas",jb="bs.offcanvas",Wr=`.${jb}`,sc=".data-api",Wb=`load${Wr}${sc}`,Ub="Escape",_d="show",Ad="showing",Ld="hiding",Vb="offcanvas-backdrop",lc=".offcanvas.show",Gb=`show${Wr}`,Kb=`shown${Wr}`,Yb=`hide${Wr}`,$d=`hidePrevented${Wr}`,dc=`hidden${Wr}`,Xb=`resize${Wr}`,Jb=`click${Wr}${sc}`,Qb=`keydown.dismiss${Wr}`,Zb='[data-bs-toggle="offcanvas"]',qb={backdrop:!0,keyboard:!0,scroll:!1},th={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},io=class e extends Ke{constructor(t,d){super(t,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qb}static get DefaultType(){return th}static get NAME(){return Hb}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||Q.trigger(this._element,Gb,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Wi().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ad);let p=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(_d),this._element.classList.remove(Ad),Q.trigger(this._element,Kb,{relatedTarget:t})};this._queueCallback(p,this._element,!0)}hide(){if(!this._isShown||Q.trigger(this._element,Yb).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ld),this._backdrop.hide();let d=()=>{this._element.classList.remove(_d,Ld),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Wi().reset(),Q.trigger(this._element,dc)};this._queueCallback(d,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=()=>{if(this._config.backdrop==="static"){Q.trigger(this._element,$d);return}this.hide()},d=!!this._config.backdrop;return new Wn({className:Vb,isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?t:null})}_initializeFocusTrap(){return new Vn({trapElement:this._element})}_addEventListeners(){Q.on(this._element,Qb,t=>{if(t.key===Ub){if(this._config.keyboard){this.hide();return}Q.trigger(this._element,$d)}})}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(d[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);d[t](this)}})}};Q.on(document,Jb,Zb,function(e){let t=gt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),oo(this))return;Q.one(t,dc,()=>{pi(this)&&this.focus()});let d=gt.findOne(lc);d&&d!==t&&io.getInstance(d).hide(),io.getOrCreateInstance(t).toggle(this)});Q.on(window,Wb,()=>{for(let e of gt.find(lc))io.getOrCreateInstance(e).show()});Q.on(window,Xb,()=>{for(let e of gt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&io.getOrCreateInstance(e).hide()});Kn(io);nr(io);var eh=/^aria-[\w-]*$/i,cc={"*":["class","dir","id","lang","role",eh],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},rh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),oh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ih=(e,t)=>{let d=e.nodeName.toLowerCase();return t.includes(d)?rh.has(d)?!!oh.test(e.nodeValue):!0:t.filter(p=>p instanceof RegExp).some(p=>p.test(d))};function nh(e,t,d){if(!e.length)return e;if(d&&typeof d=="function")return d(e);let m=new window.DOMParser().parseFromString(e,"text/html"),h=[].concat(...m.body.querySelectorAll("*"));for(let s of h){let c=s.nodeName.toLowerCase();if(!Object.keys(t).includes(c)){s.remove();continue}let o=[].concat(...s.attributes),i=[].concat(t["*"]||[],t[c]||[]);for(let r of o)ih(r,i)||s.removeAttribute(r.nodeName)}return m.body.innerHTML}var ah="TemplateFactory",sh={allowList:cc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},lh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},dh={entry:"(string|element|function|null)",selector:"(string|element)"},ds=class extends Ao{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return sh}static get DefaultType(){return lh}static get NAME(){return ah}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(let[m,h]of Object.entries(this._config.content))this._setContent(t,h,m);let d=t.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&d.classList.add(...p.split(" ")),d}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[d,p]of Object.entries(t))super._typeCheckConfig({selector:d,entry:p},dh)}_setContent(t,d,p){let m=gt.findOne(p,t);if(m){if(d=this._resolvePossibleFunction(d),!d){m.remove();return}if(Hr(d)){this._putElementInTemplate(ro(d),m);return}if(this._config.html){m.innerHTML=this._maybeSanitize(d);return}m.textContent=d}}_maybeSanitize(t){return this._config.sanitize?nh(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return He(t,[this])}_putElementInTemplate(t,d){if(this._config.html){d.innerHTML="",d.append(t);return}d.textContent=t.textContent}},ch="tooltip",ph=new Set(["sanitize","allowList","sanitizeFn"]),qa="fade",uh="modal",In="show",mh=".tooltip-inner",Md=`.${uh}`,Rd="hide.bs.modal",Hi="hover",ts="focus",gh="click",bh="manual",hh="hide",fh="hidden",vh="show",yh="shown",wh="inserted",xh="click",kh="focusin",Eh="focusout",Th="mouseenter",Ch="mouseleave",Sh={AUTO:"auto",TOP:"top",RIGHT:or()?"left":"right",BOTTOM:"bottom",LEFT:or()?"right":"left"},_h={allowList:cc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ah={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},di=class e extends Ke{constructor(t,d){if(typeof Ln>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _h}static get DefaultType(){return Ah}static get NAME(){return ch}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest(Md),Rd,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=Q.trigger(this._element,this.constructor.eventName(vh)),p=(jd(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!p)return;this._disposePopper();let m=this._getTipElement();this._element.setAttribute("aria-describedby",m.getAttribute("id"));let{container:h}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(h.append(m),Q.trigger(this._element,this.constructor.eventName(wh))),this._popper=this._createPopper(m),m.classList.add(In),"ontouchstart"in document.documentElement)for(let c of[].concat(...document.body.children))Q.on(c,"mouseover",Fn);let s=()=>{Q.trigger(this._element,this.constructor.eventName(yh)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Q.trigger(this._element,this.constructor.eventName(hh)).defaultPrevented)return;if(this._getTipElement().classList.remove(In),"ontouchstart"in document.documentElement)for(let m of[].concat(...document.body.children))Q.off(m,"mouseover",Fn);this._activeTrigger[gh]=!1,this._activeTrigger[ts]=!1,this._activeTrigger[Hi]=!1,this._isHovered=null;let p=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName(fh)))};this._queueCallback(p,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let d=this._getTemplateFactory(t).toHtml();if(!d)return null;d.classList.remove(qa,In),d.classList.add(`bs-${this.constructor.NAME}-auto`);let p=bm(this.constructor.NAME).toString();return d.setAttribute("id",p),this._isAnimated()&&d.classList.add(qa),d}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new ds({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[mh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(qa)}_isShown(){return this.tip&&this.tip.classList.contains(In)}_createPopper(t){let d=He(this._config.placement,[this,t,this._element]),p=Sh[d.toUpperCase()];return zi(this._element,t,this._getPopperConfig(p))}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(d=>Number.parseInt(d,10)):typeof t=="function"?d=>t(d,this._element):t}_resolvePossibleFunction(t){return He(t,[this._element])}_getPopperConfig(t){let d={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...d,...He(this._config.popperConfig,[d])}}_setListeners(){let t=this._config.trigger.split(" ");for(let d of t)if(d==="click")Q.on(this._element,this.constructor.eventName(xh),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if(d!==bh){let p=d===Hi?this.constructor.eventName(Th):this.constructor.eventName(kh),m=d===Hi?this.constructor.eventName(Ch):this.constructor.eventName(Eh);Q.on(this._element,p,this._config.selector,h=>{let s=this._initializeOnDelegatedTarget(h);s._activeTrigger[h.type==="focusin"?ts:Hi]=!0,s._enter()}),Q.on(this._element,m,this._config.selector,h=>{let s=this._initializeOnDelegatedTarget(h);s._activeTrigger[h.type==="focusout"?ts:Hi]=s._element.contains(h.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest(Md),Rd,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,d){clearTimeout(this._timeout),this._timeout=setTimeout(t,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let d=jr.getDataAttributes(this._element);for(let p of Object.keys(d))ph.has(p)&&delete d[p];return t={...d,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:ro(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[d,p]of Object.entries(this._config))this.constructor.Default[d]!==p&&(t[d]=p);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof d[t]>"u")throw new TypeError(`No method named "${t}"`);d[t]()}})}};nr(di);var Lh="popover",$h=".popover-header",Mh=".popover-body",Rh={...di.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ih={...di.DefaultType,content:"(null|string|element|function)"},cs=class e extends di{static get Default(){return Rh}static get DefaultType(){return Ih}static get NAME(){return Lh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[$h]:this._getTitle(),[Mh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof d[t]>"u")throw new TypeError(`No method named "${t}"`);d[t]()}})}};nr(cs);var Oh="scrollspy",Dh="bs.scrollspy",gs=`.${Dh}`,Ph=".data-api",Nh=`activate${gs}`,Id=`click${gs}`,Fh=`load${gs}${Ph}`,zh="dropdown-item",ni="active",Bh='[data-bs-spy="scroll"]',es="[href]",Hh=".nav, .list-group",Od=".nav-link",jh=".nav-item",Wh=".list-group-item",Uh=`${Od}, ${jh} > ${Od}, ${Wh}`,Vh=".dropdown",Gh=".dropdown-toggle",Kh={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Yh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},Gn=class e extends Ke{constructor(t,d){super(t,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Kh}static get DefaultType(){return Yh}static get NAME(){return Oh}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=ro(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(d=>Number.parseFloat(d))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,Id),Q.on(this._config.target,Id,es,t=>{let d=this._observableSections.get(t.target.hash);if(d){t.preventDefault();let p=this._rootElement||window,m=d.offsetTop-this._element.offsetTop;if(p.scrollTo){p.scrollTo({top:m,behavior:"smooth"});return}p.scrollTop=m}}))}_getNewObserver(){let t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(d=>this._observerCallback(d),t)}_observerCallback(t){let d=s=>this._targetLinks.get(`#${s.target.id}`),p=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(d(s))},m=(this._rootElement||document.documentElement).scrollTop,h=m>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=m;for(let s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(s));continue}let c=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(h&&c){if(p(s),!m)return;continue}!h&&!c&&p(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let t=gt.find(es,this._config.target);for(let d of t){if(!d.hash||oo(d))continue;let p=gt.findOne(decodeURI(d.hash),this._element);pi(p)&&(this._targetLinks.set(decodeURI(d.hash),d),this._observableSections.set(d.hash,p))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(ni),this._activateParents(t),Q.trigger(this._element,Nh,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(zh)){gt.findOne(Gh,t.closest(Vh)).classList.add(ni);return}for(let d of gt.parents(t,Hh))for(let p of gt.prev(d,Uh))p.classList.add(ni)}_clearActiveClass(t){t.classList.remove(ni);let d=gt.find(`${es}.${ni}`,t);for(let p of d)p.classList.remove(ni)}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(d[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);d[t]()}})}};Q.on(window,Fh,()=>{for(let e of gt.find(Bh))Gn.getOrCreateInstance(e)});nr(Gn);var Xh="tab",Jh="bs.tab",$o=`.${Jh}`,Qh=`hide${$o}`,Zh=`hidden${$o}`,qh=`show${$o}`,tf=`shown${$o}`,ef=`click${$o}`,rf=`keydown${$o}`,of=`load${$o}`,nf="ArrowLeft",Dd="ArrowRight",af="ArrowUp",Pd="ArrowDown",rs="Home",Nd="End",_o="active",Fd="fade",os="show",sf="dropdown",pc=".dropdown-toggle",lf=".dropdown-menu",is=`:not(${pc})`,df='.list-group, .nav, [role="tablist"]',cf=".nav-item, .list-group-item",pf=`.nav-link${is}, .list-group-item${is}, [role="tab"]${is}`,uc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ns=`${pf}, ${uc}`,uf=`.${_o}[data-bs-toggle="tab"], .${_o}[data-bs-toggle="pill"], .${_o}[data-bs-toggle="list"]`,Ui=class e extends Ke{constructor(t){super(t),this._parent=this._element.closest(df),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,rf,d=>this._keydown(d)))}static get NAME(){return Xh}show(){let t=this._element;if(this._elemIsActive(t))return;let d=this._getActiveElem(),p=d?Q.trigger(d,Qh,{relatedTarget:t}):null;Q.trigger(t,qh,{relatedTarget:d}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(d,t),this._activate(t,d))}_activate(t,d){if(!t)return;t.classList.add(_o),this._activate(gt.getElementFromSelector(t));let p=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(os);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Q.trigger(t,tf,{relatedTarget:d})};this._queueCallback(p,t,t.classList.contains(Fd))}_deactivate(t,d){if(!t)return;t.classList.remove(_o),t.blur(),this._deactivate(gt.getElementFromSelector(t));let p=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(os);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Q.trigger(t,Zh,{relatedTarget:d})};this._queueCallback(p,t,t.classList.contains(Fd))}_keydown(t){if(![nf,Dd,af,Pd,rs,Nd].includes(t.key))return;t.stopPropagation(),t.preventDefault();let d=this._getChildren().filter(m=>!oo(m)),p;if([rs,Nd].includes(t.key))p=d[t.key===rs?0:d.length-1];else{let m=[Dd,Pd].includes(t.key);p=ps(d,t.target,m,!0)}p&&(p.focus({preventScroll:!0}),e.getOrCreateInstance(p).show())}_getChildren(){return gt.find(ns,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,d){this._setAttributeIfNotExists(t,"role","tablist");for(let p of d)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let d=this._elemIsActive(t),p=this._getOuterElement(t);t.setAttribute("aria-selected",d),p!==t&&this._setAttributeIfNotExists(p,"role","presentation"),d||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let d=gt.getElementFromSelector(t);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,d){let p=this._getOuterElement(t);if(!p.classList.contains(sf))return;let m=(h,s)=>{let c=gt.findOne(h,p);c&&c.classList.toggle(s,d)};m(pc,_o),m(lf,os),p.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(t,d,p){t.hasAttribute(d)||t.setAttribute(d,p)}_elemIsActive(t){return t.classList.contains(_o)}_getInnerElement(t){return t.matches(ns)?t:gt.findOne(ns,t)}_getOuterElement(t){return t.closest(cf)||t}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this);if(typeof t=="string"){if(d[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);d[t]()}})}};Q.on(document,ef,uc,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!oo(this)&&Ui.getOrCreateInstance(this).show()});Q.on(window,of,()=>{for(let e of gt.find(uf))Ui.getOrCreateInstance(e)});nr(Ui);var mf="toast",gf="bs.toast",ao=`.${gf}`,bf=`mouseover${ao}`,hf=`mouseout${ao}`,ff=`focusin${ao}`,vf=`focusout${ao}`,yf=`hide${ao}`,wf=`hidden${ao}`,xf=`show${ao}`,kf=`shown${ao}`,Ef="fade",zd="hide",On="show",Dn="showing",Tf={animation:"boolean",autohide:"boolean",delay:"number"},Cf={animation:!0,autohide:!0,delay:5e3},ci=class e extends Ke{constructor(t,d){super(t,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Cf}static get DefaultType(){return Tf}static get NAME(){return mf}show(){if(Q.trigger(this._element,xf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Ef);let d=()=>{this._element.classList.remove(Dn),Q.trigger(this._element,kf),this._maybeScheduleHide()};this._element.classList.remove(zd),Vi(this._element),this._element.classList.add(On,Dn),this._queueCallback(d,this._element,this._config.animation)}hide(){if(!this.isShown()||Q.trigger(this._element,yf).defaultPrevented)return;let d=()=>{this._element.classList.add(zd),this._element.classList.remove(Dn,On),Q.trigger(this._element,wf)};this._element.classList.add(Dn),this._queueCallback(d,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(On),super.dispose()}isShown(){return this._element.classList.contains(On)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,d){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=d;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=d;break}}if(d){this._clearTimeout();return}let p=t.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,bf,t=>this._onInteraction(t,!0)),Q.on(this._element,hf,t=>this._onInteraction(t,!1)),Q.on(this._element,ff,t=>this._onInteraction(t,!0)),Q.on(this._element,vf,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let d=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof d[t]>"u")throw new TypeError(`No method named "${t}"`);d[t](this)}})}};Kn(ci);nr(ci);var Hc=yn(mc());var yc=yn(gc()),wc=yn(hc());var xc=yn(fc()),Ki={modalBodyConfirm:null,buttonConfirmed:null,toastContainer:null};function kc(){bt(Ki)}var zt=function(e,t,d,p,...m){let h=e.insertRow();h.id=t,so(h,t,t,0);let s=t;return m.forEach(c=>{so(h,c),s=c}),d&&h.classList.add("table-active"),p&&ks(h,vc,_f(vc,Sf,p),"Copy to clipboard"),h};function mi(e,t,d,p=!1,m=null){let h=e.insertCell(0);h.style.verticalAlign="middle",h.style.width="25px";let s=document.createElement("input");return s.classList.add("form-check-input"),s.type="checkbox",s.id=t,s.checked=d,s.disabled=p,m&&(s.onchange=m),h.append(s),s}function so(e,t,d=null,p=-1){let m=e.insertCell(p);return m.textContent=t,m.setAttribute("data-bs-toggle","tooltip"),m.title=d??t,m}function ks(e,t,d,p){let m=e.insertCell();m.classList.add("table-action-column");let h=document.createElement("button");h.classList.add("btn"),h.style.padding="0",h.innerHTML=`<i class="bi ${t}"></i>`,p&&(h.title=p),h.onclick=d,m.appendChild(h)}var vc="bi-copy",Sf="bi-check-lg";function _f(e,t,d){return p=>{navigator.clipboard.writeText(d);let m=p.currentTarget.querySelector(".bi");m.classList.replace(e,t),setTimeout(()=>m.classList.replace(t,e),500)}}function Qn(e,t){let d=document.createElement("th");d.textContent=t,e.appendChild(d)}function je(e,t){e.textContent="",t.forEach(d=>{let p=document.createElement("option");p.text=d,e.appendChild(p)})}function lo(e,t){t.forEach(d=>{Ro(e,d)})}function Ro(e,t,d=!1,p){let m=document.createElement("li");m.innerHTML=d?`<h6 class="dropdown-header" data-value='${p}'>${Mo(t)}</h6>`:`<a class="dropdown-item" data-value='${p}'>${Mo(t)}</a>`,e.appendChild(m)}function gi(e,t,d,p,m=null){let h="tab"+Math.random().toString(36).replace("0.",""),s=document.createElement("li");s.classList.add("nav-item"),m&&(s.setAttribute("data-bs-toggle","tooltip"),s.setAttribute("title",m)),s.innerHTML=`<a class="nav-link" data-bs-toggle="tab" data-bs-target="#${h}">${d}</a>`,e.appendChild(s);let c=document.createElement("template");return c.innerHTML=p,c.content.firstElementChild.id=h,t.appendChild(c.content.firstElementChild),h}function bt(e,t=null){Object.keys(e).forEach(d=>{if(e[d]=(t??document).getElementById(d),!e[d])throw new Error(`Element ${d} not found.`)})}function Mo(e){return xc.sanitize(e)}function br(e,t="Error",d=""){let p=document.createElement("div");p.classList.add("toast"),p.innerHTML=`<div class="toast-header alert-danger">
  <i class="bi me-2 bi-exclamation-triangle-fill"></i>
  <strong class="me-auto">${Mo(t)}</strong>
  <small>${d}</small>
  <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
  </div>
  <div class="toast-body">${Mo(e)}</div>`,Ki.toastContainer.appendChild(p),p.addEventListener("hidden.bs.toast",()=>{p.remove()}),new ci(p).show()}function Af(e){this.message=e,this.name="UserException"}function lt(e,t,d=null){if(d&&d.classList.remove("is-invalid"),!e)throw d?(d.parentNode.getElementsByClassName("invalid-feedback")[0].textContent=t,d.classList.add("is-invalid")):br(t,"Error"),new Af(t)}function Yi(e,t=!1){return t?e.replace("T"," ").replace("Z","").replace("."," "):e.split(".")[0].replace("T"," ")}var xs;function We(e,t,d){xs=xs??new Lr("#modalConfirm"),Ki.modalBodyConfirm.textContent=e,Ki.buttonConfirmed.innerText=t,Ki.buttonConfirmed.onclick=d,xs.show()}function Dt(e,t,d=!1,p=!1){let m=wc.edit(e);return m.setOption("wrap",p),m.setOption("useWorker",!1),m.session.setMode(t),d&&(m.setReadOnly(!0),m.renderer.setShowGutter(!1)),m}function Ec(e,t,d){return new yc.default({selector:e,data:{src:t,keys:["label","group"]},placeHolder:d,resultsList:{class:"dropdown-menu show",maxResults:30},resultItem:{class:"dropdown-item",highlight:!0,element:(p,m)=>{p.style="display: flex;",p.innerHTML=`<span style="flex-grow: 1;" >${Mo(m.key==="label"?m.match:m.value.label)}</span>
            <span style="color: 3a8c9a;" class="fw-light fst-italic ms-1">
              ${m.key==="group"?m.match:m.value.group}</span>`}},events:{input:{results:()=>{Array.from(document.getElementsByClassName("resizable_pane")).forEach(p=>{p.style.overflow="unset"})},close:()=>{Array.from(document.getElementsByClassName("resizable_pane")).forEach(p=>{p.style.overflow="auto"})}}}})}function ar(e,t){e.addEventListener("click",()=>{t.classList.remove("is-invalid")})}function Tc(e,t){Array.from(e.rows).forEach(d=>{t(d)?d.classList.add("table-active"):d.classList.remove("table-active")})}function Ct(e){return JSON.stringify(e,null,2)}function Cc(e,t){let d=e.value.indexOf(t);return d>=0?(e.focus(),e.setSelectionRange(d,d+t.length),!0):!1}function Xi(e,t,d){!d||d.length===t.length?e.textContent=t.length>0?t.length.toString():"":e.textContent=`${d.length}/${t.length}`}var Sc=`<!--
  ~ Copyright (c) 2022 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<div id="authorizationModal" class="modal fade" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                Authorize
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <form class="modal-body">
                <div class="row">
                    <h5>Main authentication</h5>
                    <hr />
                    <div class="row">
                        <div class="col-md-5">
                            <input type="radio" id="main-userpass" name="main-auth" value="basic" />
                            <label for="main-userpass">Basic</label>
                        </div>
                        <div class="col-md-7">
                            <div class="input-group input-group-sm mb-1">
                                <label for="userName" class="input-group-text">Username</label>
                                <input type="text" class="form-control form-control-sm" id="userName" name="username" />
                            </div>
                            <div class="input-group input-group-sm mb-1">
                                <label for="password" class="input-group-text">Password</label>
                                <input type="password" class="form-control form-control-sm" id="password" name="password" />
                            </div>
                        </div>
                    </div>
                    <div class="row pt-2">
                        <div class="col-md-5">
                            <input type="radio" id="main-bearer" name="main-auth" value="bearer"></input>
                            <label for="main-bearer">Bearer<br /><small>(JWT OAuth2.0 Bearer token)</small></label>
                        </div>
                        <div class="col-md-7">
                            <div class="input-group input-group-sm mb-1">
                                <label for="bearer" class="input-group-text">Bearer</label>
                                <input type="password" class="form-control form-control-sm" id="bearer" name="bearer" />
                            </div>
                        </div>
                    </div>
                    <div class="row pt-2">
                        <div class="col-md-5">
                            <input type="radio" id="main-pre" name="main-auth" value="pre" />
                            <label for="main-pre">Pre authenticated<br />
                                <small>(via HTTP header 'x-ditto-pre-authenticated', must take the form
                                    <code>prefix:suffix</code>)</small>
                            </label>
                        </div>
                        <div class="col-md-7">
                            <div class="input-group input-group-sm mb-1">
                                <label for="dittoPreAuthenticatedUsername" class="input-group-text">prefix:suffix</label>
                                <input type="text" class="form-control form-control-sm" id="dittoPreAuthenticatedUsername" name="pre-authenticated-username"  />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <h5>DevOps authentication</h5>
                    <small>(for Connections and administrative tasks, optional)</small>
                    <hr />
                    <div class="row">
                        <div class="col-md-5">
                            <input type="radio" id="devops-userpass" name="devops-auth" value="basic" />
                            <label for="devops-userpass">Basic<br /></label>
                        </div>
                        <div class="col-md-7">
                            <div class="input-group input-group-sm mb-1">
                                <label for="devOpsUserName" class="input-group-text">DevOps Username</label>
                                <input type="text" class="form-control form-control-sm" id="devOpsUserName" name="username" />
                            </div>
                            <div class="input-group input-group-sm mb-1">
                                <label for="devOpsPassword" class="input-group-text">DevOps Password</label>
                                <input type="password" class="form-control form-control-sm" id="devOpsPassword" name="password" />
                            </div>
                        </div>
                    </div>
                    <div class="row pt-2">
                        <div class="col-md-5">
                            <input type="radio" id="devops-bearer" name="devops-auth" value="bearer" />
                            <label for="devops-bearer">Bearer<br /><small>(JWT OAuth2.0 Bearer token)</small></label>
                        </div>
                        <div class="col-md-7">
                            <div class="input-group input-group-sm mb-1">
                                <label for="bearerDevOps" class="input-group-text">DevOps Bearer</label>
                                <input type="password" class="form-control form-control-sm" id="bearerDevOps" name="devops-bearer" />
                            </div>
                            <div class="input-group input-group-sm mb-1">
                        </div>
                    </div>
                    </div>
                </div>
                <div class="input-group input-group-sm" style="flex-direction: row-reverse;">
                    <button class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal"
                        id="authorizeSubmit">Authorize</button>
                </div>
            </form>
        </div>
    </div>
</div>
`;var Yt={bearer:null,userName:null,password:null,bearerDevOps:null,devOpsUserName:null,devOpsPassword:null,dittoPreAuthenticatedUsername:null,collapseConnections:null},Es=!1;document.getElementById("authorizationHTML").innerHTML=Sc;function _c(e){Es=e,Cs(Es)}function Ac(){bt(Yt),document.getElementById("authorize").onclick=e=>{let t=V().mainAuth,d=V().devopsAuth;t||(Yt.dittoPreAuthenticatedUsername.value&&Yt.dittoPreAuthenticatedUsername.value.length>0?t="pre":Yt.bearer.value&&Yt.bearer.value.length>0?t="bearer":Yt.userName.value&&Yt.userName.value.length>0&&(t="basic")),d||(Yt.bearerDevOps.value&&Yt.bearerDevOps.value.length>0?d="bearer":Yt.devOpsUserName.value&&Yt.devOpsUserName.value.length>0&&(d="basic")),Array.from(document.querySelectorAll('input[name="main-auth"]')).forEach(p=>{p.checked=p.value===t}),Array.from(document.querySelectorAll('input[name="devops-auth"]')).forEach(p=>{p.checked=p.value===d})},document.getElementById("authorizeSubmit").onclick=e=>{e.preventDefault();let t=document.querySelector('input[name="main-auth"]:checked'),d=t?t.value:void 0,p=document.querySelector('input[name="devops-auth"]:checked'),m=p?p.value:void 0;V().mainAuth=d,V().devopsAuth=m,V().usernamePassword=Yt.userName.value+":"+Yt.password.value,V().usernamePasswordDevOps=Yt.devOpsUserName.value+":"+Yt.devOpsPassword.value,V().bearer=Yt.bearer.value,V().bearerDevOps=Yt.bearerDevOps.value,V().dittoPreAuthenticatedUsername=Yt.dittoPreAuthenticatedUsername.value,ge()}}function Lc(){let e=V().usernamePassword?V().usernamePassword:":";Yt.userName.value=e.split(":")[0],Yt.password.value=e.split(":")[1],e=V().usernamePasswordDevOps?V().usernamePasswordDevOps:":",Yt.devOpsUserName.value=e.split(":")[0],Yt.devOpsPassword.value=e.split(":")[1],Yt.bearer.value=V().bearer?V().bearer:"",Yt.bearerDevOps.value=V().bearerDevOps?V().bearerDevOps:"",Yt.dittoPreAuthenticatedUsername.value=V().dittoPreAuthenticatedUsername?V().dittoPreAuthenticatedUsername:"",Cs(Es)}var $c=`<!--
  ~ Copyright (c) 2022 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<div class="row resizable_pane" style="height: 80vh">
    <div class="col-md-4 resizable_flex_column">
        <div class="input-group has-validation">
            <input class="form-control" id="tableValidationEnvironments" hidden="true"></input>
            <div class="invalid-feedback"></div>
        </div>
        <div class="table-wrap">
            <table class="table table-striped table-hover table-sm">
                <tbody id="tbodyEnvironments"></tbody>
            </table>
        </div>
    </div>
    <div class="col-md-8 resizable_flex_column">
        <ul class="nav nav-tabs nav-fill">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="tab" data-bs-target="#tabEnvDetails">Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" data-bs-target="#tabEnvJson">JSON</a>
            </li>
        </ul>
        <div class="tab-content" style="flex-grow: 1; overflow: hidden;">
            <div class="tab-pane container active no-margin" id="tabEnvDetails">
                <crud-toolbar label="Name" id="crudEnvironmentFields" allowIdChange>
                    <div class="input-group input-group-sm mt-1">
                        <label class="input-group-text" data-bs-toggle="tooltip"
                            title="URI including protocol, host and port (e.g. http://localhost:8080)">API URI</label>
                        <input type="text" class="form-control form-control-sm" id="inputApiUri" disabled></input>
                    </div>
                    <div class="input-group input-group-sm mt-1">
                        <label class="input-group-text" data-bs-toggle="tooltip"
                            title="A comma-separated list of namespaces (e.g. com.example.namespace). The given namespaces are used as a parameter for the Things search">Search Namespaces</label>
                        <input type="text" class="form-control form-control-sm" spellcheck="false" id="inputSearchNamespaces" disabled></input>
                    </div>
                    <div class="input-group input-group-sm mt-1 mb-3">
                        <label class="input-group-text">Ditto Version</label>
                        <select class="form-select form-select-sm" id="selectDittoVersion" disabled>
                            <option selected value="3">3</option>
                            <option value="2">2</option>
                        </select>
                    </div>    
                    <label class="form-label">Optional Tabs</label>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="inputTabPolicies" disabled>
                        <label class="form-check-label" for="inputTabPolicies">Policies</label>
                      </div>
                      <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="inputTabConnections" disabled>
                        <label class="form-check-label" for="inputTabConnections">Connections</label>
                      </div>
                      <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="inputTabOperations" disabled>
                        <label class="form-check-label" for="inputTabOperations">Operations</label>
                      </div>
            </crud-toolbar>
            </div>
            <div class="tab-pane container no-margin" id="tabEnvJson">
                <crud-toolbar label="Name" id="crudEnvironmentJson" allowIdChange>
                    <div class="ace_container" style="flex-grow: 1;">
                        <div>
                            <div class="script_editor" id="settingsEditor"></div>
                        </div>
                    </div>
                </crud-toolbar>
            </div>
        </div>
    </div>
</div>`;var Mc={local_ditto:{api_uri:"http://localhost:8080",ditto_version:3,bearer:null,bearerDevOps:null,defaultUsernamePassword:"ditto:ditto",defaultDittoPreAuthenticatedUsername:null,defaultUsernamePasswordDevOps:"devops:foobar",mainAuth:"basic",devopsAuth:"basic"},local_ditto_ide:{api_uri:"http://localhost:8080",ditto_version:3,bearer:null,bearerDevOps:null,defaultUsernamePassword:null,defaultDittoPreAuthenticatedUsername:"pre:ditto",defaultUsernamePasswordDevOps:"devops:foobar",mainAuth:"pre",devopsAuth:"basic"},ditto_sandbox:{api_uri:"https://ditto.eclipseprojects.io",ditto_version:3,bearer:null,bearerDevOps:null,defaultUsernamePassword:"ditto:ditto",defaultDittoPreAuthenticatedUsername:null,defaultUsernamePasswordDevOps:null,mainAuth:"basic",devopsAuth:null,disableConnections:!0,disableOperations:!0}};var Pc="primaryEnvironmentName",Rf="environmentsURL",Nc="ditto-ui-env",Ji,te,qt,co,mt={environmentSelector:null,tbodyEnvironments:null,tableValidationEnvironments:null,crudEnvironmentFields:null,crudEnvironmentJson:null,inputApiUri:null,inputSearchNamespaces:null,selectDittoVersion:null,inputTabPolicies:null,inputTabConnections:null,inputTabOperations:null},Fc=[];document.getElementById("environmentsHTML").innerHTML=$c;function Ss(e){Object.assign(this,e),Object.defineProperties(this,{bearer:{enumerable:!1,writable:!0},bearerDevOps:{enumerable:!1,writable:!0},usernamePassword:{value:this.defaultUsernamePassword,enumerable:!1,writable:!0},usernamePasswordDevOps:{value:this.defaultUsernamePasswordDevOps,enumerable:!1,writable:!0},dittoPreAuthenticatedUsername:{value:this.defaultDittoPreAuthenticatedUsername,enumerable:!1,writable:!0}})}function V(){return te[mt.environmentSelector.value]}function Ue(e){Fc.push(e)}function zc(e=null){Lc(),Fc.forEach(t=>t.call(null,e))}async function Bc(){bt(mt),ar(mt.tbodyEnvironments,mt.tableValidationEnvironments),Ji=new URLSearchParams(window.location.search),te=await Df(),co=Dt("settingsEditor","ace/mode/json",!0),mt.tbodyEnvironments.addEventListener("click",Of),mt.crudEnvironmentJson.addEventListener("onCreateClick",Ic),mt.crudEnvironmentJson.addEventListener("onUpdateClick",Oc),mt.crudEnvironmentJson.addEventListener("onDeleteClick",Rc),mt.crudEnvironmentJson.addEventListener("onEditToggle",Dc),mt.crudEnvironmentFields.addEventListener("onCreateClick",Ic),mt.crudEnvironmentFields.addEventListener("onUpdateClick",Oc),mt.crudEnvironmentFields.addEventListener("onDeleteClick",Rc),mt.crudEnvironmentFields.addEventListener("onEditToggle",Dc),mt.environmentSelector.onchange=If,document.querySelector('a[data-bs-target="#tabEnvJson"]').addEventListener("shown.bs.tab",()=>{co.renderer.updateFull()}),ge()}function If(){Ji.set(Pc,mt.environmentSelector.value),window.history.replaceState({},"",`${window.location.pathname}?${Ji}`),zc()}function Rc(){lt(qt,"No environment selected",mt.tableValidationEnvironments),lt(Object.keys(te).length>=2,"At least one environment is required",mt.tableValidationEnvironments),delete te[qt],qt=null,ge()}function Ic(e){lt(e.target.idValue,"Environment name must not be empty",e.target.validationElement),lt(!te[e.target.idValue],"Environment name already used",e.target.validationElement),e.target===mt.crudEnvironmentFields?te[e.target.idValue]=new Ss({api_uri:mt.inputApiUri.value??"",searchNamespaces:mt.inputSearchNamespaces.value??"",ditto_version:mt.selectDittoVersion.value?mt.selectDittoVersion.value:"3"}):te[e.target.idValue]=new Ss(JSON.parse(co.getValue())),qt=e.target.idValue,e.target.toggleEdit(),ge()}function Of(e){e.target&&e.target.tagName==="TD"&&(qt&&qt===e.target.parentNode.id?qt=null:qt=e.target.parentNode.id,_s())}function Oc(e){qt!==e.target.idValue&&t(),e.target===mt.crudEnvironmentFields?(te[qt].api_uri=mt.inputApiUri.value,te[qt].searchNamespaces=mt.inputSearchNamespaces.value,te[qt].ditto_version=mt.selectDittoVersion.value,te[qt].disablePolicies=!mt.inputTabPolicies.checked,te[qt].disableConnections=!mt.inputTabConnections.checked,te[qt].disableOperations=!mt.inputTabOperations.checked):te[qt]=JSON.parse(co.getValue()),e.target.toggleEdit(),ge();function t(){te[e.target.idValue]=te[qt],delete te[qt],qt=e.target.idValue}}function ge(e=null){te&&localStorage.setItem(Nc,JSON.stringify(te)),t(),_s(),d(),zc(e);function t(){let p=mt.environmentSelector.value;p||(p=Ji.get(Pc)),(!p||!te[p])&&(p=Object.keys(te)[0]),je(mt.environmentSelector,Object.keys(te)),mt.environmentSelector.value=p}function d(){mt.tbodyEnvironments.textContent="",Object.keys(te).forEach(p=>{zt(mt.tbodyEnvironments,p,p===qt)})}}function _s(){if(qt){let e=te[qt];mt.crudEnvironmentFields.idValue=qt,mt.crudEnvironmentJson.idValue=qt,co.setValue(Ct(e),-1),mt.inputApiUri.value=e.api_uri,mt.inputSearchNamespaces.value=e.searchNamespaces??"",mt.selectDittoVersion.value=e.ditto_version?e.ditto_version:"3",mt.inputTabPolicies.checked=!e.disablePolicies,mt.inputTabConnections.checked=!e.disableConnections,mt.inputTabOperations.checked=!e.disableOperations}else mt.crudEnvironmentFields.idValue=null,mt.crudEnvironmentJson.idValue=null,co.setValue(""),mt.inputApiUri.value=null,mt.inputSearchNamespaces.value=null,mt.selectDittoVersion.value=3,mt.inputTabPolicies.checked=!0,mt.inputTabConnections.checked=!0,mt.inputTabOperations.checked=!0}async function Df(){let e,t,d=Ji.get(Rf);if(d)try{let c=await fetch(d);if(!c.ok)throw new Error(`URL ${d} can not be loaded`);e=await c.json(),h(e)}catch(c){e=null,br(c.message,"Error loading environments from URL")}let p=localStorage.getItem(Nc);p&&(t=JSON.parse(p));let m;return e?t?m=s(e,t):m=e:t?m=t:m=Mc,Object.keys(m).forEach(c=>{m[c]=new Ss(m[c])}),m;function h(c){Object.keys(c).forEach(o=>{if(!c[o].hasOwnProperty("api_uri"))throw new SyntaxError("Environments json invalid")})}function s(c,o){let i={};return Object.keys(c).forEach(r=>{i[r]={...o[r],...c[r]}}),{...o,...i}}}function Dc(e){mt.inputApiUri.disabled=!e.detail.isEditing,mt.inputSearchNamespaces.disabled=!e.detail.isEditing,mt.selectDittoVersion.disabled=!e.detail.isEditing,mt.inputTabPolicies.disabled=!e.detail.isEditing,mt.inputTabConnections.disabled=!e.detail.isEditing,mt.inputTabOperations.disabled=!e.detail.isEditing,co.setReadOnly(!e.detail.isEditing),co.renderer.setShowGutter(e.detail.isEditing),e.detail.isEditing||_s()}var Pf={things:{listConnections:{path:"/api/2/solutions/{{solutionId}}/connections",method:"GET",body:null,unwrapJsonPath:null},retrieveConnection:{path:"/api/2/solutions/{{solutionId}}/connections/{{connectionId}}",method:"GET",body:null,unwrapJsonPath:null},createConnection:{path:"/api/2/solutions/{{solutionId}}/connections",method:"POST",body:null,unwrapJsonPath:null},modifyConnection:{path:"/api/2/solutions/{{solutionId}}/connections/{{connectionId}}",method:"PUT",body:null,unwrapJsonPath:null},deleteConnection:{path:"/api/2/solutions/{{solutionId}}/connections/{{connectionId}}",method:"DELETE",body:null,unwrapJsonPath:null},retrieveStatus:{path:"/api/2/solutions/{{solutionId}}/connections/{{connectionId}}/status",method:"GET",body:null,unwrapJsonPath:null},retrieveConnectionLogs:{path:"/api/2/solutions/{{solutionId}}/connections/{{connectionId}}/logs",method:"GET",body:null,unwrapJsonPath:null},retrieveConnectionMetrics:{path:"/api/2/solutions/{{solutionId}}/connections/{{connectionId}}/metrics",method:"GET",body:null,unwrapJsonPath:null},connectionCommand:{path:"/api/2/solutions/{{solutionId}}/connections/{{connectionId}}/command",method:"POST",body:null,unwrapJsonPath:null}},ditto_3:{listConnections:{path:"/api/2/connections",method:"GET",body:null,unwrapJsonPath:null},retrieveConnection:{path:"/api/2/connections/{{connectionId}}",method:"GET",body:null,unwrapJsonPath:null},createConnection:{path:"/api/2/connections",method:"POST",body:null,unwrapJsonPath:null},modifyConnection:{path:"/api/2/connections/{{connectionId}}",method:"PUT",body:null,unwrapJsonPath:null},deleteConnection:{path:"/api/2/connections/{{connectionId}}",method:"DELETE",body:null,unwrapJsonPath:null},retrieveStatus:{path:"/api/2/connections/{{connectionId}}/status",method:"GET",body:null,unwrapJsonPath:null},retrieveConnectionLogs:{path:"/api/2/connections/{{connectionId}}/logs",method:"GET",body:null,unwrapJsonPath:null},retrieveConnectionMetrics:{path:"/api/2/connections/{{connectionId}}/metrics",method:"GET",body:null,unwrapJsonPath:null},connectionCommand:{path:"/api/2/connections/{{connectionId}}/command",method:"POST",body:null,unwrapJsonPath:null}},ditto_2:{listConnections:{path:"/devops/piggyback/connectivity",method:"POST",body:{targetActorSelection:"/user/connectivityRoot/connectionIdsRetrieval/singleton",headers:{aggregate:!1},piggybackCommand:{type:"connectivity.commands:retrieveAllConnectionIds"}},unwrapJsonPath:"?.?.connectionIds"},retrieveConnection:{path:"/devops/piggyback/connectivity",method:"POST",body:{targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1},piggybackCommand:{type:"connectivity.commands:retrieveConnection",connectionId:"{{connectionId}}"}},unwrapJsonPath:"?.?.connection"},createConnection:{path:"/devops/piggyback/connectivity",method:"POST",body:{targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1},piggybackCommand:{type:"connectivity.commands:createConnection",connection:"{{connectionJson}}"}},unwrapJsonPath:"?.?.connection"},modifyConnection:{path:"/devops/piggyback/connectivity",method:"POST",body:{targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1},piggybackCommand:{type:"connectivity.commands:modifyConnection",connection:"{{connectionJson}}"}},unwrapJsonPath:null},deleteConnection:{path:"/devops/piggyback/connectivity",method:"POST",body:{targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1},piggybackCommand:{type:"connectivity.commands:deleteConnection",connectionId:"{{connectionId}}"}},unwrapJsonPath:null},retrieveStatus:{path:"/devops/piggyback/connectivity",method:"POST",body:{targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1},piggybackCommand:{type:"connectivity.commands:retrieveConnectionStatus",connectionId:"{{connectionId}}"}},unwrapJsonPath:"?.?"},retrieveConnectionLogs:{path:"/devops/piggyback/connectivity",method:"POST",body:{targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!0},piggybackCommand:{type:"connectivity.commands:retrieveConnectionLogs",connectionId:"{{connectionId}}"}},unwrapJsonPath:"?.?"},retrieveConnectionMetrics:{path:"/devops/piggyback/connectivity",method:"POST",body:{targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!0},piggybackCommand:{type:"connectivity.commands:retrieveConnectionMetrics",connectionId:"{{connectionId}}"}},unwrapJsonPath:"?.?"},connectionCommand:{path:"/devops/piggyback/connectivity",method:"POST",body:{targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!0},piggybackCommand:{type:"{{command}}",connectionId:"{{connectionId}}"}},unwrapJsonPath:null}}},$r,Mr;function Cs(e){e?V().devopsAuth==="basic"?($r="Authorization",Mr="Basic "+window.btoa(V().usernamePasswordDevOps)):V().devopsAuth==="bearer"?($r="Authorization",Mr="Bearer "+V().bearerDevOps):($r="Basic",Mr=""):V().mainAuth==="basic"?($r="Authorization",Mr="Basic "+window.btoa(V().usernamePassword)):V().mainAuth==="pre"?($r="x-ditto-pre-authenticated",Mr=V().dittoPreAuthenticatedUsername):V().mainAuth==="bearer"?($r="Authorization",Mr="Bearer "+V().bearer):($r="Basic",Mr="")}function Nf(e){return e.status===400&&e.error==="jwt:invalid"||e.status===401}function Zn(e,t){e.status&&e.message?(br(e.description+`
(${e.error})`,e.message,e.status),Nf(e)&&document.getElementById("authorize").click()):br(JSON.stringify(e),"Error",t.status)}async function wt(e,t,d=null,p=null,m=!1,h=!1,s=!1){let c,o=e==="PATCH"?"application/merge-patch+json":"application/json";try{c=await fetch(V().api_uri+(h?"":"/api/2")+t,{method:e,headers:{"Content-Type":o,[$r]:Mr,...p},...e!=="GET"&&e!=="DELETE"&&d!==void 0&&{body:JSON.stringify(d)}})}catch(i){throw br(i),i}if(!c.ok){if(s)return m?c:c.json().then(i=>(Zn(i,c),i));throw c.json().then(i=>{Zn(i,c)}).catch(i=>{br("No error details from Ditto",c.statusText,c.status)}),new Error("An error occurred: "+c.status)}return c.status!==204?m?c:c.json():null}function As(e,t){return new Hc.EventSourcePolyfill(`${V().api_uri}/api/2/things?ids=${e}${t?"&"+t:""}`,{headers:{[$r]:Mr}})}async function Re(e,t,d="",p=null,m=null){lt(Io()!=="things"||V().solutionId,"No solutionId configured in environment");let h=Pf[Io()][e],s,c;h.body?c=JSON.stringify(h.body).replace("{{connectionId}}",d).replace('"{{connectionJson}}"',JSON.stringify(p)).replace("{{command}}",m):p?c=JSON.stringify(p):c=m;try{s=await fetch(V().api_uri+h.path.replace("{{solutionId}}",V().solutionId).replace("{{connectionId}}",d),{method:h.method,headers:{"Content-Type":e==="connectionCommand"?"text/plain":"application/json",[$r]:Mr},...c&&{body:c}})}catch(o){throw br(o),o}if(!s.ok)throw s.json().then(o=>{Zn(o,s)}).catch(o=>{br("No error details from Ditto",s.statusText,s.status)}),new Error("An error occured: "+s.status);e!=="connectionCommand"&&s.status!==204?(document.body.style.cursor="progress",s.json().then(o=>{if(o&&o["?"]&&o["?"]["?"].status>=400){let i=o["?"]["?"].payload;Zn(i,s)}else h.unwrapJsonPath&&h.unwrapJsonPath.split(".").forEach(function(i){i==="?"&&(i=Object.keys(o)[0]),o=o[i]}),t(o)}).catch(o=>{throw br("Error calling connections API",o),o}).finally(()=>{document.body.style.cursor="default"})):t&&t()}function Io(){return V().api_uri.startsWith("https://things")?"things":V().ditto_version==="2"?"ditto_2":"ditto_3"}function Rr(e,t,d,p=null){let m=e,h=t,s=d,c=p,o=!1;return m.addEventListener("click",i),Ue(r),{set viewDirty(a){o=a}};function i(){_c(m.dataset.auth==="devOps"),o&&(s.call(null,!1),o=!1)}function r(a){m.toggleAttribute("hidden",V()[c]??!1),["pinnedThings","filterList","messageTemplates","recentPolicyIds"].includes(a)||(h.classList.contains("show")?s.call(null,!0):o=!0)}}var jc=`<!--
  ~ Copyright (c) 2022 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<h5 data-bs-toggle="collapse" data-bs-target="#connectionsEdit">
    Manage Connections
</h5>
<hr />
<div class="collapse show" id="connectionsEdit">
    <div class="row resizable_pane" style="height: 80vh;">
        <div class="col-md-4 resizable_flex_column">
            <div class="input-group input-group-sm mt-1 mb-1" role="group">
                <div style="flex-grow: 1;"></div>
                <button class="btn btn-outline-secondary btn-sm button_round_left" id="buttonLoadConnections">
                    <i class="bi bi-arrow-clockwise"></i>
                    Refresh
                </button>
            </div>
            <div class="input-group has-validation">
                <input class="form-control" id="tableValidationConnections" hidden="true"></input>
                <div class="invalid-feedback"></div>
            </div>
            <div class="table-wrap mb-1">
                <table class="table table-striped table-hover table-sm">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Live Status</th>
                            <th>Recovery Status</th>
                        </tr>
                    </thead>
                    <tbody id="tbodyConnections"></tbody>
                </table>
            </div>
        </div>
        <div class="col-md-8 resizable_flex_column">
            <h6>CRUD Connection</h6>
            <crud-toolbar label="Connection Id" id="crudConnection" style="flex-grow: 1;">
                <div class="input-group input-group-sm mb-1">
                    <label class="input-group-text">Template</label>
                    <div class="btn-group dropend">
                        <button class="btn btn-outline-secondary btn-sm dropdown-toggle"
                        data-bs-toggle="dropdown" id="buttonConnectionTemplates" disabled></button>
                        <ul id="ulConnectionTemplates" class="dropdown-menu" style="position: fixed; top: auto;"></ul>                                    
                    </div>
                    <input type="text" class="form-control form-control-sm" id="inputConnectionTemplate" disabled></input>
                </div>
                <div class="input-group has-validation">
                    <input class="form-control" id="editorValidationConnection" hidden="true"></input>
                    <div class="invalid-feedback"></div>
                </div>
                <div class="row mb-1" style="flex-grow: 1;">
                    <div class="col-md-6 resizable_flex_column">
                        <div class="ace_container" style="flex-grow: 1;">
                            <div class="script_editor" id="connectionEditor"></div>
                        </div>        
                    </div>
                    <div class="col-md-6 resizable_flex_column">
                        <h6>Incoming JavaScript Mapping</h6>
                        <div class="ace_container mb-3" style="flex-grow: 1;">
                            <div class="script_editor" id="connectionIncomingScript"></div>
                        </div>
                        <h6>Outgoing JavaScript Mapping</h6>
                        <div class="ace_container" style="flex-grow: 1;">
                            <div class="script_editor" id="connectionOutgoingScript"></div>
                        </div>        
                    </div>
                </div>
            </crud-toolbar>
        </div>
    </div>
</div>
<h5 data-bs-toggle="collapse" data-bs-target="#tabConnectionHelper">
    Connection Status, Metrics and Logs
</h5>
<hr />
<div class="collapse show" id="tabConnectionHelper">
    <div class="row resizable_pane" style="height: 80vh;">
        <div class="col-md-4 resizable_flex_column">
            <ul class="nav nav-tabs nav-fill">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" data-bs-target="#tabConnectionMetrics">Metrics</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" data-bs-target="#tabConnectionStatus">Status</a>
                </li>
            </ul>
            <div class="tab-content" style="flex-grow: 1; overflow: hidden">
                <div class="tab-pane container active no-margin" id="tabConnectionMetrics">
                    <div class="resizable_flex_column">
                        <div class="input-group input-group-sm mb-1 mt-1">
                            <button class="btn btn-outline-secondary btn-sm button_round_both"
                                id="buttonResetConnectionMetrics" data-bs-toggle="tooltip"
                                title="Reset connection metrics for the selected connection">
                                <i class="bi bi-x-circle"></i>
                                Reset
                            </button>
                            <div class="form-control-sm" style="flex-grow: 1;"></div>
                            <button class="btn btn-outline-secondary btn-sm button_round_both"
                                id="buttonRetrieveConnectionMetrics" data-bs-toggle="tooltip"
                                title="Refresh connection metrics for the selected connection">
                                <i class="bi bi-arrow-clockwise"></i>
                                Refresh
                            </button>
                        </div>
                        <div class="table-wrap">
                            <table class="table table-striped table-hover table-sm">
                                <thead>
                                    <tr>
                                        <th>Direction</th>
                                        <th>Type</th>
                                        <th>Level</th>
                                        <th>1m</th>
                                        <th>1h</th>
                                        <th>24h</th>
                                    </tr>
                                </thead>
                                <tbody id="tbodyConnectionMetrics"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="tab-pane container fade no-margin" id="tabConnectionStatus">
                    <div class="resizable_flex_column">
                        <div class="input-group input-group-sm mb-1 mt-1">
                            <div class="form-control-sm" style="flex-grow: 1;"></div>
                            <button class="btn btn-outline-secondary btn-sm button_round_both"
                                id="buttonRetrieveConnectionStatus" data-bs-toggle="tooltip"
                                title="Refresh connection status">
                                <i class="bi bi-arrow-clockwise"></i>
                                Refresh
                            </button>
                        </div>
                        <div class="ace_container" style="flex-grow: 1;">
                            <div class="script_editor" id="connectionStatusDetail"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 resizable_flex_column">
            <h6>Connection Logs <span class="badge rounded-pill bg-info" id="badgeConnectionLogsCount"></span></h6>
            <div class="input-group input-group-sm mb-1">
                <button class="btn btn-outline-secondary btn-sm button_round_left" id="buttonEnableConnectionLogs"
                    data-bs-toggle="tooltip" title="Click to enable connection logs for the selected connection">
                    <i class="bi bi-toggle-off"></i>
                    <span>Enable</span>
                </button>
                <button class="btn btn-outline-secondary btn-sm button_round_right" id="buttonResetConnectionLogs"
                    data-bs-toggle="tooltip" title="Reset connection logs for the selected connection">
                    <i class="bi bi-x-circle"></i>
                    Reset
                </button>
                <div class="form-control-sm" style="flex-grow: 1;"></div>
                <button class="btn btn-outline-secondary btn-sm button_round_both" id="buttonRetrieveConnectionLogs"
                    data-bs-toggle="tooltip" title="Refresh connection logs for the selected connection">
                    <i class="bi bi-arrow-clockwise"></i>
                    Refresh
                </button>
            </div>
            <table-filter id="tableFilterConnectionLogs"></table-filter>
            <div class="table-wrap">
                <table class="table table-striped table-hover table-sm" style="table-layout: fixed;">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Category</th>
                            <th>Type</th>
                            <th>Level</th>
                        </tr>
                    </thead>
                    <tbody id="tbodyConnectionLogs"></tbody>
                </table>
            </div>
        </div>
        <div class="col-md-4 resizable_flex_column">
            <h6>Connection Log Detail</h6>
            <div class="ace_container" style="flex-grow: 1;">
                <div class="script_editor" id="connectionLogDetail"></div>
            </div>
        </div>
    </div>
</div>`;var Wc=[];document.getElementById("connectionsHTML").innerHTML=jc;function qn(e){Wc.push(e)}function zf(e,t){Wc.forEach(d=>d.call(null,e,t))}var Ur={tbodyConnections:null,buttonLoadConnections:null,tabConnections:null,collapseConnections:null,tableValidationConnections:null},po;function Uc(){bt(Ur),Rr(Ur.tabConnections,Ur.collapseConnections,Hf,"disableConnections"),ar(Ur.tbodyConnections,Ur.tableValidationConnections),Ur.buttonLoadConnections.onclick=bi,Ur.tbodyConnections.addEventListener("click",Bf)}function Oo(e,t=!1){po=e?e.id:null,zf(e,t)}function bi(){Ur.tbodyConnections.textContent="";let e=!1;Re("listConnections",t=>{t.forEach(d=>{let p=Io()==="ditto_2"?d:d.id,m=Ur.tbodyConnections.insertRow();m.id=p,Io()==="ditto_2"?Re("retrieveConnection",h=>{m.insertCell(0).textContent=h.name},p):m.insertCell(0).textContent=d.name?d.name:p,Re("retrieveStatus",h=>{m.insertCell(-1).textContent=h.liveStatus,m.insertCell(-1).textContent=h.recoveryStatus},p),p===po&&(m.classList.add("table-active"),e=!0)}),e||(po=null,Oo(null))})}function Bf(e){e.target&&e.target.tagName==="TD"&&(po===e.target.parentNode.id?(po=null,Oo(null)):(po=e.target.parentNode.id,Re("retrieveConnection",Oo,po)))}function Hf(e){e&&(po=null,Oo(null)),bi()}var $s={"AMQP 0.9.1":{name:"AMQP 0.9.1",connectionType:"amqp-091",connectionStatus:"closed",failoverEnabled:!0,uri:"amqp://user:password@localhost:5672/vhost",sources:[{addresses:["queueName"],authorizationContext:["ditto:inbound-auth-subject"]}],targets:[{address:"exchangeName/routingKey",topics:["_/_/things/twin/events","_/_/things/live/messages"],authorizationContext:["ditto:outbound-auth-subject"]}]},"AMQP 1.0":{name:"AMQP 1.0",connectionType:"amqp-10",connectionStatus:"closed",failoverEnabled:!0,uri:"amqps://user:password@hono.eclipseprojects.io:5671",sources:[{addresses:["telemetry/FOO"],authorizationContext:["ditto:inbound-auth-subject"]}],targets:[{address:"events/twin",topics:["_/_/things/twin/events"],authorizationContext:["ditto:outbound-auth-subject"]}]},"MQTT 3.1.1":{name:"MQTT 3.1.1",connectionType:"mqtt",connectionStatus:"closed",failoverEnabled:!0,uri:"tcp://test.mosquitto.org:1883",sources:[{addresses:["eclipse-ditto-sandbox/#"],authorizationContext:["ditto:inbound-auth-subject"],qos:0}],targets:[{address:"eclipse-ditto-sandbox/{{ thing:id }}",topics:["_/_/things/twin/events"],authorizationContext:["ditto:outbound-auth-subject"],qos:0}]},"MQTT 5":{name:"MQTT 5",connectionType:"mqtt-5",connectionStatus:"closed",failoverEnabled:!0,uri:"tcp://test.mosquitto.org:1883",sources:[{addresses:["eclipse-ditto-sandbox/#"],authorizationContext:["ditto:inbound-auth-subject"],qos:0}],targets:[{address:"eclipse-ditto-sandbox/{{ thing:id }}",topics:["_/_/things/twin/events"],authorizationContext:["ditto:outbound-auth-subject"],qos:0}]},"MQTT 5 with JS mapping":{name:"MQTT 5 with JS mapping",connectionType:"mqtt-5",connectionStatus:"closed",failoverEnabled:!0,uri:"tcp://test.mosquitto.org:1883",sources:[{addresses:["eclipse-ditto-sandbox/#"],authorizationContext:["ditto:inbound-auth-subject"],qos:0,enforcement:{input:"{{ source:address }}",filters:["eclipse-ditto-sandbox/{{ thing:name }}/update"]},replyTarget:{enabled:!1},payloadMapping:["javascript"]}],targets:[{address:"eclipse-ditto-sandbox/{{ thing:id }}",topics:["_/_/things/twin/events"],authorizationContext:["ditto:outbound-auth-subject"],qos:0,payloadMapping:["javascript"]}],mappingDefinitions:{javascript:{mappingEngine:"JavaScript",options:{incomingScript:`/**
 * Maps the passed parameters to a Ditto Protocol message.
 * @param {Object.<string, string>} headers - The headers Object containing all received header values
 * @param {string} [textPayload] - The String to be mapped
 * @param {ArrayBuffer} [bytePayload] - The bytes to be mapped as ArrayBuffer
 * @param {string} [contentType] - The received Content-Type, e.g. "application/json"
 * @returns {(DittoProtocolMessage|Array<DittoProtocolMessage>)} dittoProtocolMessage(s) -
 *  The mapped Ditto Protocol message,
 *  an array of Ditto Protocol messages or
 *  <code>null</code> if the message could/should not be mapped
 */
function mapToDittoProtocolMsg(
  headers,
  textPayload,
  bytePayload,
  contentType
) {

  // ### Insert/adapt your mapping logic here.
  // Use helper function Ditto.buildDittoProtocolMsg to build Ditto protocol message
  // based on incoming payload.
  // See https://www.eclipse.dev/ditto/connectivity-mapping.html#helper-functions for details.

  // ### example code assuming the Ditto protocol content type for incoming messages.
  if (contentType === 'application/vnd.eclipse.ditto+json') {
    // Message is sent as Ditto protocol text payload and can be used directly
    return JSON.parse(textPayload);
  } else if (contentType === 'application/octet-stream') {
    // Message is sent as binary payload; assume Ditto protocol message (JSON).
    try {
      return JSON.parse(Ditto.arrayBufferToString(bytePayload));
    } catch (e) {
      // parsing failed (no JSON document); return null to drop the message
      return null;
    }
  }

  // no mapping logic matched; return null to drop the message
  return null;
}`,outgoingScript:`/**
 * Maps the passed parameters which originated from a Ditto Protocol message to an external message.
 * @param {string} namespace - The namespace of the entity in java package notation, e.g.: "org.eclipse.ditto". Or "_"
 * (underscore) for connection announcements.
 * @param {string} name - The name of the entity, e.g.: "device".
 * @param {string} group - The affected group/entity: "things"|"policies"|"connections".
 * @param {string} channel - The channel for the signal: "twin"|"live"|"none"
 * @param {string} criterion - The criterion to apply: "commands"|"events"|"search"|"messages"|"announcements"|"errors".
 * @param {string} action - The action to perform: "create"|"retrieve"|"modify"|"delete". Or the announcement name:
 * "opened"|"closed"|"subjectDeletion". Or the subject of the message.
 * @param {string} path - The path which is affected by the message (e.g.: "/attributes"), or the destination
 * of a message (e.g.: "inbox"|"outbox").
 * @param {Object.<string, string>} dittoHeaders - The headers Object containing all Ditto Protocol header values.
 * @param {*} [value] - The value to apply / which was applied (e.g. in a "modify" action).
 * @param {number} [status] - The status code that indicates the result of the command. When this field is set,
 * it indicates that the Ditto Protocol Message contains a response.
 * @param {Object} [extra] - The enriched extra fields when selected via "extraFields" option.
 * @returns {(ExternalMessage|Array<ExternalMessage>)} externalMessage - The mapped external message, an array of
 * external messages or <code>null</code> if the message could/should not be mapped.
 */
function mapFromDittoProtocolMsg(
  namespace,
  name,
  group,
  channel,
  criterion,
  action,
  path,
  dittoHeaders,
  value,
  status,
  extra
) {

  // ###
  // Insert your mapping logic here

  // ### example code using the Ditto protocol content type.
  let headers = dittoHeaders;
  let textPayload = JSON.stringify(Ditto.buildDittoProtocolMsg(namespace, name, group, channel, criterion, action,
                                                               path, dittoHeaders, value, status, extra));
  let bytePayload = null;
  let contentType = 'application/vnd.eclipse.ditto+json';

  return Ditto.buildExternalMsg(
      headers, // The external headers Object containing header values
      textPayload, // The external mapped String
      bytePayload, // The external mapped byte[]
      contentType // The returned Content-Type
  );
}`,loadBytebufferJS:"false",loadLongJS:"false"}}}},"HTTP 1.1":{name:"HTTP 1.1",connectionType:"http-push",connectionStatus:"closed",failoverEnabled:!0,uri:"https://webhook.site:443/<YOUR-WEBHOOK-ID>",specificConfig:{parallelism:"1"},sources:[],targets:[{address:"POST:/ditto-event/{{ thing:id }}",topics:["_/_/things/twin/events"],authorizationContext:["ditto:outbound-auth-subject"],headerMapping:{"content-type":"{{ header:content-type }}","api-key":"this-is-a-secret-api-key-to-send-along"}}]},"Kafka 2.x":{name:"Kafka 2.x",connectionType:"kafka",connectionStatus:"closed",failoverEnabled:!0,uri:"tcp://user:password@localhost:9092",specificConfig:{bootstrapServers:"localhost:9092,other.host:9092",saslMechanism:"plain"},sources:[{addresses:["theTopic"],consumerCount:1,qos:1,authorizationContext:["ditto:inbound-auth-subject"],enforcement:{input:"{{ header:device_id }}",filters:["{{ entity:id }}"]},headerMapping:{},payloadMapping:["Ditto"],replyTarget:{enabled:!0,address:"theReplyTopic",headerMapping:{},expectedResponseTypes:["response","error","nack"]},acknowledgementRequests:{includes:[]},declaredAcks:[]}],targets:[{address:"topic/key",topics:["_/_/things/twin/events","_/_/things/live/messages"],authorizationContext:["ditto:outbound-auth-subject"]}]}};var Xt={buttonConnectionTemplates:null,ulConnectionTemplates:null,inputConnectionTemplate:null,crudConnection:null,editorValidationConnection:null},ze,Do,Po,Ye,ea;function Gc(){qn(ta),bt(Xt),lo(Xt.ulConnectionTemplates,Object.keys($s)),ze=Dt("connectionEditor","ace/mode/json",!0),Do=Dt("connectionIncomingScript","ace/mode/javascript",!0),Po=Dt("connectionOutgoingScript","ace/mode/javascript",!0),Xt.ulConnectionTemplates.addEventListener("click",Yf),Do.on("blur",Vc(Do,"incomingScript")),Po.on("blur",Vc(Po,"outgoingScript")),ze.on("input",Wf),ze.getSession().on("changeAnnotation",Uf),Xt.crudConnection.addEventListener("onEditToggle",Xf),Xt.crudConnection.addEventListener("onCreateClick",Kf),Xt.crudConnection.addEventListener("onUpdateClick",Vf),Xt.crudConnection.addEventListener("onDeleteClick",Gf)}function Vc(e,t){return()=>{if(!Xt.crudConnection.isEditing||ea)return;let p=JSON.parse(ze.getValue());d(p),p.mappingDefinitions.javascript.options[t]=e.getValue(),ze.setValue(Ct(p),-1)};function d(p){p.mappingDefinitions||(p.mappingDefinitions={javascript:{mappingEngine:"JavaScript",options:{incomingScript:"",outgoingScript:""}}})}}function Wf(){ze.session.getUndoManager().isClean()||(Xt.inputConnectionTemplate.value=null,Xt.editorValidationConnection.classList.remove("is-invalid"))}function Uf(){ea=ze.getSession().getAnnotations().filter(e=>e.type==="error").length>0}function Vf(){lt(!ea,"Errors in connection json",Xt.editorValidationConnection),Ye=JSON.parse(ze.getValue()),Re("modifyConnection",()=>{bi(),Xt.crudConnection.toggleEdit()},Xt.crudConnection.idValue,Ye)}function Gf(){We(`Are you sure you want to delete connection<br>'${Ye.name}'?`,"Delete",()=>{Re("deleteConnection",()=>{Oo(null),bi()},Xt.crudConnection.idValue)})}function Kf(){lt(ze.getValue()!=="","Please enter a connection configuration (select a template as a basis)",Xt.editorValidationConnection),lt(!ea,"Errors in connection json",Xt.editorValidationConnection);let e=JSON.parse(ze.getValue());Io()==="ditto_2"?e.id=Math.random().toString(36).replace("0.",""):delete e.id,Re("createConnection",t=>{Oo(t,!0),bi(),Xt.crudConnection.toggleEdit()},null,e)}function Yf(e){Xt.inputConnectionTemplate.value=e.target.textContent;let t=JSON.parse(JSON.stringify($s[Xt.inputConnectionTemplate.value]));ta(t),Xt.editorValidationConnection.classList.remove("is-invalid"),ze.session.getUndoManager().markClean()}function ta(e){Ye=e,Do.setValue(""),Po.setValue(""),Ye?(Xt.crudConnection.idValue=Ye.id?Ye.id:null,ze.setValue(Ct(Ye),-1),Ye.mappingDefinitions&&Ye.mappingDefinitions.javascript&&(Do.setValue(Ye.mappingDefinitions.javascript.options.incomingScript,-1),Po.setValue(Ye.mappingDefinitions.javascript.options.outgoingScript,-1))):(Xt.crudConnection.idValue=null,ze.setValue(""))}function Xf(e){let t=e.detail.isEditing;Xt.buttonConnectionTemplates.disabled=!t,ze.setReadOnly(!t),ze.renderer.setShowGutter(t),Do.setReadOnly(!t),Do.renderer.setShowGutter(t),Po.setReadOnly(!t),Po.renderer.setShowGutter(t),t||(Xt.crudConnection.idValue&&Xt.crudConnection.idValue!==""?ta(Ye):ta(null))}var Qi=(d=>(d[d.PROP_LIKE=0]="PROP_LIKE",d[d.PROP_EQ=1]="PROP_EQ",d))(Qi||{}),Ie=class e{constructor(t,d,p="@",m){console.assert(!(p==="@"&&t!==0)),this.type=t,this.key=p,this.values=[d],this.keyDisplay=m}add(t){this.values=[...new Set([...t,...this.values])]}toJsonPath(){switch(this.type){case 1:return this.values.map(t=>`@.${this.key}=="${t}"`).join("||");case 0:return this.key==="@"?`/${this.values[0].toString().replace(/\//g,"\\/")}/.test(JSON.stringify(@))`:this.values.map(t=>`/${t.replace(/\//g,"\\/")}/.test(@.${this.key})`).join("||")}}static fromString(t){let d=/^([^:~]+)(:|~)?(.*)/gm.exec(t.replace(/\s/g,""));return d[2]===":"?new e(1,d[3],d[1]):d[2]==="~"?new e(0,d[3],d[1]):new e(0,d[1])}static fromJSON(t){return console.assert(t.values.length===1),new e(t.type,t.values[0],t.key,t.keyDisplay)}toString(){switch(this.type){case 1:return`${this.keyDisplay??this.key}:${this.values.toString().replace(/\\/g,"")}`;case 0:return this.key==="@"?this.values[0]:`${this.keyDisplay??this.key}~${this.values.toString().replace(/\\/g,"")}`}}},Zi=class{constructor(){this.terms=[];this.addPropEq=(t,d)=>(this.addOrUpdate(new Ie(1,d,t)),this);this.addPropLike=(t,d)=>(this.addOrUpdate(new Ie(0,d,t)),this);this.addFromString=t=>{let d=Ie.fromString(t);return this.addOrUpdate(d),this};this.addOrUpdate=t=>{let d=this.terms.find(p=>p.type===t.type&&p.key===t.key);return d?d.add(t.values):this.terms.push(t),this};this.getAllUIs=()=>this.terms.map(t=>this.createChipUIForTerm(t));this.deleteFilterCallback=t=>{let d=t.target.getAttribute("data-key"),p=Qi[t.target.getAttribute("data-type")];this.terms=this.terms.filter(m=>m.key!==d||m.type!==p),this.onFilterChange&&this.onFilterChange.filterChanged()}}setAllLike(t){return this.addOrUpdate(new Ie(0,t)),this}clear(){this.terms=[]}createChipUIForTerm(t){let d=document.createElement("span");d.classList.add("badge","rounded-pill","bg-info","mb-1","me-1"),d.innerText=t.toString();let p=document.createElement("button");return p.type="button",p.classList.add("btn-close"),p.style.fontSize="0.75em",p.setAttribute("data-key",t.key),p.setAttribute("data-type",Qi[t.type]),p.onclick=this.deleteFilterCallback,d.appendChild(p),d}createJsonPath(){let t=this.terms.map(d=>d.toJsonPath());return t.length>1?`$[?(${t.map(d=>`(${d})`).join("&&")})]`:t.length>0?`$[?(${t})]`:null}};var Ft={tbodyConnectionLogs:null,tbodyConnectionMetrics:null,buttonRetrieveConnectionStatus:null,buttonRetrieveConnectionLogs:null,buttonEnableConnectionLogs:null,buttonResetConnectionLogs:null,buttonRetrieveConnectionMetrics:null,buttonResetConnectionMetrics:null,tableValidationConnections:null,tableFilterConnectionLogs:null,badgeConnectionLogsCount:null},Ms=[],ra,hi,oa,Xe;async function Yc(){qn(ov),bt(Ft),hi=Dt("connectionLogDetail","ace/mode/json",!0),hi.session.setUseWrapMode(!0),oa=Dt("connectionStatusDetail","ace/mode/json",!0),Ft.buttonRetrieveConnectionStatus.onclick=Kc,document.querySelector('a[data-bs-target="#tabConnectionStatus"]').onclick=Kc,Ft.buttonEnableConnectionLogs.onclick=ev,Ft.buttonResetConnectionLogs.onclick=tv,Ft.buttonRetrieveConnectionLogs.onclick=ia,Ft.tbodyConnectionLogs.addEventListener("click",Zf),Ft.tableFilterConnectionLogs.addEventListener("filterChange",iv),Ft.tableFilterConnectionLogs.filterOptions=nv(),Ft.buttonRetrieveConnectionMetrics.onclick=Rs,document.querySelector('a[data-bs-target="#tabConnectionMetrics"]').onclick=Rs,Ft.buttonResetConnectionMetrics.onclick=Qf,Ft.tbodyConnectionMetrics.addEventListener("click",qf)}function Qf(){lt(Xe,"Please select a connection",Ft.tableValidationConnections),Re("connectionCommand",Rs,Xe,null,"connectivity.commands:resetConnectionMetrics")}function Zf(e){hi.setValue(Ct(ra[e.target.parentNode.rowIndex-1]),-1),hi.session.getUndoManager().reset()}function qf(e){}function tv(){lt(Xe,"Please select a connection",Ft.tableValidationConnections),Re("connectionCommand",ia,Xe,null,"connectivity.commands:resetConnectionLogs")}function ev(){lt(Xe,"Please select a connection",Ft.tableValidationConnections),Re("connectionCommand",ia,Xe,null,"connectivity.commands:enableConnectionLogs")}function Rs(){lt(Xe,"Please select a connection",Ft.tableValidationConnections),Ft.tbodyConnectionMetrics.textContent="",Re("retrieveConnectionMetrics",e=>{e.connectionMetrics&&Object.keys(e.connectionMetrics).forEach(t=>{e.connectionMetrics[t]&&Object.keys(e.connectionMetrics[t]).forEach(d=>{let p=e.connectionMetrics[t][d];zt(Ft.tbodyConnectionMetrics,t,!1,null,d,"success",p.success.PT1M,p.success.PT1H,p.success.PT24H);let h=zt(Ft.tbodyConnectionMetrics,t,!1,null,d,"failure",p.failure.PT1M,p.failure.PT1H,p.failure.PT24H).lastElementChild;for(let s=0;s<3;s++)h.innerHTML!=="0"&&h.classList.add("text-danger"),h=h.previousElementSibling})})},Xe)}function Kc(){lt(Xe,"Please select a connection",Ft.tableValidationConnections),Re("retrieveStatus",e=>{oa.setValue(Ct(e),-1),oa.session.getUndoManager().reset()},Xe)}function ia(){lt(Xe,"Please select a connection",Ft.tableValidationConnections),Re("retrieveConnectionLogs",e=>{Ms=e.connectionLogs,rv(e),Xc()},Xe)}function Xc(){Ft.tbodyConnectionLogs.textContent="",hi.setValue(""),ra=Ft.tableFilterConnectionLogs.filterItems(Ms),ra.forEach(e=>{zt(Ft.tbodyConnectionLogs,Yi(e.timestamp,!0),!1,null,e.category,e.type,e.level)}),Xi(Ft.badgeConnectionLogsCount,Ms,ra),Ft.tbodyConnectionLogs.scrollTop=Ft.tbodyConnectionLogs.scrollHeight-Ft.tbodyConnectionLogs.clientHeight}function rv(e){e.enabledUntil?(Ft.buttonEnableConnectionLogs.querySelector("i").classList.replace("bi-toggle-off","bi-toggle-on"),Ft.buttonEnableConnectionLogs.setAttribute("title",`Enabled until ${Yi(e.enabledUntil)}`)):(Ft.buttonEnableConnectionLogs.querySelector("i").classList.replace("bi-toggle-on","bi-toggle-off"),Ft.buttonEnableConnectionLogs.setAttribute("title","Click to enable connection logs for the selected connection"))}function ov(e,t=!0){Xe=e?e.id:null,oa.setValue(""),hi.setValue(""),Ft.tbodyConnectionMetrics.textContent="",Ft.tbodyConnectionLogs.textContent="",!t&&e&&e.id&&ia()}function iv(e){Xc()}function nv(){let e=[];return["consumed","mapped","dropped","enforced","acknowledged","throttled","dispatched","filtered","published"].forEach(t=>e.push(new Ie(1,t,"type"))),["source","target","response"].forEach(t=>e.push(new Ie(1,t,"category"))),["success","failure"].forEach(t=>e.push(new Ie(1,t,"level"))),["thing"].forEach(t=>e.push(new Ie(1,t,"entityType"))),e}var Jc=`<!--
  ~ Copyright (c) 2023 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
-->

<h5 data-bs-toggle="collapse" data-bs-target="#servicesLogging">Ditto Services Logging</h5>
<hr />
<div class="collapse show" id="servicesLogging">
    <div class="input-group input-group-sm mt-1 mb-1" role="group">
        <div style="flex-grow: 1;"></div>
        <button class="btn btn-outline-primary btn-sm button_round_left" id="buttonLoadAllLogLevels">
            <i class="bi bi-arrow-clockwise"></i>
            Refresh
        </button>
    </div>
    <div class="row resizable_pane" style="height: 80vh">
        <div class="col-md-12 resizable_flex_column">
            <div id="divLoggers"></div>
            <template id="templateLogger">
                <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
                      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
                <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css"
                    rel="stylesheet"
                    integrity="sha512-dPXYcDub/aeb08c63jRq/k6GaKccl256JQy/AnOq7CAnEZ9FzSL9wSbcZkMp4R26vBsMLFYH4kQ67/bbV8XaCQ=="
                    crossorigin="anonymous" referrerpolicy="no-referrer" />
                <link href="./dist/main.css" rel="stylesheet" />

                <div class="input-group input-group-sm mb-1 has-validation">
                    <input class="form-control me-1" type="text" disabled id="inputLogger" spellcheck="false"></input>
                    <div class="btn-group" role="group">
                        <input type="radio" class="btn-check" name="btnLevel" id="debug" autocomplete="off">
                        <label class="btn btn-sm btn-outline-secondary" for="debug">DEBUG</label>
                        <input type="radio" class="btn-check" name="btnLevel" id="info" autocomplete="off">
                        <label class="btn btn-sm btn-outline-success" for="info">INFO</label>
                        <input type="radio" class="btn-check" name="btnLevel" id="warn" autocomplete="off">
                        <label class="btn btn-sm btn-outline-warning" for="warn">WARN</label>
                        <input type="radio" class="btn-check" name="btnLevel" id="error" autocomplete="off">
                        <label class="btn btn-sm btn-outline-danger" for="error">ERROR</label>
                    </div>
                    <div class="invalid-feedback"></div>
                </div>
            </template>
        </div>
    </div>
</div>
`;var hr={buttonLoadAllLogLevels:null,divLoggers:null,templateLogger:null,tabOperations:null,collapseOperations:null};document.getElementById("servicesLoggingHTML").innerHTML=Jc;async function Zc(){bt(hr),Rr(hr.tabOperations,hr.collapseOperations,Is,"disableOperations"),hr.buttonLoadAllLogLevels.onclick=Is}function Qc(e,t){wt("PUT","/devops/logging/"+e,t,null,!1,!0).then(()=>{Is()})}function Is(){wt("GET","/devops/logging",null,null,!1,!0).then(e=>lv(e)).catch(e=>{hr.divLoggers.textContent=""})}function lv(e){hr.divLoggers.textContent="",Object.keys(e).sort().forEach((m,h)=>{t(m,h),Object.values(e[m])[0].loggerConfigs.forEach(s=>{d(m,s)}),p(m)});function t(m,h){let s=document.createElement("h6");s.innerText=m,h>0&&s.classList.add("mt-3"),hr.divLoggers.append(s)}function d(m,h){let s=document.createElement("div");s.attachShadow({mode:"open"}),s.shadowRoot.append(hr.templateLogger.content.cloneNode(!0)),s.shadowRoot.getElementById("inputLogger").value=h.logger,s.shadowRoot.getElementById(h.level).setAttribute("checked",""),Array.from(s.shadowRoot.querySelectorAll(".btn-check")).forEach(c=>{c.addEventListener("click",o=>Qc(m,{logger:h.logger,level:o.target.id}))}),hr.divLoggers.append(s)}function p(m){let h=document.createElement("div");h.attachShadow({mode:"open"}),h.shadowRoot.append(hr.templateLogger.content.cloneNode(!0));let s=h.shadowRoot.getElementById("inputLogger");s.disabled=!1,s.placeholder="Add new logger name and choose log level",s.addEventListener("change",c=>{c.target.classList.remove("is-invalid")}),Array.from(h.shadowRoot.querySelectorAll(".btn-check")).forEach(c=>{c.addEventListener("click",o=>{lt(s.value&&s.value.trim()!=="","Logger name must not be empty",s),Qc(m,{logger:s.value,level:o.target.id})})}),hr.divLoggers.append(h)}}var qc=`<!--
  ~ Copyright (c) 2023 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<h5 data-bs-toggle="collapse" data-bs-target="#piggyBackCommands">
    Piggyback Commands
</h5>
<hr />
<div class="collapse show" id="piggyBackCommands">
    <div class="row-cols-md-auto" style="height: 80vh;">
        <div class="col-md-auto resizable_flex_column">
            <div class="row mb-1" style="flex-grow: 1;">
                <div class="col-md-6 resizable_flex_column">
                    <div class="col-md-auto resizable_flex_column">
                        <div class="row mb-1">
                            <div class="col-md-6 resizable_flex_column">
                                <div class="col-md-auto">
                                    <button id="showTemplates" class="btn btn-outline-primary btn-sm button_round_right"
                                        data-bs-toggle="modal" data-bs-target="#templatesModal">
                                        Insert Template
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-6 resizable_flex_column">
                                <div class="col-md-auto">
                                    <button class="btn btn-outline-primary btn-sm button_round_right"
                                        style="float: right;" id="buttonSubmit">
                                        Submit
                                    </button>
                                    <button hidden class="btn btn-outline-secondary btn-sm button_round_right"
                                        style="float: right;" id="buttonCancel">
                                        Cancel
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="input-group input-group-sm mb-1 has-validation">
                            <label class="input-group-text">Service</label>
                            <select class="form-select-sm" id="serviceSelector"></select>
                            <button class="btn btn-outline-primary btn-sm button_round_right"
                                id="buttonLoadServiceInstances">
                                <i class="bi bi-arrow-clockwise"></i>
                            </button>
                            <div class="invalid-feedback"></div>
                        </div>

                        <div class="input-group input-group-sm mb-1" hidden id="instanceContainer">
                            <a class="input-group-text">Instance:</a>
                            <select class="form-select-sm" id="instanceSelector"></select>
                        </div>

                        <div class="input-group input-group-sm mb-1 has-validation" style="width: 20%;">
                            <label class="input-group-text">Timeout in sec</label>
                            <input type="text" class="form-control form-control-sm" id="timeout"></input>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="input-group input-group-sm mb-1 has-validation">
                            <label class="input-group-text">Actor path</label>
                            <input type="text" class="form-control form-control-sm" id="targetActorSelection"></input>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="has-validation">
                            <h6 id="headerValidationElement">Header</h6>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="ace_container" style="flex-grow: 0.2;">
                            <div class="script_editor" id="aceHeaders"></div>
                        </div>
                        <div class="has-validation">
                            <h6 id="commandValidationElement">Command</h6>
                            <div class="invalid-feedback"></div>
                        </div>
                        <div class="ace_container" style="flex-grow: 1;">
                            <div class="script_editor" id="aceCommand"></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 resizable_flex_column">
                    <div class="row mb-1">
                        <div class="col-md-auto resizable_flex_column">
                            <h6>Request status:</h6>
                        </div>
                        <div class="col-md-auto resizable_flex_column">
                            <div id="responseStatus">no request made</div>
                        </div>
                    </div>
                    <h6>Result</h6>
                    <div class="ace_container" style="flex-grow: 1;">
                        <div class="script_editor" id="acePiggybackResponse"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
`;var na={targetActorSelection:"/user/gateway/proxy",headers:{aggregate:!1,"is-group-topic":!1},command:{type:"things.commands:retrieveThing",thingID:"com.acme:foobar1"}};var tp={Overall:{"Modify SBR enabled":{service:"Overall",timeout:5,targetActorSelection:"/system/cluster/core/daemon/downingProvider",headers:{aggregate:!0,"ditto-sudo":!0},command:{type:"ditto.sbr:modify",enabled:!0}}},connectivity:{"sudo: retrieve connection":{service:"connectivity",timeout:5,targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"connectivity.commands:retrieveConnection",connectionId:"{{connection.id}}"}},"sudo: retrieve all connection IDs":{service:"connectivity",timeout:5,targetActorSelection:"/user/connectivityRoot/connectionIdsRetrieval",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"connectivity.commands:retrieveAllConnectionIds"}},"sudo: retrieve all connection IDs by tag":{service:"connectivity",timeout:5,targetActorSelection:"/user/connectivityRoot/connectionIdsRetrieval",headers:{aggregate:!1,"is-group-topic":!1},command:{type:"connectivity.sudo.commands:sudoRetrieveConnectionIdsByTag",tag:"{{tag}}"}},"sudo: retrieve connection tags":{service:"connectivity",timeout:5,targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!1},command:{type:"connectivity.sudo.commands:sudoRetrieveConnectionTags",connectionId:"{{connection.id}}"}},"sudo: retrieve connection metrics":{service:"connectivity",timeout:5,targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"connectivity.commands:retrieveConnectionMetrics",connectionId:"{{connection.id}}"}},"sudo: retrieve connection logs":{service:"connectivity",timeout:5,targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"connectivity.commands:retrieveConnectionLogs",connectionId:"{{connection.id}}"}},"sudo: enable connection logs":{service:"connectivity",timeout:5,targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"connectivity.commands:enableConnectionLogs",connectionId:"{{connection.id}}"}},"sudo: close connection":{service:"connectivity",timeout:5,targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"connectivity.commands:closeConnection",connectionId:"{{connection.id}}"}},"sudo: open connection":{service:"connectivity",timeout:5,targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"connectivity.commands:openConnection",connectionId:"{{connection.id}}"}},"create connection":{service:"connectivity",timeout:5,targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!1,"ditto-auth-context":{type:"{{auth.type}}",subjects:["{{subject}}"]}},command:{type:"connectivity.commands:modifyConnection",connection:"{{full.connection.json}}"}},"sudo: modify connection":{service:"connectivity",timeout:5,targetActorSelection:"/system/sharding/connection",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"connectivity.commands:modifyConnection",connection:"{{full.connection.json}}"}},"connectivity: retrieve cleanup progress":{service:"connectivity",timeout:5,targetActorSelection:"/user/connectivityRoot/persistenceCleanup",headers:{"ditto-sudo":!0},command:{type:"status.commands:retrieveHealth"}},"connectivity: retrieve cleanup config":{service:"connectivity",timeout:5,targetActorSelection:"/user/connectivityRoot/persistenceCleanup",headers:{"ditto-sudo":!0},command:{type:"common.commands:retrieveConfig"}},"connectivity: modify cleanup config":{service:"connectivity",timeout:5,targetActorSelection:"/user/connectivityRoot/persistenceCleanup",headers:{"ditto-sudo":!0},command:{type:"common.commands:modifyConfig",config:{enabled:!1,"last-pid":""}}}},gateway:{},policies:{"retrieve policy":{service:"policies",timeout:5,targetActorSelection:"/system/sharding/policy",headers:{aggregate:!1,"is-group-topic":!1,"ditto-auth-context":{type:"{{auth.type}}",subjects:["{{subject}}"]}},command:{type:"policies.commands:retrievePolicy",policyId:"{{policy.id}}"}},"modify policy":{service:"policies",timeout:5,targetActorSelection:"/system/sharding/policy",headers:{aggregate:!1,"is-group-topic":!1,"ditto-auth-context":{type:"{{auth.type}}",subjects:["{{subject}}"]}},command:{type:"policies.commands:modifyPolicy",policyId:"{{policy.id}}",policy:{entries:{}}}},"sudo: retrieve policy":{service:"policies",timeout:5,targetActorSelection:"/system/sharding/policy",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"policies.commands:retrievePolicy",policyId:"{{policy.id}}"}},"sudo: modify policy":{service:"policies",timeout:5,targetActorSelection:"/system/sharding/policy",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"policies.commands:modifyPolicy",policyId:"{{policy.id}}",policy:{entries:{}}}},"sudo: delete policy":{service:"policies",timeout:5,targetActorSelection:"/system/sharding/policy",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"policies.commands:deletePolicy",policyId:"{{policy.id}}"}},"unblock namespace":{service:"policies",timeout:5,targetActorSelection:"/user/blockedNamespacesUpdater/singleton",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"namespaces.commands:unblockNamespace",namespace:"{{namespace}}"}},"policies: retrieve cleanup progress":{service:"policies",timeout:5,targetActorSelection:"/user/policiesRoot/persistenceCleanup",headers:{"ditto-sudo":!0},command:{type:"status.commands:retrieveHealth"}},"policies: retrieve cleanup config":{service:"policies",timeout:5,targetActorSelection:"/user/policiesRoot/persistenceCleanup",headers:{"ditto-sudo":!0},command:{type:"common.commands:retrieveConfig"}},"policies: modify cleanup config":{service:"policies",timeout:5,targetActorSelection:"/user/policiesRoot/persistenceCleanup",headers:{"ditto-sudo":!0},command:{type:"common.commands:modifyConfig",config:{enabled:!1,"last-pid":""}}}},things:{"retrieve thing":{service:"things",timeout:5,targetActorSelection:"/system/sharding/thing",headers:{aggregate:!1,"is-group-topic":!1,"ditto-auth-context":{type:"{{auth.type}}",subjects:["{{subject}}"]}},command:{type:"things.commands:retrieveThing",thingId:"{{thing.id}}"}},"create thing":{service:"things",timeout:5,targetActorSelection:"/system/sharding/thing",headers:{aggregate:!1,"is-group-topic":!1,"ditto-auth-context":{type:"{{auth.type}}",subjects:["{{subject}}"]}},command:{type:"things.commands:createThing",thing:{thingId:"{{thing.id}}",policyId:"{{policy.id}}",attributes:{foo:"bar"}}}},"modify thing":{service:"things",timeout:5,targetActorSelection:"/system/sharding/thing",headers:{aggregate:!1,"is-group-topic":!1,"ditto-auth-context":{type:"{{auth.type}}",subjects:["{{subject}}"]}},command:{type:"things.commands:modifyThing",thing:{thingId:"{{thing.id}}",policyId:"{{policy.id}}",attributes:{foo:"bar"}}}},"sudo: retrieve thing":{service:"things",timeout:5,targetActorSelection:"/system/sharding/thing",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"things.commands:retrieveThing",thingId:"{{thing.id}}"}},"sudo: create thing":{service:"things",timeout:5,targetActorSelection:"/system/sharding/thing",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"things.commands:createThing",thing:{thingId:"{{thing.id}}",policyId:"{{thing.id}}",attributes:{foo:"bar"}}}},"sudo: modify thing":{service:"things",timeout:5,targetActorSelection:"/system/sharding/thing",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"things.commands:modifyThing",thing:{thingId:"{{thing.id}}",policyId:"{{thing.id}}",attributes:{foo:"bar"}}}},"sudo: delete thing":{service:"things",timeout:5,targetActorSelection:"/system/sharding/thing",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"things.commands:deleteThing",thingId:"{{thing.id}}"}},"thing: retrieve cleanup progress":{service:"things",timeout:5,targetActorSelection:"/user/thingsRoot/persistenceCleanup",headers:{"ditto-sudo":!0},command:{type:"status.commands:retrieveHealth"}},"thing: retrieve cleanup config":{service:"things",timeout:5,targetActorSelection:"/user/thingsRoot/persistenceCleanup",headers:{"ditto-sudo":!0},command:{type:"common.commands:retrieveConfig"}},"thing: modify cleanup config":{service:"things",timeout:5,targetActorSelection:"/user/thingsRoot/persistenceCleanup",headers:{"ditto-sudo":!0},command:{type:"common.commands:modifyConfig",config:{enabled:!1,"last-pid":""}}}},search:{"retrieve sync progress":{service:"search",timeout:5,targetActorSelection:"/user/thingsWildcardSearchRoot/searchUpdaterRoot/backgroundSync/singleton",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"status.commands:retrieveHealth"}},"reset sync events":{service:"search",timeout:5,targetActorSelection:"/user/thingsWildcardSearchRoot/searchUpdaterRoot/backgroundSync/singleton",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"status.commands:resetHealthEvents"}},"retrieve sync config":{service:"search",timeout:5,targetActorSelection:"/user/thingsWildcardSearchRoot/searchUpdaterRoot/backgroundSync/singleton",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"common.commands:retrieveConfig"}},"modify sync config":{service:"search",timeout:5,targetActorSelection:"/user/thingsWildcardSearchRoot/searchUpdaterRoot/backgroundSync/singleton",headers:{aggregate:!1,"is-group-topic":!1,"ditto-sudo":!0},command:{type:"common.commands:modifyConfig",config:{enabled:!0,"idle-timeout":"5m",keep:{events:"2"},"max-backoff":"2m","max-restarts":180,"min-backoff":"1s","policy-ask-timeout":"10s","quiet-period":"8m",recovery:"5m",throttle:{period:"10s",throughput:100},"tolerance-window":"20m"}}},"force update thing in index":{service:"search",timeout:5,targetActorSelection:"/user/thingsWildcardSearchRoot/searchUpdaterRoot/thingsUpdater",headers:{aggregate:!1,"is-group-topic":!1,"force-update":!0},command:{type:"thing-search.sudo.commands:sudoUpdateThing",thingId:"<THING-ID>",invalidateThing:!1,invalidatePolicy:!1,updateReason:"UNKNOWN"}},"force update for complete namespaces":{service:"search",timeout:5,targetActorSelection:"/user/thingsWildcardSearchRoot/searchUpdaterRoot/backgroundSyncProxy",headers:{aggregate:!1,"is-group-topic":!1,"force-update":!0,namespaces:["namespace1","namespace2"]},command:{type:"common.commands:shutdown"}}}};var ep=`<!--
  ~ Copyright (c) 2023 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<div id="templatesModal" class="modal fade" tabindex="-1">
    <div class="modal-dialog modal-dialog-scrollable modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                Templates
                <button type="button" class="btn-close btn-sm" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="input-group input-group-sm mb-1">
                    <a class="nav-link active">Service: </a>
                    <select class="form-select-sm" id="templateServiceSelector"></select>
                </div>

                <div class="input-group input-group-sm mb-1">
                    <a class="nav-link active">Template:</a>
                    <select class="form-select-sm" id="templateSelector"></select>
                </div>

                <pre class="ace_container" id="commandPreview"></pre>

                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary btn-sm"
                        data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-outline-primary btn-sm" id="insertTemplate"
                        data-bs-toggle="tooltip" data-bs-dismiss="modal">Insert</button>
                </div>
            </div>
        </div>
    </div>
</div>`;var Ve={templateServiceSelector:null,templateSelector:null,commandPreview:null,insertTemplate:null,templatesModal:null},Os="Overall",Ds,Ps=new Map,qi=new Map;document.getElementById("templatesHTML").innerHTML=ep;async function rp(){bt(Ve),gv(),Ve.templateServiceSelector.onchange=ip,Ve.templateSelector.onchange=np,Ve.insertTemplate.onclick=bv}function op(e){Ve.templateServiceSelector.value=e,ip()}function Ns(e,t,d){return{targetActorSelection:e,headers:t,piggybackCommand:d}}function gv(){let e=[];for(let[t,d]of Object.entries(tp).sort()){e.push(t),qi.set(t,[]);for(let[p,m]of Object.entries(d))qi.get(t).push(p),Ps.set(p,m),m.service!==Os&&qi.get(Os).push(p)}je(Ve.templateServiceSelector,e),je(Ve.templateSelector,qi.get(Os))}function ip(){if(Ve.templateServiceSelector.value!==Ds){Ds=Ve.templateServiceSelector.value;let e=qi.get(Ds);je(Ve.templateSelector,e),np()}}function np(){let e=Ps.get(Ve.templateSelector.value);if(e){let t=Ns(e.targetActorSelection,e.headers,e.command);Ve.commandPreview.textContent=Ct(t)}else Ve.commandPreview.textContent=""}async function bv(){let e=Ps.get(Ve.templateSelector.value);e&&sp(e)}var Fs="Invalid json!",hv="Headers field is required!",fv="Command field is required!",up="Timeout field is required!",mp="Actor path field is required!",gp="No services available!",Hs="Loading...",vv="request in progress",dp="error",Vr,aa="Overall",fi={},vr,bp="All",No,Gr,Kr,Fo,zs=new Map,pt={showTemplates:null,serviceSelector:null,instanceContainer:null,instanceSelector:null,timeout:null,buttonLoadServiceInstances:null,targetActorSelection:null,buttonSubmit:null,buttonCancel:null,responseStatus:null,commandValidationElement:null,headerValidationElement:null,tabOperations:null,collapseOperations:null};document.getElementById("piggybackHTML").innerHTML=qc;async function hp(){bt(pt),pt.showTemplates.onclick=function(){let e=pt.serviceSelector.value;e===Hs&&(e=aa),op(e)},Rr(pt.tabOperations,pt.collapseOperations,cp,"disableOperations"),yv(),pt.targetActorSelection.placeholder=na.targetActorSelection,pt.buttonLoadServiceInstances.onclick=cp,pt.buttonSubmit.onclick=wv,pt.serviceSelector.onchange=js,pt.instanceSelector.onchange=xv,pt.timeout.onchange=kv,pt.targetActorSelection.onchange=Ev}function sp(e){Vr=e,pt.serviceSelector.value=Vr.service,No=void 0,js(),pt.timeout.value=Vr.timeout,pt.targetActorSelection.value=Vr.targetActorSelection,Gr.setValue(Ct(Vr.headers),-1),Kr.setValue(Ct(Vr.command),-1)}async function cp(){fi[aa]=[],je(pt.serviceSelector,[Hs]),await wt("GET","/devops/logging",null,null,!1,!0).then(t=>{let d=Object.entries(t).sort();d.length>0?d.forEach(p=>{let h=Object.values(p[1]).map(s=>s.instance).sort();h.unshift(bp),fi[p[0]]=h}):fi=[]}).catch(t=>{fi=[]}),e(fi);function e(t){let d=Object.keys(t);vr?d.indexOf(vr)==-1&&(vr=void 0):Vr&&d.indexOf(Vr.service)!==-1?vr=Vr.service:d.length>0&&(vr=d[0]),je(pt.serviceSelector,d),pt.serviceSelector.value=vr,js()}}function js(){!pt.serviceSelector.value!==vr&&(fr(pt.serviceSelector.value!=="",gp,pt.serviceSelector),vr=pt.serviceSelector.value,vr&&vr!==aa?(pt.instanceContainer.removeAttribute("hidden",""),e(fi[vr])):pt.instanceContainer.setAttribute("hidden",""));function e(t){No?t.indexOf(No)==-1&&(No=void 0):t.length>0&&(No=t[0]),je(pt.instanceSelector,t),pt.instanceSelector.value=No}}function yv(){Gr=Dt("aceHeaders","ace/mode/json"),Gr.setOption("wrap",!0),zs.set(Gr.getSession(),pt.headerValidationElement),Kr=Dt("aceCommand","ace/mode/json"),Kr.setOption("wrap",!0),zs.set(Kr.getSession(),pt.commandValidationElement),Fo=Dt("acePiggybackResponse","ace/mode/json"),Fo.setReadOnly(!0),Fo.setOption("wrap",!0),Gr.setOption("placeholder",Ct(na.headers)),Kr.setOption("placeholder",Ct(na.command)),Gr.getSession().on("changeAnnotation",pp),Kr.getSession().on("changeAnnotation",pp)}function pp(e,t){fr(!Bs(t),Fs,zs.get(t))}function Bs(e){return e.getAnnotations().filter(t=>t.type==="error").length>0}async function wv(){if(e()){pt.responseStatus.textContent=vv,Fo.setValue("",-1);let m=t(pt.serviceSelector.value,pt.instanceSelector.value,pt.timeout.value),h=Ns(pt.targetActorSelection.value,JSON.parse(Gr.getValue()),JSON.parse(Kr.getValue()));new Promise((c,o)=>{d(o);try{wt("POST",m,h,null,!0,!0).then(i=>c(i)).catch(i=>o(i))}catch(i){p(),Fo.setValue(i.message,-1),pt.responseStatus.textContent=dp}}).then(c=>{p(),c.json().then(o=>{Fo.setValue(Ct(o),-1),pt.responseStatus.textContent=c.status})}).catch(c=>{p(),Fo.setValue(c.message,-1),pt.responseStatus.textContent=dp})}function e(){let m=fr(pt.timeout.value.trim()!=="",up,pt.timeout),h=fr(pt.serviceSelector.value!==""&&pt.serviceSelector.value!==Hs,gp,pt.serviceSelector),s=fr(pt.targetActorSelection.value.trim()!=="",mp,pt.targetActorSelection),c=fr(Gr.getValue().trim()!=="",hv,pt.headerValidationElement);c&&=fr(!Bs(Gr.getSession()),Fs,pt.headerValidationElement);let o=fr(Kr.getValue().trim()!=="",fv,pt.commandValidationElement);return o&&=fr(!Bs(Kr.getSession()),Fs,pt.commandValidationElement),m&&h&&s&&c&&o}function t(m,h,s){let c="";return m&&m!==aa&&(c=`/${m}`,h&&h!=bp&&(c+=`/${h}`)),`/devops/piggyback${c}?timeout=${s}`}function d(m){pt.buttonCancel.onclick=function(){m({message:"Cancelled"})},pt.buttonCancel.removeAttribute("hidden",""),pt.buttonSubmit.setAttribute("hidden","")}function p(){pt.buttonCancel.setAttribute("hidden",""),pt.buttonSubmit.removeAttribute("hidden",""),pt.buttonCancel.onclick=void 0}}function xv(){No=pt.instanceSelector.value}function kv(){fr(pt.timeout.value.trim()!=="",up,pt.timeout)}function Ev(){fr(pt.targetActorSelection.value.trim()!=="",mp,pt.targetActorSelection)}function fr(e,t,d){try{lt(e,t,d)}catch{return!1}return!0}var fp=`<!--
  ~ Copyright (c) 2022 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<div>
    <div>
        <div class="row resizable_pane" style="height: 40vh;">
            <div class="col-md-7 resizable_flex_column">
                <form class="input-group input-group-sm mb-1 mt-1" autocomplete="off">
                    <div class="btn-group dropend">
                        <button id="searchFavorite" class="btn btn-outline-secondary btn-sm" data-bs-toggle="tooltip"
                            title="Toggle favorite for search filter">
                            <i id="favIcon" class="bi bi-star"></i>
                        </button>
                    </div>
                    <input autocomplete="false" name="hidden" type="text" style="display:none;">
                    <input type="search" class="form-control form-control-sm" id="searchFilterEdit" name="search"
                           spellcheck=false autocomplete="off" />
                    <span class="input-group-text" id="searchFilterCount" data-bs-toggle="tooltip"
                          title="Amount of things matching the filter">
                    </span>
                    <button type="button" id="searchThings" class="btn btn-outline-primary btn-sm" data-bs-toggle="tooltip"
                        title="Search things by thingId or valid ditto search filter">
                        search
                    </button>
                    <button type="button" id="pinnedThings" class="btn btn-outline-secondary btn-sm me-3 button_round_right"
                        data-bs-toggle="tooltip" title="Pinned things: get the list of all individually pinned things">
                        pinned
                    </button>
                    <button type="button" id="tableSettings" class="btn btn-outline-secondary btn-sm button_round_both"
                        data-bs-toggle="modal" data-bs-target="#fieldsModal">
                        <span data-bs-toggle="tooltip" title="Adjust fields for things table">
                            <i class="bi bi-gear"></i>
                        </span>
                    </button>
                </form>
                <div class="table-wrap">
                    <table class="table table-striped table-hover table-sm">
                        <thead>
                            <tr id="thingsTableHead"></tr>
                        </thead>
                        <tbody id="thingsTableBody"></tbody>
                    </table>
                </div>
            </div>
            <div class="col-md-5 resizable_flex_column" style="height: auto" id="details">
                <ul id="tabItemsThing" class="nav nav-tabs nav-fill">
                    <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" data-bs-target="#tabThingDetails">Details</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" data-bs-target="#tabModifyThing">Manage</a>
                        </li>
                    </ul>
                    <div id="tabContentThing" class="tab-content" style="flex-grow:1; overflow:hidden;">
                        <div class="tab-pane fade show active container no-margin" id="tabThingDetails">
                            <div class="table-wrap">
                                <table class="table table-striped table-hover table-sm">
                                    <tbody id="tbodyThingDetails"></tbody>
                                </table>
                            </div>
                    </div>
                    <div class="tab-pane fade container no-margin" id="tabModifyThing">
                        <crud-toolbar id="crudThings" label="Thing ID">
                            <div class="input-group input-group-sm mb-1">
                                <label class="input-group-text" id="labelX">Definition</label>
                                <div class="btn-group dropend">
                                    <button class="btn btn-outline-secondary btn-sm dropdown-toggle"
                                    data-bs-toggle="dropdown" disabled id="buttonThingDefinitions"></button>
                                    <ul id="ulThingDefinitions" class="dropdown-menu" style="position: fixed; top: auto;"></ul>                                    
                                </div>
                                <input type="text" class="form-control" id="inputThingDefinition" disabled></input>
                            </div>
                            <div class="ace_container mb-1" style="flex-grow: 1;">
                                <div class="script_editor" id="thingJsonEditor"></div>
                            </div>
                        </crud-toolbar>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<h5 data-bs-toggle="collapse" data-bs-target="#collapseAttributes">Attributes <span class="badge rounded-pill bg-info"
        id="badgeAttributeCount"></span></h5>
<hr />
<div class="collapse" id="collapseAttributes">
    <div class="row resizable_pane" style="height: 20vh;">
        <div class="col-md-7 resizable_flex_column" style="overflow-y:scroll;">
            <table class="table table-striped table-hover table-sm">
                <tbody id="tbodyAttributes"></tbody>
            </table>
        </div>
        <div class="col-md-5 resizable_flex_column" style="height: auto">
            <ul class="nav nav-tabs nav-fill" id="tabItemsAttribute">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" data-bs-target="#tabCrudAttribute">Manage</a>
                </li>
            </ul>
            <div class="tab-content" style="flex-grow: 1;" id="tabContentAttribute">
                <div class="tab-pane container active no-margin" id="tabCrudAttribute">
                    <crud-toolbar id="crudAttribute" label="Attribute key">
                        <div class="ace_container mb-1" style="flex-grow: 1;">
                            <div class="script_editor" id="attributeEditor"></div>
                        </div>
                    </crud-toolbar>
                </div>
            </div>
        </div>
    </div>
</div>
`;function Ir(e){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(e)}function yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vp(e,t){for(var d=0;d<t.length;d++){var p=t[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(e,p.key,p)}}function wp(e,t,d){return t&&vp(e.prototype,t),d&&vp(e,d),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}function en(e){return en=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},en(e)}function rn(e,t){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,m){return p.__proto__=m,p},rn(e,t)}function xp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tn(e,t,d){return xp()?tn=Reflect.construct.bind():tn=function(m,h,s){var c=[null];c.push.apply(c,h);var o=Function.bind.apply(m,c),i=new o;return s&&rn(i,s.prototype),i},tn.apply(null,arguments)}function Sv(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ws(e){var t=typeof Map=="function"?new Map:void 0;return Ws=function(p){if(p===null||!Sv(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(p))return t.get(p);t.set(p,m)}function m(){return tn(p,arguments,en(this).constructor)}return m.prototype=Object.create(p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),rn(m,p)},Ws(e)}function _v(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Av(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _v(e)}function Lv(e){var t=xp();return function(){var p=en(e),m;if(t){var h=en(this).constructor;m=Reflect.construct(p,arguments,h)}else m=p.apply(this,arguments);return Av(this,m)}}function $v(e){return Mv(e)||Rv(e)||kp(e)||Iv()}function Mv(e){if(Array.isArray(e))return Us(e)}function Rv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kp(e,t){if(e){if(typeof e=="string")return Us(e,t);var d=Object.prototype.toString.call(e).slice(8,-1);if(d==="Object"&&e.constructor&&(d=e.constructor.name),d==="Map"||d==="Set")return Array.from(e);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Us(e,t)}}function Us(e,t){(t==null||t>e.length)&&(t=e.length);for(var d=0,p=new Array(t);d<t;d++)p[d]=e[d];return p}function Iv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ov(e,t){var d=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!d){if(Array.isArray(e)||(d=kp(e))||t&&e&&typeof e.length=="number"){d&&(e=d);var p=0,m=function(){};return{s:m,n:function(){return p>=e.length?{done:!0}:{done:!1,value:e[p++]}},e:function(o){throw o},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,s=!1,c;return{s:function(){d=d.call(e)},n:function(){var o=d.next();return h=o.done,o},e:function(o){s=!0,c=o},f:function(){try{!h&&d.return!=null&&d.return()}finally{if(s)throw c}}}}var Ge=Object.prototype.hasOwnProperty;function zo(e,t){return e=e.slice(),e.push(t),e}function Vs(e,t){return t=t.slice(),t.unshift(e),t}var Dv=function(e){Cv(d,e);var t=Lv(d);function d(p){var m;return yp(this,d),m=t.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),m.avoidNew=!0,m.value=p,m.name="NewError",m}return wp(d)}(Ws(Error));function Pt(e,t,d,p,m){if(!(this instanceof Pt))try{return new Pt(e,t,d,p,m)}catch(o){if(!o.avoidNew)throw o;return o.value}typeof e=="string"&&(m=p,p=d,d=t,t=e,e=null);var h=e&&Ir(e)==="object";if(e=e||{},this.json=e.json||d,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=Ge.call(e,"wrap")?e.wrap:!0,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||p||null,this.otherTypeCallback=e.otherTypeCallback||m||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},e.autostart!==!1){var s={path:h?e.path:t};h?"json"in e&&(s.json=e.json):s.json=d;var c=this.evaluate(s);if(!c||Ir(c)!=="object")throw new Dv(c);return c}}Pt.prototype.evaluate=function(e,t,d,p){var m=this,h=this.parent,s=this.parentProperty,c=this.flatten,o=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,d=d||this.callback,this.currOtherTypeCallback=p||this.otherTypeCallback,t=t||this.json,e=e||this.path,e&&Ir(e)==="object"&&!Array.isArray(e)){if(!e.path&&e.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Ge.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');var i=e;t=i.json,c=Ge.call(e,"flatten")?e.flatten:c,this.currResultType=Ge.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=Ge.call(e,"sandbox")?e.sandbox:this.currSandbox,o=Ge.call(e,"wrap")?e.wrap:o,this.currPreventEval=Ge.call(e,"preventEval")?e.preventEval:this.currPreventEval,d=Ge.call(e,"callback")?e.callback:d,this.currOtherTypeCallback=Ge.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,h=Ge.call(e,"parent")?e.parent:h,s=Ge.call(e,"parentProperty")?e.parentProperty:s,e=e.path}if(h=h||null,s=s||null,Array.isArray(e)&&(e=Pt.toPathString(e)),!(!e&&e!==""||!t)){var r=Pt.toPathArray(e);r[0]==="$"&&r.length>1&&r.shift(),this._hasParentSelector=null;var a=this._trace(r,t,["$"],h,s,d).filter(function(n){return n&&!n.isParentSelector});return a.length?!o&&a.length===1&&!a[0].hasArrExpr?this._getPreferredOutput(a[0]):a.reduce(function(n,l){var u=m._getPreferredOutput(l);return c&&Array.isArray(u)?n=n.concat(u):n.push(u),n},[]):o?[]:void 0}};Pt.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":{var d=Array.isArray(e.path)?e.path:Pt.toPathArray(e.path);return e.pointer=Pt.toPointer(d),e.path=typeof e.path=="string"?e.path:Pt.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[t];case"path":return Pt.toPathString(e[t]);case"pointer":return Pt.toPointer(e.path);default:throw new TypeError("Unknown result type")}};Pt.prototype._handleCallback=function(e,t,d){if(t){var p=this._getPreferredOutput(e);e.path=typeof e.path=="string"?e.path:Pt.toPathString(e.path),t(p,d,e)}};Pt.prototype._trace=function(e,t,d,p,m,h,s,c){var o=this,i;if(!e.length)return i={path:d,value:t,parent:p,parentProperty:m,hasArrExpr:s},this._handleCallback(i,h,"value"),i;var r=e[0],a=e.slice(1),n=[];function l(w){Array.isArray(w)?w.forEach(function(b){n.push(b)}):n.push(w)}if((typeof r!="string"||c)&&t&&Ge.call(t,r))l(this._trace(a,t[r],zo(d,r),t,r,h,s));else if(r==="*")this._walk(t,function(w){l(o._trace(a,t[w],zo(d,w),t,w,h,!0,!0))});else if(r==="..")l(this._trace(a,t,d,p,m,h,s)),this._walk(t,function(w){Ir(t[w])==="object"&&l(o._trace(e.slice(),t[w],zo(d,w),t,w,h,!0))});else{if(r==="^")return this._hasParentSelector=!0,{path:d.slice(0,-1),expr:a,isParentSelector:!0};if(r==="~")return i={path:zo(d,r),value:m,parent:p,parentProperty:null},this._handleCallback(i,h,"property"),i;if(r==="$")l(this._trace(a,t,d,null,null,h,s));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(r))l(this._slice(r,a,t,d,p,m,h));else if(r.indexOf("?(")===0){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var u=r.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(t,function(w){o._eval(u,t[w],w,d,p,m)&&l(o._trace(a,t[w],zo(d,w),t,w,h,!0))})}else if(r[0]==="("){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");l(this._trace(Vs(this._eval(r,t,d[d.length-1],d.slice(0,-1),p,m),a),t,d,p,m,h,s))}else if(r[0]==="@"){var g=!1,v=r.slice(1,-2);switch(v){case"scalar":(!t||!["object","function"].includes(Ir(t)))&&(g=!0);break;case"boolean":case"string":case"undefined":case"function":Ir(t)===v&&(g=!0);break;case"integer":Number.isFinite(t)&&!(t%1)&&(g=!0);break;case"number":Number.isFinite(t)&&(g=!0);break;case"nonFinite":typeof t=="number"&&!Number.isFinite(t)&&(g=!0);break;case"object":t&&Ir(t)===v&&(g=!0);break;case"array":Array.isArray(t)&&(g=!0);break;case"other":g=this.currOtherTypeCallback(t,d,p,m);break;case"null":t===null&&(g=!0);break;default:throw new TypeError("Unknown value type "+v)}if(g)return i={path:d,value:t,parent:p,parentProperty:m},this._handleCallback(i,h,"value"),i}else if(r[0]==="`"&&t&&Ge.call(t,r.slice(1))){var E=r.slice(1);l(this._trace(a,t[E],zo(d,E),t,E,h,s,!0))}else if(r.includes(",")){var x=r.split(","),A=Ov(x),S;try{for(A.s();!(S=A.n()).done;){var f=S.value;l(this._trace(Vs(f,a),t,d,p,m,h,!0))}}catch(w){A.e(w)}finally{A.f()}}else!c&&t&&Ge.call(t,r)&&l(this._trace(a,t[r],zo(d,r),t,r,h,s,!0))}if(this._hasParentSelector)for(var L=0;L<n.length;L++){var $=n[L];if($&&$.isParentSelector){var C=this._trace($.expr,t,$.path,p,m,h,s);if(Array.isArray(C)){n[L]=C[0];for(var _=C.length,y=1;y<_;y++)L++,n.splice(L,0,C[y])}else n[L]=C}}return n};Pt.prototype._walk=function(e,t){if(Array.isArray(e))for(var d=e.length,p=0;p<d;p++)t(p);else e&&Ir(e)==="object"&&Object.keys(e).forEach(function(m){t(m)})};Pt.prototype._slice=function(e,t,d,p,m,h,s){if(Array.isArray(d)){var c=d.length,o=e.split(":"),i=o[2]&&Number.parseInt(o[2])||1,r=o[0]&&Number.parseInt(o[0])||0,a=o[1]&&Number.parseInt(o[1])||c;r=r<0?Math.max(0,r+c):Math.min(c,r),a=a<0?Math.max(0,a+c):Math.min(c,a);for(var n=[],l=r;l<a;l+=i){var u=this._trace(Vs(l,t),d,p,m,h,s,!0);u.forEach(function(g){n.push(g)})}return n}};Pt.prototype._eval=function(e,t,d,p,m,h){this.currSandbox._$_parentProperty=h,this.currSandbox._$_parent=m,this.currSandbox._$_property=d,this.currSandbox._$_root=this.json,this.currSandbox._$_v=t;var s=e.includes("@path");s&&(this.currSandbox._$_path=Pt.toPathString(p.concat([d])));var c="script:"+e;if(!Pt.cache[c]){var o=e.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");s&&(o=o.replace(/@path/g,"_$_path")),Pt.cache[c]=new this.vm.Script(o)}try{return Pt.cache[c].runInNewContext(this.currSandbox)}catch(i){throw new Error("jsonPath: "+i.message+": "+e)}};Pt.cache={};Pt.toPathString=function(e){for(var t=e,d=t.length,p="$",m=1;m<d;m++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[m])||(p+=/^[\*0-9]+$/.test(t[m])?"["+t[m]+"]":"['"+t[m]+"']");return p};Pt.toPointer=function(e){for(var t=e,d=t.length,p="",m=1;m<d;m++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[m])||(p+="/"+t[m].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return p};Pt.toPathArray=function(e){var t=Pt.cache;if(t[e])return t[e].concat();var d=[],p=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(h,s){return"[#"+(d.push(s)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(h,s){return"['"+s.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(h,s){return";"+s.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,""),m=p.split(";").map(function(h){var s=h.match(/#([0-9]+)/);return!s||!s[1]?h:d[s[1]]});return t[e]=m,t[e].concat()};var Pv=function(t,d,p){for(var m=t.length,h=0;h<m;h++){var s=t[h];p(s)&&d.push(t.splice(h--,1)[0])}},Nv=function(){function e(t){yp(this,e),this.code=t}return wp(e,[{key:"runInNewContext",value:function(d){var p=this.code,m=Object.keys(d),h=[];Pv(m,h,function(r){return typeof d[r]=="function"});var s=m.map(function(r,a){return d[r]}),c=h.reduce(function(r,a){var n=d[a].toString();return/function/.test(n)||(n="function "+n),"var "+a+"="+n+";"+r},"");p=c+p,!/(["'])use strict\1/.test(p)&&!m.includes("arguments")&&(p="var arguments = undefined;"+p),p=p.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"");var o=p.lastIndexOf(";"),i=o>-1?p.slice(0,o+1)+" return "+p.slice(o+1):" return "+p;return tn(Function,m.concat([i])).apply(void 0,$v(s))}}]),e}();Pt.prototype.vm={Script:Nv};var Ep=`<!--
  ~ Copyright (c) 2022 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<!-- Scrollable modal -->
<div id="fieldsModal" class="modal fade" tabindex="-1">
    <div class="modal-dialog modal-dialog-scrollable modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                Adjust fields for things table
                <button type="button" class="btn-close btn-sm" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="input-group input-group-sm mb-1 mt-1">
                    <div class="form-control-sm" style="flex-grow: 1;"></div>
                    <button class="btn btn-outline-secondary btn-sm" id="fieldUp">
                        <i class="bi bi-chevron-up"></i>
                    </button>
                    <button class="btn btn-outline-secondary btn-sm" id="fieldDown">
                        <i class="bi bi-chevron-down"></i>
                    </button>
                </div>

                <table class="table table-striped table-hover table-sm has-validation">
                    <tbody id="fieldList"></tbody>
                </table>
                <h6>Field Details</h6>
                <div class="input-group input-group-sm mb-1 mt-1 has-validation">
                    <label class="input-group-text">Field Path</label>
                    <input type="text" class="form-control" id="fieldPath"></input>
                    <button class="btn btn-outline-secondary btn-sm" id="fieldCreate" data-bs-toggle="tooltip"
                        title="Add a new field with the given path">
                        <i class="bi bi-plus-circle"></i>
                    </button>
                    <button class="btn btn-outline-secondary btn-sm" id="fieldUpdate" data-bs-toggle="tooltip"
                        title="Save selected field details">
                        <i class="bi bi-save"></i>
                    </button>
                    <button class="btn btn-outline-secondary btn-sm" id="fieldDelete" data-bs-toggle="tooltip"
                        title="Delete selected field">
                        <i class="bi bi-trash3"></i>
                    </button>
                    <div class="invalid-feedback"></div>
                </div>
                <div class="input-group input-group-sm mb-1">
                    <label class="input-group-text">Field Label</label>
                    <input type="text" class="form-control form-control-sm" id="fieldLabel"></input>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>`;var Jt=-1,Wt={fieldPath:null,fieldLabel:null,fieldList:null,fieldsModal:null};document.getElementById("fieldsHTML").innerHTML=Ep;function Ks(){V().fieldList||(V().fieldList=[]);let e=V().fieldList.filter(t=>t.active).map(t=>t.path);return"fields=thingId"+(e.length>0?","+e:"")}var Gs=null;function Tp(e){Wt.fieldPath.value=e,Wt.fieldLabel.value=null,Gs||(Gs=new Lr(Wt.fieldsModal)),Gs.show()}async function Cp(){Ue(Bv),bt(Wt),Wt.fieldList.addEventListener("click",e=>{e.target&&e.target.tagName==="TD"&&zv(e.target.parentNode.rowIndex)}),Wt.fieldsModal.addEventListener("hide.bs.modal",()=>{ge()}),document.getElementById("fieldUpdate").onclick=()=>{lt(Jt>=0,"No field selected");let e=V().fieldList[Jt],p=V().fieldList.filter((m,h)=>h!=Jt).map(m=>m.path).includes(e.path);console.log(p),lt(!V().fieldList.filter((m,h)=>h!=Jt).map(m=>m.path).includes(Wt.fieldPath.value),"Changed field path already exists",Wt.fieldPath),e.path=Wt.fieldPath.value,e.label=Wt.fieldLabel.value,Bo()},document.getElementById("fieldCreate").onclick=()=>{lt(Wt.fieldPath.value,"Field path must not be empty",Wt.fieldPath),lt(!V().fieldList.map(e=>e.path).includes(Wt.fieldPath.value),"Field path already exists",Wt.fieldPath),V().fieldList.push({active:!0,path:Wt.fieldPath.value,label:Wt.fieldLabel.value?Wt.fieldLabel.value:Wt.fieldPath.value.split("/").slice(-1)[0]}),Bo()},document.getElementById("fieldDelete").onclick=()=>{lt(Jt>=0,"No field selected"),V().fieldList.splice(Jt,1),Bo(),Jt=-1},document.getElementById("fieldUp").onclick=()=>{if(Jt<=0)return;let e=V().fieldList[Jt];V().fieldList.splice(Jt,1),Jt--,V().fieldList.splice(Jt,0,e),Bo()},document.getElementById("fieldDown").onclick=()=>{if(Jt<0||Jt===V().fieldList.length-1)return;let e=V().fieldList[Jt];V().fieldList.splice(Jt,1),Jt++,V().fieldList.splice(Jt,0,e),Bo()}}function zv(e){if(Jt===e)Jt=-1,Wt.fieldPath.value=null,Wt.fieldLabel.value=null;else{Jt=e;let t=V().fieldList[Jt];Wt.fieldPath.value=t.path,Wt.fieldLabel.value=t.label?t.label:null}}function Bv(){V().fieldList||(V().fieldList=[]),Bo()}function Bo(){Wt.fieldList.textContent="",Jt=-1,V().fieldList.forEach((e,t)=>{let d=Wt.fieldPath.value===e.path,p=Wt.fieldList.insertRow();mi(p,t,e.active,!1,Hv),p.insertCell(-1).textContent=e.path,p.insertCell(-1).textContent=e.label?e.label:null,d&&(Jt=t,p.classList.add("table-active"),Wt.fieldLabel.value=e.label)}),Jt<0&&(Wt.fieldPath.value=null,Wt.fieldLabel.value=null)}function Hv(e){V().fieldList[e.target.id].active=e.target.checked,Bo()}var Ho,sa;async function Sp(){Ee(Uv),Ap(Wv),Ue(Vv)}var _p=[];function da(e){_p.push(e)}function jv(e){_p.forEach(t=>t.call(null,e))}function Wv(e,t){la(sa),e&&e.length>0&&(console.log("SSE Start: THINGS TABLE"),sa=As(e,t),sa.onmessage=Kv)}function Uv(e,t){e?t&&(Ho&&Ho.close(),console.log("SSE Start: SELECTED THING : "+e.thingId),Ho=As(e.thingId,"fields=thingId,policyId,definition,attributes,features,_revision,_created,_modified,_metadata,_context/topic,_context/path,_context/value&extraFields=thingId,policyId,definition,attributes,features,_revision,_created,_modified,_metadata"),Ho.onmessage=Gv):la(Ho)}function la(e){e&&(e.close(),console.log("SSE Stopped: "+(e===Ho?"SELECTED THING":"THINGS TABLE")))}function Vv(e){["pinnedThings","filterList","messageTemplates","recentPolicyIds"].includes(e)||(la(Ho),la(sa))}function Gv(e){if(e.data&&e.data!==""){let t=JSON.parse(e.data);Or(t),jv(JSON.parse(e.data))}}function Kv(e){e.data&&e.data!==""&&Js(JSON.parse(e.data))}var pa="",ca,le={searchFilterCount:null,thingsTableHead:null,thingsTableBody:null,searchFilterEdit:null,favIcon:null},Lp=[];function Ap(e){Lp.push(e)}function vi(e=null,t=null){Lp.forEach(d=>d.call(null,e,t))}async function $p(){Ee(Qv),da(Js),bt(le),le.thingsTableBody.addEventListener("click",Yv)}function Yv(e){if(e.target&&e.target.nodeName==="TD"){let t=e.target.parentNode;t.id==="searchThingsMore"?(t.style.pointerEvents="none",e.stopImmediatePropagation(),Mp(le.searchFilterEdit.value,!0)):St&&St.thingId===t.id?(e.stopImmediatePropagation(),Or(null)):wr(t.id,null)}}function nn(e,t){pa=e,e===""||/^(eq\(|ne\(|gt\(|ge\(|lt\(|le\(|in\(|like\(|ilike\(|exists\(|and\(|or\(|not\().*/.test(e)?(Mp(e),t()):an([e])}function Qs(){pa="pinned",le.searchFilterEdit.value=null,le.favIcon.classList.replace("bi-star-fill","bi-star"),an(V().pinnedThings)}function ma(){pa==="pinned"?Qs():nn(pa,()=>null)}function an(e){le.searchFilterCount.textContent="",le.thingsTableBody.textContent="";let t=Ks();e.length>0?wt("GET",`/things?${t}&ids=${e}&option=sort(%2BthingId)`).then(d=>{Rp(d),le.searchFilterCount.textContent="#: "+d.length,vi(e,t)}).catch(d=>{ua(),vi()}):(ua(),vi())}function ua(e=!1){ca=null,le.searchFilterCount.textContent="",le.thingsTableHead.textContent="",le.thingsTableBody.textContent="",e||Or(null)}function Xv(e){le.searchFilterCount.textContent="";let t=V().searchNamespaces;wt("GET","/search/things/count"+(e&&e!==""?"?filter="+encodeURIComponent(e):"")+(t&&t!==""?"&namespaces="+t:""),null,null).then(d=>{le.searchFilterCount.textContent="#: "+d}).catch(d=>{vi()})}function Mp(e,t=!1){document.body.style.cursor="progress";let d=V().searchNamespaces,p=Ks();wt("GET","/search/things?"+p+(e&&e!==""?"&filter="+encodeURIComponent(e):"")+(d&&d!==""?"&namespaces="+d:"")+"&option=sort(%2BthingId)"+(t?",cursor("+ca+")":""),null,null).then(s=>{t?Zs():(Xv(e),ua(!0)),Rp(s.items),m(s),t||vi(s.items.map(c=>c.thingId),p)}).catch(s=>{ua(),vi()}).finally(()=>{document.body.style.cursor="default"});function m(s){s.cursor?(h(),ca=s.cursor):ca=null}function h(){let s=le.thingsTableBody.insertRow().insertCell(-1);s.textContent="load more...",s.colSpan=le.thingsTableBody.rows[0].childElementCount,s.style.textAlign="center",s.style.cursor="pointer",s.disabled=!0,s.style.color="#3a8c9a",s.parentNode.id="searchThingsMore"}}function Zs(){let e=document.getElementById("searchThingsMore");e&&e.parentNode.removeChild(e)}function Rp(e){let t=V().fieldList.filter(s=>s.active);p();let d=!1;e.forEach((s,c)=>{let o=le.thingsTableBody.insertRow();m(o,s)}),d||Or(null);function p(){le.thingsTableHead.textContent="",Qn(le.thingsTableHead,""),Qn(le.thingsTableHead,"Thing ID"),t.forEach(s=>{Qn(le.thingsTableHead,s.label?s.label:s.path)})}function m(s,c){s.id=c.thingId,St&&c.thingId===St.thingId&&(d=!0,s.classList.add("table-active")),mi(s,c.thingId,V().pinnedThings.includes(c.thingId),!1,Jv),so(s,h(c.thingId),c.thingId),t.forEach(o=>{let i=o.path.replace(/\//g,".");i.charAt(0)!=="."&&(i="$."+i);let r=Pt({json:c,path:i});so(s,r.length!==0?r[0]:"").setAttribute("jsonPath",i)})}function h(s){let c=/([0-9a-f]{7})[0-9a-f]-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/g,o=s;return V().shortenUUID&&(o=o.replace(c,"$1")),V().defaultNamespace&&(o=o.replace(V().defaultNamespace,"dn")),o}}function Jv(e){if(e.target.checked)V().pinnedThings.push(this.id);else{let t=V().pinnedThings.indexOf(this.id);t>-1&&V().pinnedThings.splice(t,1)}ge("pinnedThings")}function Qv(e){e||Tc(le.thingsTableBody,()=>!1)}function Js(e){let t=document.getElementById(e.thingId);console.assert(t!==null,"Unexpected thingId for table update. thingId was not loaded before"),Array.from(t.cells).forEach(d=>{let p=d.getAttribute("jsonPath");if(p){let m=Pt({json:e,path:p});m.length!==0&&(d.innerHTML=Mo(m[0]))}})}var St,Ip=[],qs={collapseThings:null,tabThings:null};document.getElementById("thingsHTML").innerHTML=fp;function Ee(e){Ip.push(e)}async function Op(){bt(qs),Rr(qs.tabThings,qs.collapseThings,Zv)}function wr(e,t=null){console.assert(e&&e!=="","thingId expected"),wt("GET",`/things/${e}?fields=thingId%2CpolicyId%2Cdefinition%2Cattributes%2Cfeatures%2C_created%2C_modified%2C_revision%2C_metadata`).then(d=>{Or(d),t&&t()}).catch(()=>Or(null))}function Or(e){let t=e&&(!St||St.thingId!==e.thingId);St=e,Ip.forEach(d=>d.call(null,St,t))}function Zv(){ma()}var Dp=`<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" rel="stylesheet"
  integrity="sha512-dPXYcDub/aeb08c63jRq/k6GaKccl256JQy/AnOq7CAnEZ9FzSL9wSbcZkMp4R26vBsMLFYH4kQ67/bbV8XaCQ=="
  crossorigin="anonymous" referrerpolicy="no-referrer" />
<link href="./dist/main.css" rel="stylesheet" />
<div class="resizable_flex_column px-1" id="divRoot">
  <div class="input-group input-group-sm mb-1 mt-1 has-validation">
    <label class="input-group-text" id="label">Default</label>
    <input type="text" class="form-control" spellcheck="false" disabled id="inputIdValue">
    <button class="btn btn-outline-primary btn-sm" id="buttonEdit" data-bs-toggle="tooltip" title="Edit">
      Create
    </button>
    <button class="btn btn-outline-primary btn-sm" hidden id="buttonCreate" data-bs-toggle="tooltip" title="Create">
      Create
    </button>
    <button class="btn btn-outline-primary btn-sm" hidden id="buttonUpdate" data-bs-toggle="tooltip" title="Update">
      Update
    </button>
    <button class="btn btn-outline-secondary btn-sm" hidden id="buttonDelete" data-bs-toggle="tooltip" title="Delete">
      Delete
    </button>
    <button class="btn btn-outline-secondary btn-sm" hidden id="buttonCancel" data-bs-toggle="tooltip" title="Cancel">
      Cancel
    </button>
    <button type="button" id="buttonFullscreen" hidden class="btn btn-outline-secondary btn-sm button_round_both ms-1" title="Toggle fullscreen">
        <i class="bi bi-arrows-fullscreen"></i>
    </button>
    <div class="invalid-feedback"></div>
  </div>
  <slot></slot>
</div>`;var t0="editBackground",ga="editForground",tl="editForgroundBig",e0="bi-arrows-fullscreen",r0="bi-fullscreen-exit",ba="fullscreen";var el=class extends HTMLElement{constructor(){super();this.isEditing=!1;this.isEditDisabled=!1;this.isCreateDisabled=!1;this.isDeleteDisabled=!1;this.dom={label:null,inputIdValue:null,buttonEdit:null,buttonCreate:null,buttonUpdate:null,buttonDelete:null,buttonCancel:null,buttonFullscreen:null,divRoot:null};this.attachShadow({mode:"open"})}get idValue(){return this.dom.inputIdValue.value}set idValue(d){let p=this.shadowRoot.getElementById("inputIdValue");p.value=d,p.classList.remove("is-invalid");let m=this.shadowRoot.getElementById("buttonEdit");d&&d!==""?m.innerText="Edit":m.innerText="Create";let h=this.shadowRoot.getElementById("buttonDelete");!this.isEditing&&!this.isDeleteDisabled&&d&&d!==""?h.removeAttribute("hidden"):h.setAttribute("hidden","")}get editDisabled(){return this.isEditDisabled}set createDisabled(d){this.isCreateDisabled=d,this.lazyInit(this.dom.buttonCreate),this.setButtonState(this.dom.buttonCreate,d)}set deleteDisabled(d){this.isDeleteDisabled=d,this.lazyInit(this.dom.buttonDelete),this.setButtonState(this.dom.buttonDelete,d)}set editDisabled(d){this.isEditDisabled=d,this.isEditing||(this.lazyInit(this.dom.buttonEdit),this.setButtonState(this.dom.buttonEdit,d))}lazyInit(d){d||bt(this.dom,this.shadowRoot)}setButtonState(d,p){p?d.setAttribute("hidden",""):d.removeAttribute("hidden")}get validationElement(){return this.dom.inputIdValue}connectedCallback(){this.shadowRoot.innerHTML=Dp,setTimeout(()=>{bt(this.dom,this.shadowRoot),this.dom.buttonEdit.onclick=()=>this.toggleEdit(!1),this.dom.buttonCancel.onclick=()=>this.toggleEdit(!0),this.dom.label.innerText=this.getAttribute("label")||"Label",this.dom.buttonCreate.onclick=this.eventDispatcher("onCreateClick"),this.dom.buttonUpdate.onclick=this.eventDispatcher("onUpdateClick"),this.dom.buttonDelete.onclick=this.eventDispatcher("onDeleteClick"),this.dom.buttonFullscreen.onclick=()=>this.toggleFullscreen(),this.dom.inputIdValue.addEventListener("change",d=>{d.target.classList.remove("is-invalid"),this.dispatchEvent(new CustomEvent("onIdValueChange",{composed:!0}))})})}eventDispatcher(d){return()=>{this.dispatchEvent(new CustomEvent(d,{composed:!0}))}}toggleEdit(d){this.isEditing=!this.isEditing,document.getElementById("modalCrudEdit").classList.toggle(t0),document.body.classList.toggle("modal-open"),document.body.style.overflow=this.isEditing&&this.hasAttribute(ba)?"hidden":"",this.dom.divRoot.classList.toggle(this.hasAttribute(ba)?tl:ga),this.setButtonState(this.dom.buttonEdit,this.isEditing||this.isEditDisabled),this.setButtonState(this.dom.buttonFullscreen,!this.isEditing),this.dom.buttonCancel.toggleAttribute("hidden"),this.isEditing?this.dom.inputIdValue.value?this.dom.buttonUpdate.toggleAttribute("hidden"):this.isCreateDisabled||this.dom.buttonCreate.toggleAttribute("hidden"):(this.dom.buttonCreate.setAttribute("hidden",""),this.dom.buttonUpdate.setAttribute("hidden","")),(this.isEditing||!this.dom.inputIdValue.value)&&this.dom.buttonDelete.setAttribute("hidden","");let p=this.isEditing&&(!this.dom.inputIdValue.value||this.hasAttribute("allowIdChange"));this.dom.inputIdValue.disabled=!p,this.dispatchEvent(new CustomEvent("onEditToggle",{composed:!0,detail:{isEditing:this.isEditing,isCancel:d}}))}toggleFullscreen(){this.toggleAttribute(ba),this.dom.buttonFullscreen.querySelector(".bi").classList.toggle(e0),this.dom.buttonFullscreen.querySelector(".bi").classList.toggle(r0),document.body.style.overflow=this.isEditing&&this.hasAttribute(ba)?"hidden":"",this.dom.divRoot.classList.contains(ga)?this.dom.divRoot.classList.replace(ga,tl):this.dom.divRoot.classList.replace(tl,ga)}};customElements.define("crud-toolbar",el);function ha(){let e=[];return{addChangeListener:t,notifyAll:d};function t(p){e.push(p)}function d(p){e.forEach(m=>m.call(null,p))}}var Pp=`<div>
    <h5>Policies</h5>
    <hr />
    <div class="row">
        <div class="col-md-4">
            <h6>Load a policy</h6>
            <form class="input-group input-group-sm mb-1 mt-1 has-validation" role="group" autocomplete="off">
                <label class="input-group-text">Policy Id</label>
                <input autocomplete="false" name="hidden" type="text" style="display:none;">
                <input type="search" class="form-control form-control-sm" id="inputPolicyId"></input>
                <button id="buttonLoadPolicy" class="btn btn-outline-primary btn-sm"
                    title="Load policy with the given ID">
                    Load
                </button>
                <div class="invalid-feedback"></div>
            </form>
            <h6>Recent policies</h6>
            <div class="table-wrap" style="height: 35vh;">
                <table class="table table-striped table-hover table-sm">
                    <tbody id="tbodyRecentPolicies"></tbody>
                </table>
            </div>
            <h6>Who am I</h6>
            <div class="table-wrap" style="height: 35vh;">
                <table class="table table-striped table-hover table-sm">
                    <tbody id="tbodyWhoami"></tbody>
                </table>
            </div>
        </div>
        <div class="col-md-8">
            <div class="resizable_flex_column">
                <ul class="nav nav-tabs nav-fill">
                    <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" data-bs-target="#tabPolicyEntries">Entries</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" data-bs-target="#tabPolicyImports">Imports</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" data-bs-target="#tabPolicyJson">JSON</a>
                    </li>
                </ul>
                <div class="tab-content" style="flex-grow: 1; overflow: hidden;">
                    <div class="tab-pane container active no-margin" id="tabPolicyEntries">
                        <h5>Policy Entries</h5>
                        <hr />
                        <div class="row resizable_pane" style="height: 22vh;">
                            <div class="col-md-6 resizable_flex_column">
                                <div class="input-group has-validation">
                                    <input class="form-control" id="tableValidationEntries" hidden="true"></input>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="table-wrap">
                                    <table class="table table-striped table-hover table-sm">
                                        <tbody id="tbodyPolicyEntries"></tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-6 resizable_flex_column">
                                <crud-toolbar label="Entry" id="crudEntry">
                                    <div class="input-group input-group-sm mb-1">
                                        <label class="input-group-text">Importable</label>
                                        <select class="form-select form-select-sm" id="selectImportable" disabled>
                                            <option selected value="implicit">implicit</option>
                                            <option value="explicit">explicit</option>
                                            <option value="never">never</option>
                                        </select>
                                    </div>    
                                </crud-toolbar>
                            </div>
                        </div>                
                        <h6>Subjects</h6>
                        <div class="row resizable_pane" style="height: 22vh;">
                            <div class="col-md-6 resizable_flex_column">
                                <div class="input-group has-validation">
                                    <input class="form-control" id="tableValidationSubjects" hidden="true"></input>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="table-wrap">
                                    <table class="table table-striped table-hover table-sm">
                                        <tbody id="tbodyPolicySubjects"></tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-6 resizable_flex_column">
                                <crud-toolbar label="Subject" id="crudSubject" style="flex-grow: 1;">
                                    <div class="ace_container" style="flex-grow: 1;">
                                        <div class="script_editor" id="subjectEditor"></div>
                                    </div>        
                                </crud-toolbar>
                            </div>
                            <!-- <div class="row flex_column_part">
                            </div> -->
                        </div>
                        <h6>Resources</h6>
                        <div class="row resizable_pane" style="height: 22vh;">
                            <div class="col-md-6 resizable_flex_column">
                                <div class="input-group has-validation">
                                    <input class="form-control" id="tableValidationResources" hidden="true"></input>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="table-wrap">
                                    <table class="table table-striped table-hover table-sm">
                                        <tbody id="tbodyPolicyResources"></tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-6 resizable_flex_column">
                                <crud-toolbar label="Resource" id="crudResource" style="flex-grow: 1;">
                                    <div class="input-group input-group-sm mb-1">
                                        <label class="input-group-text">Template</label>
                                        <select class="form-select form-select-sm" id="selectResourceTemplates" disabled></select>
                                    </div>
                                    <div class="ace_container" style="flex-grow: 1;">
                                        <div class="script_editor" id="resourceEditor"></div>
                                    </div>        
                                </crud-toolbar>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" style="flex-grow: 1; overflow: hidden;">
                    <div class="tab-pane container no-margin" id="tabPolicyImports">
                        <h5>Policy Imports</h5>
                        <hr />
                        <div class="row resizable_pane" style="height: 75vh;">
                            <div class="col-md-6 resizable_flex_column">
                                <div class="table-wrap">
                                    <table class="table table-striped table-hover table-sm">
                                        <tbody id="tbodyPolicyImports"></tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-6 resizable_flex_column">
                                <crud-toolbar label="Imported Policy Id" id="crudImport" style="flex-grow: 1;">
                                    <div class="table-wrap">
                                        <table class="table table-striped table-hover table-sm">
                                            <tbody id="tbodyPolicyImportEntries"></tbody>
                                        </table>
                                    </div>
                                </crud-toolbar>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-content" style="flex-grow: 1; overflow: hidden; height: 80vh;">
                    <div class="tab-pane container no-margin" id="tabPolicyJson">
                        <crud-toolbar label="PolicyId" id="crudPolicyJson">
                            <div class="input-group input-group-sm mb-1">
                                <label class="input-group-text">Template</label>
                                <select class="form-select form-select-sm" id="selectPolicyJSONTemplate" disabled></select>
                            </div>    
                            <div class="ace_container" style="flex-grow: 1;">
                                <div>
                                    <div class="script_editor" id="policyEditor"></div>
                                </div>
                            </div>
                        </crud-toolbar>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>`;var jo=ha(),Lt,Np,Te={inputPolicyId:null,tbodyRecentPolicies:null,tbodyWhoami:null,buttonLoadPolicy:null,collapsePolicies:null,tabPolicies:null};document.getElementById("policyHTML").innerHTML=Pp;function Fp(){Ue(l0),bt(Te),Np=Rr(Te.tabPolicies,Te.collapsePolicies,a0,"disablePolicies"),Te.tbodyRecentPolicies.addEventListener("click",d0),Te.buttonLoadPolicy.onclick=e=>{e.preventDefault(),lt(Te.inputPolicyId.value,"Please enter a policyId",Te.inputPolicyId),yi(Te.inputPolicyId.value)},Te.tbodyWhoami.onclick=e=>{},Ee(i0)}function i0(e){Te.inputPolicyId.value=e&&e.policyId,Np.viewDirty=!0}function n0(){Te.tbodyWhoami.textContent="",wt("GET","/whoami").then(e=>{e.subjects.forEach(t=>{zt(Te.tbodyWhoami,t,!1,t,t===e.defaultSubject?"default":"")})}).catch(e=>{})}function yi(e){wt("GET","/policies/"+e).then(t=>uo(t)).catch(()=>uo(null))}function uo(e){Lt=e,Lt?s0(Lt.policyId):Te.inputPolicyId.value=null,jo.notifyAll(Lt)}function a0(e){n0(),e&&uo(null),Te.inputPolicyId.value&&yi(Te.inputPolicyId.value)}function s0(e){let t=V().recentPolicyIds.indexOf(e);t>=0&&V().recentPolicyIds.splice(t,1),V().recentPolicyIds.unshift(e),V().recentPolicyIds.length>=10&&V().recentPolicyIds.pop(),ge("recentPolicyIds")}function l0(e){V().recentPolicyIds=V().recentPolicyIds||[],Te.tbodyRecentPolicies.textContent="",V().recentPolicyIds.forEach(t=>{zt(Te.tbodyRecentPolicies,t,Lt&&Lt.policyId===t,t)})}function d0(e){if(e.target&&e.target.nodeName==="TD"){let t=e.target.parentNode;Lt&&Lt.policyId===t.id?uo(null):(Te.inputPolicyId.value=t.id,yi(t.id))}}function Ce(e,t){return()=>{t in[0,1]&&e.toggleEdit(!1),yi(Lt.policyId)}}var rl={"Standard Example":{entries:{DEFAULT:{subjects:{"{{ request:subjectId }}":{type:"the creator"}},resources:{"policy:/":{grant:["READ","WRITE"],revoke:[]},"thing:/":{grant:["READ","WRITE"],revoke:[]},"message:/":{grant:["READ","WRITE"],revoke:[]}}}}},"Imports Importing Example":{entries:{DEFAULT:{subjects:{"{{ request:subjectId }}":{type:"the creator"}},resources:{"policy:/":{grant:["READ","WRITE"],revoke:[]}}}},imports:{"ditto:imported-policy":{entries:["EXPLICIT"]},"ditto:another-imported-policy":{}}},"Imports Exporting Example":{entries:{DEFAULT:{subjects:{"{{ request:subjectId }}":{type:"the creator"}},resources:{"policy:/":{grant:["READ","WRITE"],revoke:[]}},importable:"never"},IMPLICIT:{subjects:{"nginx:ditto":{type:"the creator"}},resources:{"things:/":{grant:["READ","WRITE"],revoke:[]}},importable:"implicit"},EXPLICIT:{subjects:{"nginx:ditto":{type:"the creator"}},resources:{"things:/":{grant:["READ","WRITE"],revoke:[]}},importable:"explicit"},NEVER:{subjects:{"nginx:ditto":{type:"the creator"}},resources:{"things:/":{grant:["READ","WRITE"],revoke:[]}},importable:"never"}}}};var be={crudPolicyJson:null,selectPolicyJSONTemplate:null},Yr;function zp(){bt(be),jo.addChangeListener(Bp),Yr=Dt("policyEditor","ace/mode/json",!0),be.crudPolicyJson.addEventListener("onCreateClick",m0),be.crudPolicyJson.addEventListener("onDeleteClick",b0),be.crudPolicyJson.addEventListener("onUpdateClick",g0),be.crudPolicyJson.addEventListener("onEditToggle",u0),je(be.selectPolicyJSONTemplate,["Select an example",...Object.keys(rl)]),be.selectPolicyJSONTemplate.addEventListener("change",p0),document.querySelector('a[data-bs-target="#tabPolicyJson"]').addEventListener("shown.bs.tab",e=>{Yr.renderer.updateFull()})}function p0(e){Yr.setValue(JSON.stringify(rl[e.target.value],null,2),-1)}function u0(e){Yr.setReadOnly(!e.detail.isEditing),Yr.renderer.setShowGutter(e.detail.isEditing),be.selectPolicyJSONTemplate.disabled=!e.detail.isEditing,be.selectPolicyJSONTemplate.selectedIndex=0,e.detail.isCancel&&Bp(Lt)}function m0(){lt(be.crudPolicyJson.idValue,"PolicyId must not be empty",be.crudPolicyJson.validationElement),ol(be.crudPolicyJson.idValue,JSON.parse(Yr.getValue()),()=>{be.crudPolicyJson.toggleEdit(!1),yi(be.crudPolicyJson.idValue)})}function g0(){ol(be.crudPolicyJson.idValue,JSON.parse(Yr.getValue()),Ce(be.crudPolicyJson,1))}function b0(){We(`Are you sure you want to delete policy<br>'${be.crudPolicyJson.idValue}'?`,"Delete",()=>{ol(be.crudPolicyJson.idValue,null,()=>{e(be.crudPolicyJson.idValue),uo(null)})});function e(t){let d=V().recentPolicyIds.indexOf(t);d>=0&&V().recentPolicyIds.splice(d,1),ge("recentPolicyIds")}}function ol(e,t,d){wt(t?"PUT":"DELETE",`/policies/${e}`,t).then(d)}function Bp(e){be.crudPolicyJson.idValue=e&&e.policyId,e?Yr.setValue(JSON.stringify(e,null,2),-1):Yr.setValue("")}var ln=ha(),Ut,Bt={tbodyPolicyEntries:null,tableValidationEntries:null,selectImportable:null,crudEntry:null};function Hp(){bt(Bt),jo.addChangeListener(k0),ar(Bt.tbodyPolicyEntries,Bt.tableValidationEntries),Bt.crudEntry.editDisabled=!0,Bt.crudEntry.addEventListener("onCreateClick",y0),Bt.crudEntry.addEventListener("onDeleteClick",x0),Bt.crudEntry.addEventListener("onUpdateClick",w0),Bt.crudEntry.addEventListener("onEditToggle",f0),Bt.tbodyPolicyEntries.onclick=v0}function f0(e){Bt.selectImportable.disabled=!e.detail.isEditing,e.detail.isCancel&&jp(Ut)}function v0(e){Ut===e.target.textContent?Ut=null:Ut=e.target.textContent,fa(Ut)}function y0(){lt(Bt.crudEntry.idValue,"Please enter a label for the entry",Bt.crudEntry.validationElement),lt(!Object.keys(Lt.entries).includes(Bt.crudEntry.idValue),`Entry with label ${Bt.crudEntry.idValue} already exists`,Bt.crudEntry.validationElement),Ut=Bt.crudEntry.idValue,il(Bt.crudEntry.idValue,{subjects:{},resources:{},importable:Bt.selectImportable.value},Ce(Bt.crudEntry,0))}function w0(){Lt.entries[Ut].importable=Bt.selectImportable.value,il(Ut,Lt.entries[Ut],Ce(Bt.crudEntry,1))}function x0(){Xr(),We(`Are you sure you want to delete policy entry<br>'${Bt.crudEntry.idValue}'?`,"Delete",()=>{il(Ut,null,Ce(Bt.crudEntry,2))})}function il(e,t,d){wt(t?"PUT":"DELETE",`/policies/${Lt.policyId}/entries/${e}`,t).then(d)}function k0(e){if(Bt.tbodyPolicyEntries.textContent="",Bt.crudEntry.idValue=null,Bt.crudEntry.editDisabled=e===null,e){let t=!1;Object.keys(e.entries).forEach(d=>{zt(Bt.tbodyPolicyEntries,d,d===Ut),d===Ut&&(fa(d),t=!0)}),t||(Ut=null,fa(null))}else fa(null)}function fa(e){jp(e),ln.notifyAll(Ut)}function jp(e){Bt.crudEntry.idValue=e,Bt.selectImportable.value=e&&Lt.entries[e].importable}function Xr(){lt(Ut,"Please select an entry",Bt.tableValidationEntries)}var lr,de={tbodyPolicyImports:null,tbodyPolicyImportEntries:null,crudImport:null};function Wp(){bt(de),jo.addChangeListener(L0),de.tbodyPolicyImports.onclick=T0,de.crudImport.editDisabled=!0,de.crudImport.addEventListener("onCreateClick",C0),de.crudImport.addEventListener("onUpdateClick",S0),de.crudImport.addEventListener("onDeleteClick",_0),de.crudImport.addEventListener("onEditToggle",A0),de.crudImport.addEventListener("onIdValueChange",E0)}async function E0(){await xi(de.crudImport.idValue),Vp(!1)}function T0(e){let t=e.target;lr===t.parentElement.id?lr=null:lr=t.parentElement.id,xi(lr)}function al(e,t,d){wt(t?"PUT":"DELETE",`/policies/${Lt.policyId}/imports/${e}`,t).then(d)}function C0(){lr=de.crudImport.idValue,al(lr,Up(),Ce(de.crudImport,0))}function S0(){al(lr,Up(),Ce(de.crudImport,1))}function _0(){We(`Are you sure you want to delete policy import<br>'${de.crudImport.idValue}'?`,"Delete",()=>{al(lr,null,Ce(de.crudImport,2))})}function Up(){let e={},t=document.querySelectorAll('#tbodyPolicyImportEntries input:checked[data-importable="explicit"]');return t.length>0&&(e.entries=Array.from(t).map(d=>d.id)),e}function A0(e){Vp(!e.detail.isEditing),e.detail.isCancel&&xi(lr)}function Vp(e){document.querySelectorAll('#tbodyPolicyImportEntries input[data-importable="explicit"]').forEach(t=>t.disabled=e)}function L0(e){if(de.tbodyPolicyImports.textContent="",de.crudImport.idValue=null,de.crudImport.editDisabled=e===null,e){let d=!1;Object.keys(e.imports).forEach(p=>{let m=zt(de.tbodyPolicyImports,p,p===lr);ks(m,"bi-arrow-up-right-square",t(p),"Open policy"),p===lr&&(xi(p),d=!0)}),d||(lr=null,xi(null))}else xi(null);function t(d){return p=>{wt("GET","/policies/"+d).then(m=>{uo(m)})}}}async function xi(e){if(de.crudImport.idValue=e,de.tbodyPolicyImportEntries.textContent="",e){let d=await wt("GET","/policies/"+e);Object.keys(d.entries).forEach(p=>{let m=de.tbodyPolicyImportEntries.insertRow(),h=mi(m,p,t(p,d),!0);h.dataset.importable=d.entries[p].importable,so(m,p,JSON.stringify(d.entries[p],null,4)),so(m,d.entries[p].importable)})}function t(d,p){let m=Lt.imports[e],h=m&&m.entries&&m.entries.includes(d),s=p.entries[d].importable==="implicit";return h||s}}var Oe,Vt={tbodyPolicySubjects:null,tableValidationSubjects:null,crudSubject:null},dr;function Gp(){bt(Vt),ln.addChangeListener(P0),ar(Vt.tbodyPolicySubjects,Vt.tableValidationSubjects),dr=Dt("subjectEditor","ace/mode/json",!0),Vt.tbodyPolicySubjects.onclick=M0,Vt.crudSubject.editDisabled=!0,Vt.crudSubject.addEventListener("onCreateClick",R0),Vt.crudSubject.addEventListener("onUpdateClick",I0),Vt.crudSubject.addEventListener("onDeleteClick",O0),Vt.crudSubject.addEventListener("onEditToggle",D0)}function M0(e){let t=e.target;Oe===t.parentElement.id?(Oe=null,dr.setValue("")):(Oe=t.parentElement.id,dr.setValue(JSON.stringify(Lt.entries[Ut].subjects[Oe],null,2),-1)),Vt.crudSubject.idValue=Oe}function R0(){Xr(),lt(Vt.crudSubject.idValue,"Please enter a subject or select one above",Vt.crudSubject.validationElement),lt(!Object.keys(Lt.entries[Ut].subjects).includes(Vt.crudSubject.idValue),"Subject already exists",Vt.crudSubject.validationElement),Oe=Vt.crudSubject.idValue,sl(Vt.crudSubject.idValue,dr.getValue()!==""?JSON.parse(dr.getValue()):{type:"generated"},Ce(Vt.crudSubject,0))}function sl(e,t,d){wt(t?"PUT":"DELETE",`/policies/${Lt.policyId}/entries/${Ut}/subjects/${e}`,t).then(d)}function I0(){Xr(),lt(Oe,"Please select a subject",Vt.tableValidationSubjects),sl(Oe,JSON.parse(dr.getValue()),Ce(Vt.crudSubject,1))}function O0(){Xr(),lt(Oe,"Please select a subject",Vt.tableValidationSubjects),sl(Oe,null,Ce(Vt.crudSubject,2))}function D0(e){dr.setReadOnly(!e.detail.isEditing),dr.renderer.setShowGutter(e.detail.isEditing),e.detail.isCancel&&(Vt.crudSubject.idValue=Oe,Lt&&Ut&&Oe?dr.setValue(JSON.stringify(Lt.entries[Ut].subjects[Oe],null,2),-1):dr.setValue(""))}function P0(e){Oe=null,Vt.tbodyPolicySubjects.textContent="",Vt.crudSubject.idValue=null,Vt.crudSubject.editDisabled=e===null,dr.setValue(""),Lt&&e&&Object.keys(Lt.entries[e].subjects).forEach(t=>{zt(Vt.tbodyPolicySubjects,t,t===Oe,null,JSON.stringify(Lt.entries[e].subjects[t])),t===Oe&&(Vt.crudSubject.idValue=t,dr.setValue(JSON.stringify(Lt.entries[e].subjects[t],null,2),-1))})}var ll={resources:{"thing:/":{grant:["READ","WRITE"],revoke:[]},"message:/":{grant:["READ","WRITE"],revoke:[]},"policy:/":{grant:["READ","WRITE"],revoke:[]}}};var $e,Nt={tbodyPolicyResources:null,selectResourceTemplates:null,tableValidationResources:null,crudResource:null},Je;function Kp(){bt(Nt),ln.addChangeListener(V0),ar(Nt.tbodyPolicyResources,Nt.tableValidationResources),Je=Dt("resourceEditor","ace/mode/json",!0),Nt.tbodyPolicyResources.onclick=B0,Nt.crudResource.editDisabled=!0,Nt.crudResource.addEventListener("onCreateClick",H0),Nt.crudResource.addEventListener("onUpdateClick",j0),Nt.crudResource.addEventListener("onDeleteClick",W0),Nt.crudResource.addEventListener("onEditToggle",U0),je(Nt.selectResourceTemplates,["Select a resource template",...Object.keys(ll.resources)]),Nt.selectResourceTemplates.addEventListener("change",z0)}function z0(e){Nt.crudResource.idValue=e.target.value,Je.setValue(JSON.stringify(ll.resources[e.target.value],null,2),-1)}function B0(e){$e===e.target.parentNode.id?($e=null,Nt.crudResource.idValue=null,Je.setValue("")):($e=e.target.parentNode.id,Nt.crudResource.idValue=$e,Je.setValue(JSON.stringify(Lt.entries[Ut].resources[$e],null,2),-1)),Nt.crudResource.idValue=$e}function H0(){Xr(),lt(Nt.crudResource.idValue,"Please enter a resource",Nt.crudResource.validationElement),lt(!Object.keys(Lt.entries[Ut].resources).includes(Nt.crudResource.idValue),"Resource already exists",Nt.crudResource.validationElement),$e=Nt.crudResource.idValue,dl(Nt.crudResource.idValue,Je.getValue()!==""?JSON.parse(Je.getValue()):{grant:["READ","WRITE"],revoke:[]},Ce(Nt.crudResource,0))}function j0(){Xr(),lt($e,"Please select a resource",Nt.tableValidationResources),dl($e,JSON.parse(Je.getValue()),Ce(Nt.crudResource,1))}function W0(){Xr(),lt($e,"Please select a resource",Nt.tableValidationResources),dl($e,null,Ce(Nt.crudResource,2))}function dl(e,t,d){wt(t?"PUT":"DELETE",`/policies/${Lt.policyId}/entries/${Ut}/resources/${e}`,t).then(d)}function U0(e){Nt.selectResourceTemplates.disabled=!e.detail.isEditing,Nt.selectResourceTemplates.selectedIndex=0,Je.setReadOnly(!e.detail.isEditing),Je.renderer.setShowGutter(e.detail.isEditing),e.detail.isCancel&&(Nt.crudResource.idValue=$e,Lt&&Ut&&$e?Je.setValue(JSON.stringify(Lt.entries[Ut].resources[$e],null,2),-1):Je.setValue(""))}function V0(e){$e=null,Nt.tbodyPolicyResources.textContent="",Nt.crudResource.idValue=null,Je.setValue(""),Nt.crudResource.editDisabled=e===null,Lt&&e&&Object.keys(Lt.entries[e].resources).forEach(t=>{zt(Nt.tbodyPolicyResources,t,t===$e,null,JSON.stringify(Lt.entries[e].resources[t])),t===$e&&(Nt.crudResource.idValue=t,Je.setValue(JSON.stringify(Lt.entries[e].resources[t],null,2),-1))})}var jt={tbodyAttributes:null,crudAttribute:null,badgeAttributeCount:null},Yp,Jr;function Xp(){Ee(Q0),bt(jt),jt.tbodyAttributes.onclick=J0,jt.crudAttribute.addEventListener("onCreateClick",K0),jt.crudAttribute.addEventListener("onUpdateClick",Y0),jt.crudAttribute.addEventListener("onDeleteClick",X0),jt.crudAttribute.addEventListener("onEditToggle",q0),Jr=Dt("attributeEditor","ace/mode/json",!0),document.querySelector('a[data-bs-target="#tabCrudAttribute"]').addEventListener("shown.bs.tab",e=>{Jr.renderer.updateFull()})}function K0(){lt(jt.crudAttribute.idValue,"Attribute path must not be empty",jt.crudAttribute.validationElement),lt(!St.attributes||!Object.keys(St.attributes).includes(jt.crudAttribute.idValue),`Attribute path ${jt.crudAttribute.idValue} already exists in Thing`,jt.crudAttribute.validationElement),cl("PUT",!0)}function Y0(){cl("PUT")}function X0(){We(`Are you sure you want to delete attribute<br>'${jt.crudAttribute.idValue}'?`,"Delete",()=>{cl("DELETE")})}function J0(e){if(e.target&&e.target.nodeName==="TD"){let t=e.target.parentNode.children[0].innerText;jt.crudAttribute.idValue===t?dn(null):dn(St,t)}}function cl(e,t=!1){let d=JSON.parse(Jr.getValue());wt(e,`/things/${St.thingId}/attributes/${jt.crudAttribute.idValue}`,e==="PUT"?d:null,t?{"If-None-Match":"*"}:{"If-Match":e==="PUT"?Yp:"*"}).then(()=>{e==="PUT"&&jt.crudAttribute.toggleEdit(),wr(St.thingId)})}function dn(e,t=null){jt.crudAttribute.isEditing||(e?(jt.crudAttribute.idValue=t,Jr.setValue(Ct(e.attributes[t]),-1)):(jt.crudAttribute.idValue=null,Jr.setValue("")))}function Q0(e){jt.crudAttribute.editDisabled=e===null,jt.tbodyAttributes.textContent="";let t=0,d=!1;e&&e.attributes&&Object.keys(St.attributes).forEach(p=>{p===jt.crudAttribute.idValue&&(dn(St,p),d=!0),zt(jt.tbodyAttributes,p,p===jt.crudAttribute.idValue,null,Z0(St.attributes[p])),t++}),jt.badgeAttributeCount.innerText=t>0?t:"",d||dn(null)}function Z0(e){return typeof e=="object"?JSON.stringify(e):e.toString()}function q0(e){let t=e.detail.isEditing;t&&jt.crudAttribute.idValue&&jt.crudAttribute.idValue!==""?wt("GET",`/things/${St.thingId}/attributes/${jt.crudAttribute.idValue}`,null,null,!0).then(p=>(Yp=p.headers.get("ETag").replace("W/",""),p.json())).then(p=>{d(),Jr.setValue(Ct(p),-1)}):(d(),dn(St,jt.crudAttribute.idValue),Jr.setValue(Ct(St.attributes[jt.crudAttribute.idValue]),-1));function d(){Jr.setReadOnly(!t),Jr.renderer.setShowGutter(t)}}var Jp=`<!--
  ~ Copyright (c) 2022 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<div class="tab-pane container fade no-margin">
    <div class="resizable_flex_column">
        <div class="input-group input-group-sm mb-1 mt-1 has-validation">
            <label class="input-group-text">Subject and Timeout</label>
            <input type="text" class="form-control" id="inputMessageSubject"></input>
            <input type="number" class="form-control form-control-sm" id="inputMessageTimeout" value="10"></input>
            <button class="btn btn-outline-primary btn-sm" id="buttonMessageSend" disabled>
                <i class="bi bi-send"></i>
                Send
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            </button>
            <div class="invalid-feedback"></div>
        </div>
        <div class="input-group input-group-sm mb-1 has-validation">
            <label class="input-group-text">Template</label>
            <div class="btn-group dropend">
                <button id="buttonMessageFavorite" class="btn btn-outline-secondary btn-sm" data-bs-toggle="tooltip"
                    title="Save favorite for message on this feature">
                    <i id="favIconMessage" class="bi bi-star"></i>
                </button>
                <button class="btn btn-outline-secondary btn-sm dropdown-toggle dropdown-toggle-split"
                    data-bs-toggle="dropdown"></button>
                <ul id="ulMessageTemplates" class="dropdown-menu" style="position: fixed; top: auto;">
                </ul>
            </div>
            <input type="text" class="form-control" id="inputMessageTemplate">
            <div class="invalid-feedback"></div>
        </div>
        <div class="input-group input-group-sm" style="flex-grow: 1; display: flex;">
            <label class="input-group-text">Payload<br>and<br>Response</label>
            <div class="ace_container" style="flex-grow: 1;">
                <div class="script_editor" id="acePayload"></div>
            </div>
            <div class="ace_container" style="flex-grow: 1;">
                <div class="script_editor" id="aceResponse"></div>
            </div>
        </div>

    </div>
</div>`;var Qp=`<!--
  ~ Copyright (c) 2022 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<h5 data-bs-toggle="collapse" data-bs-target="#collapseFeatures">
    Features <span class="badge rounded-pill bg-info" id="badgeFeatureCount"></span></h5>
<hr />
<div class="collapse show" id="collapseFeatures">
    <div class="row resizable_pane" style="height: 45vh;">
        <div class="col-md-4 resizable_flex_column">
            <div class="input-group has-validation">
                <input class="form-control" id="tableValidationFeature" hidden="true"></input>
                <div class="invalid-feedback"></div>
            </div>
            <div class="table-wrap">
                <table class="table table-striped table-hover table-sm">
                    <tbody id="tbodyFeatures"></tbody>
                </table>
            </div>
        </div>
        <div class="col-md-8 resizable_flex_column">
            <ul class="nav nav-tabs nav-fill" id="tabItemsFeatures">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" data-bs-target="#tabCrudFeature">Manage</a>
                </li>
            </ul>
            <div class="tab-content" style="flex-grow: 1;" id="tabContentFeatures">
                <div class="tab-pane container active no-margin" id="tabCrudFeature">
                    <crud-toolbar id="crudFeature" label="Feature ID">
                        <div class="input-group input-group-sm mb-1">
                            <label class="input-group-text">Definition</label>
                            <input type="text" class="form-control" id="inputFeatureDefinition" disabled></input>
                        </div>
                        <div class="input-group input-group-sm mb-1" style="flex-grow: 1; display: flex;">
                            <label class="input-group-text">Properties<br>and<br>Desired<br>Properties</label>
                            <div class="ace_container" style="flex-grow: 1;">
                                <div class="script_editor" id="featurePropertiesEditor"></div>
                            </div>
                            <div class="ace_container" style="flex-grow: 1;">
                                <div class="script_editor" id="featureDesiredPropertiesEditor"></div>
                            </div>
                        </div>
                    </crud-toolbar>
                </div>
            </div>
        </div>
    </div>
</div>`;var Zp=[];document.getElementById("featuresHTML").innerHTML=Qp;function va(e){Zp.push(e)}function oy(){Zp.forEach(e=>e.call(null,_t.crudFeature.idValue))}var cr,Qr,qp,_t={crudFeature:null,inputFeatureDefinition:null,badgeFeatureCount:null,tbodyFeatures:null,tableValidationFeature:null};function tu(){Ee(dy),bt(_t),ar(_t.tbodyFeatures,_t.tableValidationFeature),_t.tbodyFeatures.onclick=ly,_t.crudFeature.editDisabled=!0,_t.crudFeature.addEventListener("onCreateClick",sy),_t.crudFeature.addEventListener("onUpdateClick",iy),_t.crudFeature.addEventListener("onDeleteClick",ny),_t.crudFeature.addEventListener("onEditToggle",cy),cr=Dt("featurePropertiesEditor","ace/mode/json",!0),Qr=Dt("featureDesiredPropertiesEditor","ace/mode/json",!0),cr.on("dblclick",ay),document.querySelector('a[data-bs-target="#tabCrudFeature"]').addEventListener("shown.bs.tab",e=>{cr.renderer.updateFull(),Qr.renderer.updateFull()})}function iy(){ul("PUT")}function ny(){We(`Are you sure you want to delete feature<br>'${_t.crudFeature.idValue}'?`,"Delete",()=>{ul("DELETE")})}function ay(e){e.domEvent.shiftKey&&setTimeout(()=>{let t=cr.getSelectedText();if(t){let d="$.."+t.replace(/['"]+/g,"").trim(),p=Pt({json:JSON.parse(cr.getValue()),path:d,resultType:"pointer"});Tp("features/"+_t.crudFeature.idValue+"/properties"+p)}},10)}function sy(){lt(_t.crudFeature.idValue,"Feature ID must not be empty",_t.crudFeature.validationElement),lt(!St.features||!Object.keys(St.features).includes(_t.crudFeature.idValue),`Feature ID ${_t.crudFeature.idValue} already exists in Thing`,_t.crudFeature.validationElement),ul("PUT",!0)}function ly(e){e.target&&e.target.nodeName==="TD"&&(_t.crudFeature.idValue===e.target.textContent?ki(null):ki(St,e.target.textContent))}function ul(e,t=!1){lt(St,"No Thing selected"),lt(_t.crudFeature.idValue,"No Feature selected");let d={},p=cr.getValue(),m=Qr.getValue();_t.inputFeatureDefinition.value&&(d.definition=_t.inputFeatureDefinition.value.split(",")),p&&(d.properties=JSON.parse(p)),m&&(d.desiredProperties=JSON.parse(m)),wt(e,"/things/"+St.thingId+"/features/"+_t.crudFeature.idValue,e==="PUT"?d:null,t?{"If-None-Match":"*"}:{"If-Match":e==="PUT"?qp:"*"}).then(()=>{e==="PUT"&&_t.crudFeature.toggleEdit(),wr(St.thingId)}).catch()}function pl(e){e?(_t.inputFeatureDefinition.value=e.definition?e.definition:null,e.properties?cr.setValue(Ct(e.properties),-1):cr.setValue(""),e.desiredProperties?Qr.setValue(Ct(e.desiredProperties),-1):Qr.setValue("")):(_t.inputFeatureDefinition.value=null,cr.setValue(""),Qr.setValue("")),cr.session.getUndoManager().reset(),Qr.session.getUndoManager().reset()}function ki(e,t=null){_t.crudFeature.isEditing||(e&&e.features&&t?(_t.crudFeature.idValue=t,pl(e.features[t])):(_t.crudFeature.idValue=null,pl(null)),oy())}function dy(e){_t.crudFeature.editDisabled=e===null,_t.tbodyFeatures.textContent="";let t=0,d=!1;if(e&&e.features)for(let p of Object.keys(e.features))p===_t.crudFeature.idValue&&(ki(e,p),d=!0),zt(_t.tbodyFeatures,p,p===_t.crudFeature.idValue),t++;_t.badgeFeatureCount.textContent=t>0?t:"",d||ki(e,null)}function cy(e){let t=e.detail.isEditing;t&&_t.crudFeature.idValue&&_t.crudFeature.idValue!==""?wt("GET",`/things/${St.thingId}/features/${_t.crudFeature.idValue}`,null,null,!0).then(m=>(qp=m.headers.get("ETag").replace("W/",""),m.json())).then(m=>{d(),pl(m)}):(d(),p(),_t.crudFeature.validationElement.classList.remove("is-invalid"));function d(){_t.inputFeatureDefinition.disabled=!t,cr.setReadOnly(!t),cr.renderer.setShowGutter(t),Qr.setReadOnly(!t),Qr.renderer.setShowGutter(t)}function p(){_t.crudFeature.idValue?ki(St,_t.crudFeature.idValue):ki(null)}}var kr,kt={inputMessageSubject:null,inputMessageTimeout:null,inputMessageTemplate:null,buttonMessageSend:null,buttonMessageFavorite:null,ulMessageTemplates:null,favIconMessage:null,tableValidationFeature:null},xr,cn;async function ru(){Ue(uy),va(my),gi(document.getElementById("tabItemsFeatures"),document.getElementById("tabContentFeatures"),"Send Message",Jp),bt(kt),xr=Dt("acePayload","ace/mode/json"),cn=Dt("aceResponse","ace/mode/json",!0),kt.buttonMessageSend.onclick=()=>{lt(kr,"Please select a Feature",kt.tableValidationFeature),lt(kt.inputMessageSubject.value,"Please give a Subject",kt.inputMessageSubject),lt(kt.inputMessageTimeout.value,"Please give a timeout",kt.inputMessageTimeout),kt.buttonMessageSend.classList.add("busy"),kt.buttonMessageSend.disabled=!0,py()},kt.buttonMessageFavorite.onclick=()=>{let e=kt.inputMessageTemplate.value,t=kr,d=xr.getValue();lt(t,"Please select a Feature",kt.tableValidationFeature),lt(e,"Please give a name for the template",kt.inputMessageTemplate),V().messageTemplates[t]=V().messageTemplates[t]||{},Object.keys(V().messageTemplates[t]).includes(e)&&kt.favIconMessage.classList.contains("bi-star-fill")?(kt.favIconMessage.classList.replace("bi-star-fill","bi-star"),delete V().messageTemplates[t][e]):(kt.favIconMessage.classList.replace("bi-star","bi-star-fill"),V().messageTemplates[t][e]={subject:kt.inputMessageSubject.value,timeout:kt.inputMessageTimeout.value,...d&&{payload:JSON.parse(d)}},xr.session.getUndoManager().markClean()),ge("messageTemplates")},kt.ulMessageTemplates.addEventListener("click",e=>{if(e.target&&e.target.classList.contains("dropdown-item")){kt.favIconMessage.classList.replace("bi-star","bi-star-fill");let t=V().messageTemplates[kr][e.target.textContent];kt.inputMessageTemplate.value=e.target.textContent,kt.inputMessageSubject.value=t.subject,kt.inputMessageTimeout.value=t.timeout,xr.setValue(Ct(t.payload),-1),xr.session.getUndoManager().markClean()}}),[kt.inputMessageTemplate,kt.inputMessageSubject,kt.inputMessageTimeout].forEach(e=>{e.addEventListener("change",()=>{kt.favIconMessage.classList.replace("bi-star-fill","bi-star")})}),xr.on("input",()=>{xr.session.getUndoManager().isClean()||kt.favIconMessage.classList.replace("bi-star-fill","bi-star")})}function py(){let e;xr&&xr.getValue().length>0?e=JSON.parse(xr.getValue()):e=null,cn.setValue(""),wt("POST","/things/"+St.thingId+"/features/"+kr+"/inbox/messages/"+kt.inputMessageSubject.value+"?timeout="+kt.inputMessageTimeout.value,e,null,!1,!1,!0).then(t=>{kt.buttonMessageSend.classList.remove("busy"),kt.buttonMessageSend.disabled=!1,kt.inputMessageTimeout.value>0&&cn.setValue(Ct(t),-1)}).catch(t=>{kt.buttonMessageSend.classList.remove("busy"),kt.buttonMessageSend.disabled=!1,cn.setValue(`Error: ${t}`)})}function uy(e){V().messageTemplates=V().messageTemplates||{},e||ou(),e==="messageTemplates"&&iu()}function ou(){kt.favIconMessage.classList.replace("bi-star-fill","bi-star"),kt.inputMessageTemplate.value=null,kt.inputMessageSubject.value=null,kt.inputMessageTimeout.value="10",xr.setValue(""),cn.setValue(""),kt.ulMessageTemplates.textContent="",kt.buttonMessageSend.disabled=!kr||kr===""}function iu(){kt.ulMessageTemplates.textContent="",Ro(kt.ulMessageTemplates,"Saved message templates",!0),kr&&V().messageTemplates[kr]&&lo(kt.ulMessageTemplates,Object.keys(V().messageTemplates[kr]))}function my(e){e!==kr&&(kr=e,ou(),iu())}var nu=`<!--
  ~ Copyright (c) 2022 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<h5 data-bs-toggle="collapse" data-bs-target="#collapseMessages">
    Incoming Thing Updates <span class="badge rounded-pill bg-info" id="badgeMessageIncomingCount"></span></h5>
<hr />
<div class="collapse" id="collapseMessages">
    <div class="row resizable_pane" style="height: 45vh;">
        <div class="col-md-7 resizable_flex_column">
            <div class="input-group input-group-sm mb-1">
                <button class="btn btn-outline-secondary btn-sm button_round_right" id="buttonResetMessagesIncoming"
                    data-bs-toggle="tooltip" title="Reset connection logs for the selected connection">
                    <i class="bi bi-x-circle"></i>
                    Reset
                </button>
            </div>
            <table-filter id="tableFilterMessagesIncoming"></table-filter>
            <div class="table-wrap">
                <table class="table table-striped table-hover table-sm">
                    <thead>
                        <tr>
                            <th>Revision</th>
                            <th>Action</th>
                            <th>Path</th>
                            <th>Field(s)</th>
                            <th>Modified</th>
                        </tr>
                    </thead>
                    <tbody id="tbodyMessagesIncoming"></tbody>
                </table>
            </div>
        </div>
        <div class="col-md-5 resizable_flex_column">
            <h6>Thing Update Detail</h6>
            <div class="input-group input-group-sm mb-1 mt-1">
                <label class="input-group-text" for="selectThingUpdateMessageContent">Show</label>
                <select class="form-select form-select-sm" id="selectThingUpdateMessageContent">
                    <option value="ONLY_CONTEXT" selected>Only context</option>
                    <option value="ONLY_CONTEXT_WITH_METADATA">Only context with metadata</option>
                    <option value="FULL_THING">Only full Thing JSON</option>
                    <option value="FULL_THING_WITH_CONTEXT">Full Thing JSON with context and metadata</option>
                </select>
            </div>
            <div class="ace_container" style="flex-grow: 1;">
                <div class="script_editor" id="messageIncomingDetail"></div>
            </div>
        </div>
    </div>
</div>`;var De={badgeMessageIncomingCount:null,buttonResetMessagesIncoming:null,selectThingUpdateMessageContent:null,tbodyMessagesIncoming:null,tableFilterMessagesIncoming:null},pn=[],Er=[],Ei,mo,au,su="ONLY_CONTEXT";document.getElementById("messagesIncomingHTML").innerHTML=nu;function lu(){da(vy),Ee(yy),bt(De),mo=Dt("messageIncomingDetail","ace/mode/json",!0),De.buttonResetMessagesIncoming.onclick=cu,De.selectThingUpdateMessageContent.onchange=fy,De.tbodyMessagesIncoming.addEventListener("click",hy),De.tableFilterMessagesIncoming.addEventListener("filterChange",wy),De.tableFilterMessagesIncoming.filterOptions=uu()}function hy(e){Ei=e.target.parentNode.rowIndex-1,du(),mo.session.getUndoManager().reset()}function du(){switch(su){case"FULL_THING_WITH_CONTEXT":{mo.setValue(Ct(Er[Ei]),-1);break}case"FULL_THING":{let t=Object.entries(Er[Ei]).filter(([p,m])=>!p.startsWith("_")),d=Object.fromEntries(t);mo.setValue(Ct(d),-1);break}case"ONLY_CONTEXT_WITH_METADATA":{let t=Object.entries(Er[Ei]).filter(([p,m])=>p.startsWith("_")),d=Object.fromEntries(t);mo.setValue(Ct(d),-1);break}case"ONLY_CONTEXT":{let t=Object.entries(Er[Ei]).filter(([p,m])=>p.startsWith("_")).filter(([p,m])=>p!=="_metadata"),d=Object.fromEntries(t);mo.setValue(Ct(d),-1);break}default:mo.setValue(Ct(Er[Ei]),-1)}}function cu(){pn=[],Er=[],De.badgeMessageIncomingCount.textContent="",De.tbodyMessagesIncoming.textContent="",mo.setValue("")}function fy(){su=De.selectThingUpdateMessageContent.value,du()}function vy(e){pn.push(e);let t=De.tableFilterMessagesIncoming.filterItems([e]);t.length>0&&(Er.push(t[0]),pu(t[0])),Xi(De.badgeMessageIncomingCount,pn,Er)}function pu(e){let t=e._context.topic.substring(e._context.topic.lastIndexOf("/")+1);zt(De.tbodyMessagesIncoming,e._revision,!1,null,t,e._context.path,d(t).join(`
`),Yi(e._modified,!0));function d(p){return p==="deleted"?[]:e._context?.value?[...e._context.value.features?Object.keys(e._context.value.features):[],...e._context.value.attributes?Object.keys(e._context.value.attributes):[]]:[...e.features?Object.keys(e.features):[],...e.attributes?Object.keys(e.attributes):[]]}}function yy(e){(!e||e.thingId!==au)&&(au=e?e.thingId:null,cu(),De.tableFilterMessagesIncoming.filterOptions=uu(e))}function uu(e){let t=[];return["created","modified","merged","deleted"].forEach(d=>t.push(new Ie(0,`/${d}`,"_context.topic","Action"))),e&&["features","attributes"].forEach(d=>{e[d]&&Object.keys(e[d]).forEach(p=>{t.push(new Ie(0,`/${d}/${p}`,"_context.path","Path"))})}),t}function wy(e){De.tbodyMessagesIncoming.textContent="",Er=De.tableFilterMessagesIncoming.filterItems(pn),Er.forEach(t=>pu(t)),Xi(De.badgeMessageIncomingCount,pn,Er)}var ky=['eq(attributes/location,"kitchen")','ge(thingId,"myThing1")','gt(_created,"2020-08-05T12:17")',"exists(features/featureId)",'and(eq(attributes/location,"kitchen"),eq(attributes/color,"red"))','or(eq(attributes/location,"kitchen"),eq(attributes/location,"living-room"))','like(attributes/key1,"known-chars-at-start*")'],ml=[],mu,Dr="...",gu,ce={favIcon:null,searchFilterEdit:null,searchThings:null,searchFavorite:null,tabThings:null,pinnedThings:null};async function hu(){Ue(Ey),bt(ce),ce.pinnedThings.onclick=Qs,gu=Ec("#searchFilterEdit",Cy,"Search for Things..."),gu.input.addEventListener("selection",e=>{let t=e.detail.selection.value;Ty(t.rql)}),ce.searchThings.onclick=()=>{nn(ce.searchFilterEdit.value,()=>bu(ce.searchFilterEdit.value))},ce.searchFavorite.onclick=()=>{Sy(ce.searchFilterEdit.value)&&(ce.favIcon.classList.toggle("bi-star"),ce.favIcon.classList.toggle("bi-star-fill"))},ce.searchFilterEdit.onkeyup=e=>{(e.key==="Enter"||e.code===13)&&ce.searchFilterEdit.value.indexOf(Dr)<0?nn(ce.searchFilterEdit.value,()=>bu(ce.searchFilterEdit.value)):(clearTimeout(mu),mu=setTimeout(fu,1e3))},ce.searchFilterEdit.onchange=()=>{Zs()},ce.searchFilterEdit.focus()}function Ey(){V().filterList||(V().filterList=[]),V().pinnedThings||(V().pinnedThings=[])}function Ty(e){ce.searchFilterEdit.value=e,fu(),Cc(ce.searchFilterEdit,Dr)||nn(ce.searchFilterEdit.value,()=>null)}async function Cy(e){let t=new Date,d=new Date,p=new Date;return t.setDate(t.getDate()-1),d.setHours(d.getHours()-1),p.setMinutes(p.getMinutes()-1),[{label:"Created since 1m",rql:`gt(_created,"${p.toISOString()}")`,group:"Time"},{label:"Created since 1h",rql:`gt(_created,"${d.toISOString()}")`,group:"Time"},{label:"Created since 24h",rql:`gt(_created,"${t.toISOString()}")`,group:"Time"},{label:"Modified since 1m",rql:`gt(_modified,"${p.toISOString()}")`,group:"Time"},{label:"Modified since 1h",rql:`gt(_modified,"${d.toISOString()}")`,group:"Time"},{label:"Modified since 24h",rql:`gt(_modified,"${t.toISOString()}")`,group:"Time"},{label:`thingId = ${Dr}`,rql:`eq(thingId,"${Dr}")`,group:"ThingId"},{label:`thingId ~ ${Dr}`,rql:`like(thingId,"${Dr}*")`,group:"ThingId"},...(V().filterList??[]).map(m=>({label:m,rql:m,group:"Favorite"})),...(V().fieldList??[]).map(m=>({label:`${m.label} = ${Dr}`,rql:`eq(${m.path},"${Dr}")`,group:"Field"})),...(V().fieldList??[]).map(m=>({label:`${m.label} ~ ${Dr}`,rql:`like(${m.path},"*${Dr}*")`,group:"Field"})),...ml.map(m=>({label:m,rql:m,group:"Recent"})),...ky.map(m=>({label:m,rql:m,group:"Example"}))]}function Sy(e){if(!e||e==="")return!1;let t=V().filterList.indexOf(e);return t>=0?V().filterList.splice(t,1):V().filterList.push(e),ge("filterList"),!0}function fu(){V().filterList.indexOf(ce.searchFilterEdit.value)>=0?ce.favIcon.classList.replace("bi-star","bi-star-fill"):ce.favIcon.classList.replace("bi-star-fill","bi-star")}function bu(e){ml.includes(e)||ml.unshift(e)}var vu=`<!--
  ~ Copyright (c) 2023 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<div class="tab-pane container fade no-margin">
    <div class="resizable_flex_column">
        <div class="input-group input-group-sm mb-1 mt-1 has-validation">
            <label class="input-group-text">Subject and Timeout</label>
            <input type="text" class="form-control" id="inputThingMessageSubject"></input>
            <input type="number" class="form-control form-control-sm" id="inputThingMessageTimeout" value="10"></input>
            <button class="btn btn-outline-primary btn-sm" id="buttonThingMessageSend">
                <i class="bi bi-send"></i>
                Send
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            </button>
            <div class="invalid-feedback"></div>
        </div>
        <div class="input-group input-group-sm mb-1 has-validation">
            <label class="input-group-text">Template</label>
            <div class="btn-group dropend">
                <button id="buttonThingMessageFavorite" class="btn btn-outline-secondary btn-sm" data-bs-toggle="tooltip"
                    title="Save favorite for message on this feature">
                    <i id="favIconThingMessage" class="bi bi-star"></i>
                </button>
                <button class="btn btn-outline-secondary btn-sm dropdown-toggle dropdown-toggle-split"
                    data-bs-toggle="dropdown"></button>
                <ul id="ulThingMessageTemplates" class="dropdown-menu" style="position: fixed; top: auto;">
                </ul>
            </div>
            <input type="text" class="form-control" id="inputThingMessageTemplate">
            <div class="invalid-feedback"></div>
        </div>
        <div class="input-group input-group-sm" style="flex-grow: 1; display: flex;">
            <label class="input-group-text">Payload<br>and<br>Response</label>
            <div class="ace_container" style="flex-grow: 1;">
                <div class="script_editor" id="acePayloadThingMessage"></div>
            </div>
            <div class="ace_container" style="flex-grow: 1;">
                <div class="script_editor" id="aceResponseThingMessage"></div>
            </div>
        </div>

    </div>
</div>`;var Tt={inputThingMessageSubject:null,inputThingMessageTimeout:null,inputThingMessageTemplate:null,buttonThingMessageSend:null,buttonThingMessageFavorite:null,ulThingMessageTemplates:null,favIconThingMessage:null},Tr,un;async function yu(){Ue($y),Ee(Ry),gi(document.getElementById("tabItemsThing"),document.getElementById("tabContentThing"),"Send Message",vu),bt(Tt),Tr=Dt("acePayloadThingMessage","ace/mode/json"),un=Dt("aceResponseThingMessage","ace/mode/json",!0),Tt.buttonThingMessageSend.onclick=()=>{lt(Tt.inputThingMessageSubject.value,"Please give a Subject",Tt.inputThingMessageSubject),lt(Tt.inputThingMessageTimeout.value,"Please give a timeout",Tt.inputThingMessageTimeout),Tt.buttonThingMessageSend.classList.add("busy"),Tt.buttonThingMessageSend.disabled=!0,Ly()},Tt.buttonThingMessageFavorite.onclick=()=>{let e=Tt.inputThingMessageTemplate.value,t=Tr.getValue();lt(e,"Please give a name for the template",Tt.inputThingMessageTemplate),V().messageTemplates["/"]=V().messageTemplates["/"]||{},Object.keys(V().messageTemplates["/"]).includes(e)&&Tt.favIconThingMessage.classList.contains("bi-star-fill")?(Tt.favIconThingMessage.classList.replace("bi-star-fill","bi-star"),delete V().messageTemplates["/"][e]):(Tt.favIconThingMessage.classList.replace("bi-star","bi-star-fill"),V().messageTemplates["/"][e]={subject:Tt.inputThingMessageSubject.value,timeout:Tt.inputThingMessageTimeout.value,...t&&{payload:JSON.parse(t)}},Tr.session.getUndoManager().markClean()),ge("messageTemplates")},Tt.ulThingMessageTemplates.addEventListener("click",e=>{if(e.target&&e.target.classList.contains("dropdown-item")){Tt.favIconThingMessage.classList.replace("bi-star","bi-star-fill");let t=V().messageTemplates["/"][e.target.textContent];Tt.inputThingMessageTemplate.value=e.target.textContent,Tt.inputThingMessageSubject.value=t.subject,Tt.inputThingMessageTimeout.value=t.timeout,Tr.setValue(Ct(t.payload),-1),Tr.session.getUndoManager().markClean()}}),[Tt.inputThingMessageTemplate,Tt.inputThingMessageSubject,Tt.inputThingMessageTimeout].forEach(e=>{e.addEventListener("change",()=>{Tt.favIconThingMessage.classList.replace("bi-star-fill","bi-star")})}),Tr.on("input",()=>{Tr.session.getUndoManager().isClean()||Tt.favIconThingMessage.classList.replace("bi-star-fill","bi-star")})}function Ly(){let e;Tr&&Tr.getValue().length>0?e=JSON.parse(Tr.getValue()):e=null,un.setValue(""),wt("POST","/things/"+St.thingId+"/inbox/messages/"+Tt.inputThingMessageSubject.value+"?timeout="+Tt.inputThingMessageTimeout.value,e,null,!1,!1,!0).then(t=>{Tt.buttonThingMessageSend.classList.remove("busy"),Tt.buttonThingMessageSend.disabled=!1,Tt.inputThingMessageTimeout.value>0&&un.setValue(Ct(t),-1)}).catch(t=>{Tt.buttonThingMessageSend.classList.remove("busy"),Tt.buttonThingMessageSend.disabled=!1,un.setValue(`Error: ${t}`)})}function $y(e){V().messageTemplates=V().messageTemplates||{},e||wu(),My()}function wu(){Tt.favIconThingMessage.classList.replace("bi-star-fill","bi-star"),Tt.inputThingMessageTemplate.value=null,Tt.inputThingMessageSubject.value=null,Tt.inputThingMessageTimeout.value="10",Tr.setValue(""),un.setValue(""),Tt.ulThingMessageTemplates.textContent="",Tt.buttonThingMessageSend.disabled=St===null}function My(){Tt.ulThingMessageTemplates.textContent="",Ro(Tt.ulThingMessageTemplates,"Saved message templates",!0),V().messageTemplates["/"]&&lo(Tt.ulThingMessageTemplates,Object.keys(V().messageTemplates["/"]))}function Ry(e,t){(!e||t)&&wu()}var gl={"(empty thing)":{},"WoT ThingModel 'floor-lamp' 1.0.0":{definition:"https://eclipse-ditto.github.io/ditto-examples/wot/models/floor-lamp-1.0.0.tm.jsonld"},"com.acme:coffeebrewer:0.1.0":{definition:"com.acme:coffeebrewer:0.1.0",attributes:{manufacturer:"ACME demo corp.",location:"Berlin, main floor",serialno:"42",model:"Speaking coffee machine"},features:{"coffee-brewer":{definition:["com.acme:coffeebrewer:0.1.0"],properties:{"brewed-coffees":0}},"water-tank":{properties:{configuration:{smartMode:!0,brewingTemp:87,tempToHold:44,timeoutSeconds:6e3},status:{waterAmount:731,temperature:44}}}}}};var Qe,xu,Rt={tbodyThingDetails:null,crudThings:null,buttonThingDefinitions:null,inputThingDefinition:null,ulThingDefinitions:null};async function ku(){Ee(zy),bt(Rt),Qe=Dt("thingJsonEditor","ace/mode/json",!0),lo(Rt.ulThingDefinitions,Object.keys(gl)),Rt.ulThingDefinitions.addEventListener("click",Fy),Rt.crudThings.addEventListener("onCreateClick",Ny),Rt.crudThings.addEventListener("onUpdateClick",Py),Rt.crudThings.addEventListener("onDeleteClick",Dy),Rt.crudThings.addEventListener("onEditToggle",By),document.querySelector('a[data-bs-target="#tabModifyThing"]').addEventListener("shown.bs.tab",e=>{Qe.renderer.updateFull()})}function Dy(){We(`Are you sure you want to delete thing<br>'${Rt.crudThings.idValue}'?`,"Delete",()=>{wt("DELETE",`/things/${Rt.crudThings.idValue}`,null,{"if-match":"*"}).then(()=>{ma()})})}function Py(){wt("PATCH",`/things/${Rt.crudThings.idValue}`,JSON.parse(Qe.getValue()),{"if-match":xu||"*","if-equal":"skip-minimizing-merge"}).then(()=>{Rt.crudThings.toggleEdit(),wr(Rt.crudThings.idValue,null)})}async function Ny(){let e=Qe.getValue();Rt.crudThings.idValue!==void 0&&Rt.crudThings.idValue!==""?wt("PUT","/things/"+Rt.crudThings.idValue,e===""?{}:JSON.parse(e),{"if-none-match":"*"}).then(t=>{Rt.crudThings.toggleEdit(),wr(t.thingId,()=>{an([t.thingId])})}):wt("POST","/things",e===""?{}:JSON.parse(e)).then(t=>{Rt.crudThings.toggleEdit(),wr(t.thingId,()=>{an([t.thingId])})})}function Fy(e){Or(null),Rt.inputThingDefinition.value=e.target.textContent,Qe.setValue(Ct(gl[e.target.textContent]),-1)}function zy(e){if(Rt.crudThings.isEditing)return;t(),d();function t(){Rt.tbodyThingDetails.textContent="",e&&(zt(Rt.tbodyThingDetails,"thingId",!1,e.thingId,e.thingId),zt(Rt.tbodyThingDetails,"policyId",!1,e.policyId,e.policyId),zt(Rt.tbodyThingDetails,"definition",!1,e.definition??" ",e.definition??""),zt(Rt.tbodyThingDetails,"revision",!1,e._revision,e._revision),zt(Rt.tbodyThingDetails,"created",!1,e._created,e._created),zt(Rt.tbodyThingDetails,"modified",!1,e._modified,e._modified))}function d(){if(e){Rt.crudThings.idValue=e.thingId,Rt.inputThingDefinition.value=e.definition??"";let p=JSON.parse(JSON.stringify(e));delete p._revision,delete p._created,delete p._modified,delete p._context,Qe.setValue(Ct(p),-1),Qe.session.getUndoManager().reset()}else Rt.crudThings.idValue=null,Rt.inputThingDefinition.value=null,Qe.setValue(""),Qe.session.getUndoManager().reset()}}function By(e){let t=e.detail.isEditing;t&&St?wt("GET",`/things/${St.thingId}`,null,null,!0).then(h=>(xu=h.headers.get("ETag").replace("W/",""),h.json())).then(h=>{d(),p(h)}):(d(),m());function d(){Rt.buttonThingDefinitions.disabled=!t,Rt.inputThingDefinition.disabled=!t,Qe.setReadOnly(!t),Qe.renderer.setShowGutter(t)}function p(h){Rt.inputThingDefinition.value=h.definition??"",Qe.setValue(Ct(h),-1)}function m(){Rt.crudThings.idValue&&Rt.crudThings.idValue!==""?wr(Rt.crudThings.idValue,null):(Rt.inputThingDefinition.value=null,Qe.setValue(""))}}var Eu=`<!--
  ~ Copyright (c) 2022 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<div class="tab-pane container fade no-margin">
    <div class="resizable_flex_column">
        <div class="ace_container" style="flex-grow: 1;">
            <div class="script_editor" id="aceDescription"></div>
        </div>
    </div>
</div>`;function bl(e,t){let d,p,m=!1,h=t,s;return{ready:async()=>{let a=gi(document.getElementById(e.itemsId),document.getElementById(e.contentId),"WoT TD",Eu,"Generated WoT Thing Description. This requires a valid reference to a WoT Thing Model in the "+(t?"Feature":"Thing")+" definition. The Ditto environment must have WoT support enabled.");d=document.querySelector(`a[data-bs-target="#${a}"]`),d.onclick=i;let n=Math.random().toString(36).replace("0.","");document.getElementById("aceDescription").id=n,p=Dt(n,"ace/mode/json",!0)},onReferenceChanged:a=>{h&&(s=a),d&&d.classList.contains("active")?r():m=!0}};function i(){m&&(r(),m=!1)}function r(){let a=h?"/features/"+s:"";p.setValue(""),St&&(!h||s)&&wt("GET","/things/"+St.thingId+a,null,{accept:"application/td+json"}).then(n=>{p.setValue(Ct(n),-1)}).catch()}}var Tu=`<!--
  ~ Copyright (c) 2024 Contributors to the Eclipse Foundation
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0
  ~
  ~ SPDX-License-Identifier: EPL-2.0
  -->
<form class="input-group input-group-sm has-validation mb-1" autocomplete="off">
  <label class="input-group-text" hidden>Filter</label>
  <div class="btn-group dropend">
      <button type="button" class="btn btn-outline-secondary btn-sm dropdown-toggle"
          data-bs-toggle="dropdown" aria-expanded="false"></button>
      <ul id="ulFilterOptions" class="dropdown-menu">
          <input type="text" name="dropdown" class="form-control form-control-sm" placeholder="Filter entries..." spellcheck="false" autocomplete="off">
      </ul>                                    
  </div>
  <input autocomplete="false" name="hidden" type="text" style="display:none;">
  <input type="search" name="main" class="form-control form-control-sm me-1"
    placeholder="Add basic filter..." autocomplete="off" spellcheck="false"></input>
  <div class="form-check form-switch">
    <input class="form-check-input mt-2" type="checkbox" role="switch"
        data-bs-toggle="tooltip" title="Toggle advanced search">
  </div>
  <div class="invalid-feedback"></div>
</form>
<div data-bs-theme="dark">
</div>

`;var hl=class extends HTMLElement{constructor(){super();this.basicFilters=new Zi;this.mode=0;this.basicFilters.onFilterChange=this}connectedCallback(){this.innerHTML=Tu,this.mainInput=this.querySelector('input[name="main"]'),this.mainInput.addEventListener("keyup",this.mainInputChangedCallback(this)),this.mainInput.addEventListener("search",this.mainInputChangedCallback(this)),this.dropDownInput=this.querySelector('input[name="dropdown"]'),this.dropDownInput.addEventListener("keyup",this.filterDropdown(this)),this.dropDownInput.addEventListener("search",this.filterDropdown(this)),this.querySelector("button").addEventListener("click",this.onDropDownToggle(this)),this.querySelector("ul").addEventListener("click",this.filterSelectedCallback(this)),this.querySelector('input[role="switch"').addEventListener("click",this.toggleModeCallback(this))}set filterOptions(d){let p=this.querySelector("ul"),m=p.firstElementChild;p.replaceChildren(m),d.forEach(h=>{Ro(p,h.toString(),!1,JSON.stringify(h))})}get filter(){return this.validatedFilter}filterItems(d){let p=d;if(this.validatedFilter)try{p=Pt({path:this.validatedFilter,json:d})}catch(m){console.log(m.message)}return p}fillUIChips(){let d=this.querySelector('[data-bs-theme="dark"]');d.textContent="",this.basicFilters.getAllUIs().forEach(p=>d.appendChild(p))}toggleModeCallback(d){return p=>{switch(d.mode){case 0:d.mainInput.value=d.filter,d.mainInput.placeholder="Enter JSONPath to filter...",d.querySelector('[data-bs-theme="dark"]').hidden=!0,d.mode=1;break;case 1:d.mainInput.value="",d.mainInput.placeholder="Add basic filter...",d.querySelector('[data-bs-theme="dark"]').hidden=!1,d.mode=0,this.basicFilters.clear(),this.filterChanged()}}}filterSelectedCallback(d){return p=>{let m=p.target;if(m&&m.classList.contains("dropdown-item")){let h=Ie.fromJSON(JSON.parse(m.dataset.value));d.mode===0?d.basicFilters.addOrUpdate(h):d.mainInput.value=new Zi().addOrUpdate(h).createJsonPath()}d.filterChanged()}}mainInputChangedCallback(d){return p=>{if(p.type==="search"||p.key==="Enter"||p.code==="Enter")switch(d.mode){case 0:d.basicFilters.addFromString(d.mainInput.value),d.filterChanged(),d.mainInput.value="";break;case 1:try{let m=Pt({path:d.mainInput.value,json:[{_context:{topic:"test",path:"test"}}]});d.filterChanged()}catch(m){lt(!1,m.message,d.mainInput)}}}}filterDropdown(d){return p=>{d.querySelectorAll(".dropdown-menu li").forEach(m=>{let h=p.target.value.toLowerCase();m.hidden=m.textContent.toLowerCase().indexOf(h)<0})}}filterChanged(){switch(this.mode){case 0:this.validatedFilter=this.basicFilters.createJsonPath(),this.fillUIChips();break;case 1:this.validatedFilter=this.mainInput.value}this.dispatchEvent(new CustomEvent("filterChange",{composed:!0,detail:{filter:this.validatedFilter}}))}onDropDownToggle(d){return()=>{d.dropDownInput.value="",d.dropDownInput.dispatchEvent(new Event("keyup")),d.dropDownInput.focus()}}};customElements.define("table-filter",hl);var fl=!1,vl;document.addEventListener("DOMContentLoaded",async function(){kc(),await Op(),$p(),ku(),await yu(),Sp(),lu(),Xp(),await Cp(),await hu(),tu(),await ru(),Fp(),zp(),Wp(),Hp(),Gp(),Kp(),Uc(),Gc(),await Yc(),Zc(),Ac(),await Bc(),hp(),rp();let e=bl({itemsId:"tabItemsThing",contentId:"tabContentThing"},!1);Ee(e.onReferenceChanged),e.ready();let t=bl({itemsId:"tabItemsFeatures",contentId:"tabContentFeatures"},!0);va(t.onReferenceChanged),t.ready(),new Ar(document.querySelector(".dropdown-toggle"),{popperConfig:{strategy:"fixed"}}),vl=document.getElementById("mainNavbar"),vl.querySelectorAll(".nav-link").forEach(h=>{h.addEventListener("click",s=>{vl.querySelectorAll(".nav-link,.active").forEach(c=>c.classList.remove("active")),s.currentTarget.classList.add("active")})}),document.querySelectorAll(".table").forEach(h=>{h.addEventListener("click",s=>{let c=s.target;c&&c.tagName==="TD"&&(Array.from(c.parentNode.parentNode.children).forEach(o=>{o!==c.parentNode&&o.classList.remove("table-active")}),c.parentElement.classList.toggle("table-active"))})});let d=new ResizeObserver(()=>{fl=!0});document.querySelectorAll(".resizable_pane").forEach(h=>{d.observe(h),h.addEventListener("mouseup",()=>{fl&&(window.dispatchEvent(new Event("resize")),fl=!1)})});let{get:p,set:m}=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");document.querySelectorAll("input").forEach(h=>{h.addEventListener("change",s=>{s.target.classList.remove("is-invalid")}),Object.defineProperty(h,"value",{get(){return p.call(this)},set(s){return h.classList.remove("is-invalid"),m.call(this,s)}})})});})();
/*! Bundled license information:

event-source-polyfill/src/eventsource.js:
  (** @license
   * eventsource.js
   * Available under MIT License (MIT)
   * https://github.com/Yaffle/EventSource/
   *)

ace-builds/src-noconflict/ace.js:
  (*
  * based on code from:
  *
  * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
  * Available via the MIT or new BSD license.
  * see: http://github.com/jrburke/requirejs for details
  *)

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE *)

bootstrap/dist/js/bootstrap.esm.js:
  (*!
    * Bootstrap v5.3.3 (https://getbootstrap.com/)
    * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
    * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
    *)
*/
